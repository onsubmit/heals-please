(()=>{var __webpack_modules__={1921:(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Z": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7537);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3645);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, "body {\\n  font-family: georgia, arial, helvetica, sans-serif;\\n  font-size: 1em;\\n  line-height: 1.3em;\\n  margin: 0;\\n  padding: 0;\\n  background: #4e4339;\\n}\\na:link,\\na:visited {\\n  color: white;\\n  text-shadow: 1px 1px 1px #000;\\n}\\na:hover {\\n  color: #ccc;\\n  text-shadow: 1px 1px 1px #000;\\n}\\na:active {\\n  color: #aaa;\\n  text-shadow: 1px 1px 1px #000;\\n}\\n.outer {\\n  padding: 10px;\\n  min-width: 300px;\\n}\\n.bottom {\\n  position: fixed;\\n  bottom: 10px;\\n  left: 10px;\\n  width: calc(100% - 20px);\\n}\\n.intro {\\n  text-align: center;\\n  color: white;\\n  text-shadow: 1px 1px 1px #000;\\n}\\n.intro * {\\n  line-height: 1em;\\n}\\n.intro h1 {\\n  font-size: 4em;\\n}\\n.intro h2 {\\n  font-size: 2em;\\n}\\n.intro button {\\n  font-family: georgia, arial, helvetica, sans-serif;\\n  font-weight: bold;\\n  font-size: 2em;\\n  padding: 10px;\\n  margin-bottom: 30px;\\n}\\n.intro .help {\\n  color: #ccc;\\n}\\n.intro .help h5 {\\n  font-size: 1.2em;\\n  margin-bottom: 5px;\\n}\\n.intro .help table {\\n  margin-left: auto;\\n  margin-right: auto;\\n  border-spacing: 0;\\n  border-collapse: collapse;\\n}\\n.intro .help tr {\\n  border-bottom: 1px solid #bbb;\\n}\\n.intro .help td {\\n  text-align: left;\\n}\\n.intro .help td.key {\\n  text-align: right;\\n  vertical-align: top;\\n  font-weight: bold;\\n  padding: 8px;\\n}\\n.game-actions {\\n  float: right;\\n  margin: 5px;\\n}\\n.game-actions div {\\n  background: #333;\\n  padding: 3px;\\n  width: 60px;\\n  text-align: center;\\n  font-size: 0.8em;\\n  color: white;\\n  text-shadow: 1px 1px 1px #000;\\n}\\n.game-actions div:active {\\n  background: #000;\\n}\\n.boss {\\n  margin-bottom: 40px;\\n}\\n.boss-name {\\n  padding: 10px;\\n  color: white;\\n  text-shadow: 1px 1px 1px #000;\\n}\\n.raid {\\n  margin-top: 110px;\\n  position: absolute;\\n  width: 150px;\\n  min-height: 400px;\\n  z-index: 1;\\n}\\n.stats {\\n  margin-top: 110px;\\n  position: absolute;\\n  width: calc(100% - 25px);\\n  max-height: 310px;\\n  overflow-y: auto;\\n  color: #fff;\\n  border: 1px solid #000;\\n  box-shadow: 0 0 5px #000;\\n  background: #000;\\n  font-size: 12px;\\n}\\n.stats > table {\\n  width: 100%;\\n}\\n.stats > table th,\\n.stats > table td {\\n  padding: 1px 2px;\\n  white-space: nowrap;\\n  text-align: center;\\n}\\n.stats > table thead tr {\\n  background-color: #333;\\n  color: #fff;\\n  text-align: left;\\n}\\n.stats > table tbody tr:nth-of-type(even) {\\n  background-color: #222;\\n}\\n.stats > table tbody tr:nth-of-type(odd) {\\n  background-color: #111;\\n}\\n.frame {\\n  cursor: pointer;\\n  border: 1px solid #000;\\n  box-shadow: 0 0 5px #000;\\n  background: linear-gradient(to bottom, #666, #000);\\n  color: #fff;\\n  padding: 4px;\\n  border-radius: 4px;\\n}\\n.frame.thin {\\n  padding: 1px;\\n  border-radius: 1px;\\n}\\n.frame.unselectable {\\n  cursor: default;\\n}\\n.frame div {\\n  border-radius: 2px;\\n}\\n.frame.selected {\\n  border: 1px solid #fff;\\n}\\n.health-bar-background {\\n  position: relative;\\n  background: #001800;\\n  border: 1px solid #001800;\\n}\\n.health-bar {\\n  background: linear-gradient(to top right, #00c800, #009600);\\n}\\n.health-bar-text {\\n  top: 0;\\n  left: 4px;\\n  position: absolute;\\n  font-size: 16px;\\n  color: white;\\n  text-shadow: 1px 1px 1px #000;\\n}\\n.health-bar-last-heal {\\n  top: 0;\\n  right: 4px;\\n  position: absolute;\\n  text-shadow: 1px 1px 1px #000;\\n}\\n.party {\\n  width: 150px;\\n  z-index: 1;\\n}\\n.party .frame {\\n  margin: 0px 0px 10px 0px;\\n  max-width: 150px;\\n}\\n.party-member {\\n  width: 100%;\\n  max-width: 300px;\\n}\\n.party-member .health-bar {\\n  text-align: center;\\n}\\n.party-member-name {\\n  font-size: 16px;\\n  line-height: 16px;\\n  background: black;\\n  border: 1px solid black;\\n  padding: 4px;\\n}\\n.party-member-name.targeted {\\n  background: linear-gradient(to top, #a00, #300);\\n  color: white;\\n  text-shadow: 1px 1px 1px #000;\\n}\\n.party-member-health {\\n  background: red;\\n}\\n.party-member-health-bar {\\n  background: green;\\n}\\n.party-member-buffs-container,\\n.party-member-debuffs-container {\\n  position: relative;\\n}\\n.party-member-buffs,\\n.party-member-debuffs {\\n  position: absolute;\\n}\\n.party-member-buffs img,\\n.party-member-debuffs img {\\n  margin-right: 2px;\\n}\\n.party-member-buffs img:nth-last-child(1),\\n.party-member-debuffs img:nth-last-child(1) {\\n  margin: 0;\\n}\\n.party-member-buffs {\\n  right: 60px;\\n  bottom: 40px;\\n}\\n.party-member-debuffs {\\n  right: 8px;\\n  bottom: 40px;\\n}\\n.buff-renew {\\n  color: #0f0;\\n}\\na.icon {\\n  text-decoration: none;\\n}\\n.cast-bar-background {\\n  background: #181800;\\n  border-radius: 4px;\\n  position: relative;\\n  height: 24px;\\n}\\n.cast-bar {\\n  background: linear-gradient(to top, #db7500, #682a00);\\n  border-radius: 4px;\\n  width: 0;\\n  text-align: center;\\n  font-size: 16px;\\n  line-height: 24px;\\n}\\n.cast-bar.gcd {\\n  background: linear-gradient(to top, #757575, #2a2a2a);\\n}\\n.cast-bar-text {\\n  left: 4px;\\n  font-size: 16px;\\n  color: white;\\n  text-shadow: 1px 1px 1px #000;\\n  top: 0;\\n  left: 50%;\\n  position: absolute;\\n  transform: translate(-50%, 0);\\n  line-height: 24px;\\n  visibility: hidden;\\n}\\n.cast-bar-text.casting,\\n.cast-bar-text.velocity-animating {\\n  visibility: visible;\\n}\\n.cast-bar-cancel {\\n  position: absolute;\\n  top: 2px;\\n  right: 4px;\\n  opacity: 0.5;\\n}\\n.cast-bar-cancel img {\\n  width: 20px;\\n  height: 20px;\\n}\\n.mana-bar-container {\\n  margin-bottom: 10px;\\n}\\n.mana-bar-background {\\n  background: #000018;\\n  border-radius: 4px;\\n  position: relative;\\n  height: 24px;\\n}\\n.mana-bar {\\n  background: linear-gradient(to top, #000096, #0000c8);\\n  border-radius: 4px;\\n  width: 100%;\\n  opacity: 1;\\n  text-align: center;\\n  font-size: 16px;\\n  line-height: 24px;\\n}\\ndiv.mana-regen-bar {\\n  height: 2px;\\n  width: 0;\\n  background: #666;\\n  opacity: 0.5;\\n  border-radius: 0;\\n  border-right: 1px solid #fff;\\n  position: absolute;\\n  bottom: 0;\\n}\\n.mana-bar-text {\\n  left: 4px;\\n  font-size: 16px;\\n  color: white;\\n  text-shadow: 1px 1px 1px #000;\\n  top: 0;\\n  left: 50%;\\n  position: absolute;\\n  transform: translate(-50%, 0);\\n  line-height: 24px;\\n}\\n.center-link {\\n  text-align: center;\\n}\\n.toggleStats {\\n  text-align: center;\\n  margin-bottom: 20px;\\n}\\n.actions {\\n  text-align: center;\\n}\\n.action {\\n  position: relative;\\n  width: 60px;\\n  height: 60px;\\n  vertical-align: top;\\n  margin-right: 10px;\\n  display: inline-block;\\n  background: #161616;\\n  border: 1px solid #ccc;\\n  box-shadow: inset 1px 1px 5px #808080, 0 0 10px #000000;\\n  color: white;\\n  text-shadow: 1px 1px 1px #000;\\n}\\n.action:active {\\n  background: black;\\n}\\n.action:nth-last-child(1) {\\n  margin: 0;\\n}\\n.action-name {\\n  padding-top: 15px;\\n}\\n.shortcut {\\n  position: absolute;\\n  top: 0;\\n  right: 4px;\\n  opacity: 0.5;\\n  color: white;\\n  text-shadow: 1px 1px 1px #000;\\n}\\n.background {\\n  text-shadow: 1px 1px 1px #000;\\n}\\n.absolute-center {\\n  top: 0;\\n  left: 50%;\\n  position: absolute;\\n  transform: translate(-50%, 0);\\n}\\n.white-text-with-background {\\n  color: white;\\n  text-shadow: 1px 1px 1px #000;\\n}\\n.nowrap {\\n  white-space: nowrap;\\n}\\n.bright-green {\\n  color: #0f0;\\n}\\n.bold {\\n  font-weight: bold;\\n}\\n.no-select {\\n  -webkit-touch-callout: none;\\n  -webkit-user-select: none;\\n  -khtml-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n.disabled {\\n  pointer-events: none;\\n  opacity: 0.5;\\n}\\n", "",{"version":3,"sources":["webpack://./css/app.less"],"names":[],"mappings":"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","sourcesContent":["body {\\n  font-family: georgia, arial, helvetica, sans-serif;\\n  font-size: 1em;\\n  line-height: 1.3em;\\n  margin: 0;\\n  padding: 0;\\n  background: rgb(78, 67, 57);\\n}\\n\\na:link,\\na:visited {\\n  .white-text-with-background();\\n}\\n\\na:hover {\\n  color: #ccc;\\n  .background();\\n}\\n\\na:active {\\n  color: #aaa;\\n  .background();\\n}\\n\\n.outer {\\n  padding: 10px;\\n  min-width: 300px;\\n}\\n\\n.bottom {\\n  position: fixed;\\n  bottom: 10px;\\n  left: 10px;\\n  width: calc(~\\"100% - 20px\\");\\n}\\n\\n.intro {\\n  text-align: center;\\n  .white-text-with-background();\\n\\n  * {\\n    line-height: 1em;\\n  }\\n\\n  h1 {\\n    font-size: 4em;\\n  }\\n\\n  h2 {\\n    font-size: 2em;\\n  }\\n\\n  button {\\n    font-family: georgia, arial, helvetica, sans-serif;\\n    font-weight: bold;\\n    font-size: 2em;\\n    padding: 10px;\\n    margin-bottom: 30px;\\n  }\\n\\n  .help {\\n    color: #ccc;\\n\\n    h5 {\\n      font-size: 1.2em;\\n      margin-bottom: 5px;\\n    }\\n\\n    table {\\n      margin-left: auto;\\n      margin-right: auto;\\n      border-spacing: 0;\\n      border-collapse: collapse;\\n    }\\n\\n    tr {\\n      border-bottom: 1px solid #bbb;\\n    }\\n\\n    td {\\n      text-align: left;\\n    }\\n\\n    td.key {\\n      text-align: right;\\n      vertical-align: top;\\n      font-weight: bold;\\n      padding: 8px;\\n    }\\n  }\\n}\\n\\n.game-actions {\\n  float: right;\\n  margin: 5px;\\n\\n  div {\\n    background: #333;\\n    padding: 3px;\\n    width: 60px;\\n    text-align: center;\\n    font-size: 0.8em;\\n    .white-text-with-background();\\n  }\\n\\n  div:active {\\n    background: #000;\\n  }\\n}\\n\\n.boss {\\n  margin-bottom: 40px;\\n}\\n\\n.boss-name {\\n  padding: 10px;\\n  .white-text-with-background();\\n}\\n\\n.raid {\\n  margin-top: 110px;\\n  position: absolute;\\n  width: 150px;\\n  min-height: 400px;\\n  z-index: 1;\\n}\\n\\n.stats {\\n  margin-top: 110px;\\n  position: absolute;\\n  width: calc(100% - 25px);\\n  max-height: 310px;\\n  overflow-y: auto;\\n  color: #fff;\\n  border: 1px solid #000;\\n  box-shadow: 0 0 5px #000;\\n  background: #000;\\n  font-size: 12px;\\n\\n  > table {\\n    width: 100%;\\n\\n    th,\\n    td {\\n      padding: 1px 2px;\\n      white-space: nowrap;\\n      text-align: center;\\n    }\\n\\n    thead tr {\\n      background-color: #333;\\n      color: #fff;\\n      text-align: left;\\n    }\\n\\n    tbody tr:nth-of-type(even) {\\n      background-color: #222;\\n    }\\n\\n    tbody tr:nth-of-type(odd) {\\n      background-color: #111;\\n    }\\n  }\\n}\\n\\n.frame {\\n  cursor: pointer;\\n  border: 1px solid #000;\\n  box-shadow: 0 0 5px #000;\\n  background: linear-gradient(to bottom, #666, #000);\\n  color: #fff;\\n  padding: 4px;\\n  border-radius: 4px;\\n\\n  &.thin {\\n    padding: 1px;\\n    border-radius: 1px;\\n  }\\n\\n  &.unselectable {\\n    cursor: default;\\n  }\\n\\n  div {\\n    border-radius: 2px;\\n  }\\n}\\n\\n.frame.selected {\\n  border: 1px solid #fff;\\n}\\n\\n.health-bar-background {\\n  position: relative;\\n  background: rgb(0, 24, 0);\\n  border: 1px solid rgb(0, 24, 0);\\n}\\n\\n.health-bar {\\n  background: linear-gradient(to top right, rgb(0, 200, 0), rgb(0, 150, 0));\\n}\\n\\n.health-bar-text {\\n  top: 0;\\n  left: 4px;\\n  position: absolute;\\n\\n  font-size: 16px;\\n  .white-text-with-background();\\n}\\n\\n.health-bar-last-heal {\\n  top: 0;\\n  right: 4px;\\n  position: absolute;\\n\\n  .background();\\n}\\n\\n.party {\\n  width: 150px;\\n  z-index: 1;\\n\\n  .frame {\\n    margin: 0px 0px 10px 0px;\\n    max-width: 150px;\\n  }\\n}\\n\\n.party-member {\\n  width: 100%;\\n  max-width: 300px;\\n\\n  .health-bar {\\n    text-align: center;\\n  }\\n}\\n\\n.party-member-name {\\n  font-size: 16px;\\n  line-height: 16px;\\n  background: black;\\n  border: 1px solid black;\\n  padding: 4px;\\n\\n  &.targeted {\\n    background: linear-gradient(to top, #a00, #300);\\n    .white-text-with-background();\\n  }\\n}\\n\\n.party-member-health {\\n  background: red;\\n}\\n\\n.party-member-health-bar {\\n  background: green;\\n}\\n\\n.party-member-buffs-container,\\n.party-member-debuffs-container {\\n  position: relative;\\n}\\n\\n.party-member-buffs,\\n.party-member-debuffs {\\n  position: absolute;\\n\\n  img {\\n    margin-right: 2px;\\n  }\\n\\n  img:nth-last-child(1) {\\n    margin: 0;\\n  }\\n}\\n\\n.party-member-buffs {\\n  right: 60px;\\n  bottom: 40px;\\n}\\n\\n.party-member-debuffs {\\n  right: 8px;\\n  bottom: 40px;\\n}\\n\\n.buff-renew {\\n  color: #0f0;\\n}\\n\\na.icon {\\n  text-decoration: none;\\n}\\n\\n.cast-bar-background {\\n  background: rgb(24, 24, 0);\\n  border-radius: 4px;\\n  position: relative;\\n  height: 24px;\\n}\\n\\n.cast-bar {\\n  background: linear-gradient(to top, rgb(219, 117, 0), rgb(104, 42, 0));\\n  border-radius: 4px;\\n  width: 0;\\n\\n  text-align: center;\\n  font-size: 16px;\\n  line-height: 24px;\\n\\n  &.gcd {\\n    background: linear-gradient(to top, rgb(117, 117, 117), rgb(42, 42, 42));\\n  }\\n}\\n\\n.cast-bar-text {\\n  .health-bar-text();\\n  .absolute-center();\\n  line-height: 24px;\\n  visibility: hidden;\\n\\n  &.casting,\\n  &.velocity-animating {\\n    visibility: visible;\\n  }\\n}\\n\\n.cast-bar-cancel {\\n  position: absolute;\\n  top: 2px;\\n  right: 4px;\\n  opacity: 0.5;\\n\\n  img {\\n    width: 20px;\\n    height: 20px;\\n  }\\n}\\n\\n.mana-bar-container {\\n  margin-bottom: 10px;\\n}\\n\\n.mana-bar-background {\\n  background: rgb(0, 0, 24);\\n  border-radius: 4px;\\n  position: relative;\\n  height: 24px;\\n}\\n\\n.mana-bar {\\n  background: linear-gradient(to top, rgb(0, 0, 150), rgb(0, 0, 200));\\n  border-radius: 4px;\\n  width: 100%;\\n  opacity: 1;\\n\\n  text-align: center;\\n  font-size: 16px;\\n  line-height: 24px;\\n}\\n\\ndiv.mana-regen-bar {\\n  height: 2px;\\n  width: 0;\\n  background: #666;\\n  opacity: 0.5;\\n  border-radius: 0;\\n  border-right: 1px solid #fff;\\n  position: absolute;\\n  bottom: 0;\\n}\\n\\n.mana-bar-text {\\n  .health-bar-text();\\n  .absolute-center();\\n  line-height: 24px;\\n}\\n\\n.center-link {\\n  text-align: center;\\n}\\n\\n.toggleStats {\\n  .center-link();\\n  margin-bottom: 20px;\\n}\\n\\n.actions {\\n  text-align: center;\\n}\\n\\n.action {\\n  position: relative;\\n  width: 60px;\\n  height: 60px;\\n  vertical-align: top;\\n  margin-right: 10px;\\n  display: inline-block;\\n  background: rgb(22, 22, 22);\\n  border: 1px solid #ccc;\\n  box-shadow: inset 1px 1px 5px rgb(128, 128, 128), 0 0 10px rgb(0, 0, 0);\\n  .white-text-with-background();\\n}\\n\\n.action:active {\\n  background: black;\\n}\\n\\n.action:nth-last-child(1) {\\n  margin: 0;\\n}\\n\\n.action-name {\\n  padding-top: 15px;\\n}\\n\\n.shortcut {\\n  position: absolute;\\n  top: 0;\\n  right: 4px;\\n  opacity: 0.5;\\n  .white-text-with-background();\\n}\\n\\n.background {\\n  text-shadow: 1px 1px 1px #000;\\n}\\n\\n.absolute-center {\\n  top: 0;\\n  left: 50%;\\n  position: absolute;\\n  transform: translate(-50%, 0);\\n}\\n\\n.white-text-with-background {\\n  color: white;\\n  .background();\\n}\\n\\n.nowrap {\\n  white-space: nowrap;\\n}\\n\\n.bright-green {\\n  color: #0f0;\\n}\\n\\n.bold {\\n  font-weight: bold;\\n}\\n\\n.no-select {\\n  -webkit-touch-callout: none;\\n  -webkit-user-select: none;\\n  -khtml-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n\\n.disabled {\\n  pointer-events: none;\\n  opacity: 0.5;\\n}\\n"],"sourceRoot":""}]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUFBWSxNQUFNLEtBQUssVUFBVSxXQUFXLEtBQUssS0FBSyxVQUFVLFVBQVUsVUFBVSxXQUFXLEtBQUssS0FBSyxXQUFXLFdBQVcsV0FBVyxNQUFNLEtBQUssV0FBVyxLQUFLLEtBQUssVUFBVSxLQUFLLEtBQUssVUFBVSxLQUFLLEtBQUssWUFBWSxXQUFXLFVBQVUsVUFBVSxXQUFXLEtBQUssS0FBSyxXQUFXLEtBQUssTUFBTSxZQUFZLFdBQVcsS0FBSyxNQUFNLFlBQVksV0FBVyxXQUFXLFdBQVcsS0FBSyxNQUFNLFlBQVksS0FBSyxNQUFNLFlBQVksS0FBSyxNQUFNLFlBQVksV0FBVyxXQUFXLFVBQVUsS0FBSyxNQUFNLFVBQVUsVUFBVSxLQUFLLEtBQUssV0FBVyxVQUFVLFVBQVUsV0FBVyxXQUFXLFdBQVcsV0FBVyxNQUFNLEtBQUssV0FBVyxLQUFLLE1BQU0sV0FBVyxNQUFNLE1BQU0sVUFBVSxXQUFXLFdBQVcsTUFBTSxNQUFNLFdBQVcsV0FBVyxVQUFVLFdBQVcsVUFBVSxNQUFNLE1BQU0sV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFVBQVUsV0FBVyxXQUFXLFdBQVcsVUFBVSxNQUFNLEtBQUssVUFBVSxNQUFNLE1BQU0sWUFBWSxXQUFXLFdBQVcsTUFBTSxLQUFLLFlBQVksVUFBVSxXQUFXLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE1BQU0sTUFBTSxVQUFVLFdBQVcsV0FBVyxXQUFXLFVBQVUsVUFBVSxXQUFXLE1BQU0sTUFBTSxVQUFVLFdBQVcsTUFBTSxNQUFNLFVBQVUsTUFBTSxLQUFLLFlBQVksTUFBTSxNQUFNLFdBQVcsTUFBTSxNQUFNLFdBQVcsV0FBVyxXQUFXLE1BQU0sTUFBTSxXQUFXLE1BQU0sTUFBTSxVQUFVLFVBQVUsV0FBVyxVQUFVLFdBQVcsV0FBVyxNQUFNLE1BQU0sVUFBVSxVQUFVLFdBQVcsWUFBWSxNQUFNLE1BQU0sVUFBVSxVQUFVLE1BQU0sTUFBTSxXQUFXLFdBQVcsTUFBTSxNQUFNLFVBQVUsV0FBVyxNQUFNLE1BQU0sV0FBVyxNQUFNLE1BQU0sVUFBVSxXQUFXLFdBQVcsV0FBVyxVQUFVLE1BQU0sTUFBTSxXQUFXLFdBQVcsV0FBVyxNQUFNLE1BQU0sVUFBVSxNQUFNLE1BQU0sV0FBVyxNQUFNLE9BQU8sV0FBVyxNQUFNLE9BQU8sV0FBVyxNQUFNLE9BQU8sV0FBVyxNQUFNLE9BQU8sVUFBVSxNQUFNLE1BQU0sVUFBVSxVQUFVLE1BQU0sTUFBTSxVQUFVLFVBQVUsTUFBTSxNQUFNLFVBQVUsTUFBTSxNQUFNLFdBQVcsTUFBTSxNQUFNLFdBQVcsV0FBVyxXQUFXLFVBQVUsTUFBTSxNQUFNLFdBQVcsV0FBVyxVQUFVLFdBQVcsVUFBVSxXQUFXLE1BQU0sTUFBTSxXQUFXLE1BQU0sTUFBTSxXQUFXLFVBQVUsV0FBVyxXQUFXLFVBQVUsVUFBVSxXQUFXLFdBQVcsWUFBWSxXQUFXLE1BQU0sT0FBTyxXQUFXLE1BQU0sTUFBTSxXQUFXLFVBQVUsVUFBVSxVQUFVLE1BQU0sTUFBTSxVQUFVLFVBQVUsTUFBTSxNQUFNLFdBQVcsTUFBTSxNQUFNLFdBQVcsV0FBVyxXQUFXLFVBQVUsTUFBTSxNQUFNLFdBQVcsV0FBVyxVQUFVLFVBQVUsV0FBVyxVQUFVLFdBQVcsTUFBTSxNQUFNLFVBQVUsVUFBVSxXQUFXLFVBQVUsV0FBVyxXQUFXLFdBQVcsVUFBVSxNQUFNLE1BQU0sV0FBVyxVQUFVLFdBQVcsV0FBVyxVQUFVLFVBQVUsV0FBVyxXQUFXLFlBQVksTUFBTSxNQUFNLFdBQVcsTUFBTSxNQUFNLFdBQVcsV0FBVyxNQUFNLE1BQU0sV0FBVyxNQUFNLE1BQU0sV0FBVyxVQUFVLFVBQVUsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLE1BQU0sTUFBTSxXQUFXLE1BQU0sTUFBTSxVQUFVLE1BQU0sTUFBTSxXQUFXLE1BQU0sTUFBTSxXQUFXLFVBQVUsVUFBVSxVQUFVLFdBQVcsV0FBVyxNQUFNLE1BQU0sV0FBVyxNQUFNLE1BQU0sVUFBVSxVQUFVLFdBQVcsV0FBVyxNQUFNLE1BQU0sVUFBVSxXQUFXLE1BQU0sTUFBTSxXQUFXLE1BQU0s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Qiw4QkFBOEIsdUJBQXVCLHVCQUF1QixpQkFBaUIsR0FBRyxlQUFlLHdFQUF3RSx1QkFBdUIsZ0JBQWdCLGVBQWUseUJBQXlCLG9CQUFvQixzQkFBc0IsR0FBRyx3QkFBd0IsZ0JBQWdCLGFBQWEscUJBQXFCLGlCQUFpQixxQkFBcUIsaUNBQWlDLHVCQUF1QixjQUFjLEdBQUcsb0JBQW9CLHVCQUF1Qix1QkFBdUIsc0JBQXNCLEdBQUcsa0JBQWtCLHVCQUF1QixHQUFHLGtCQUFrQixtQkFBbUIsd0JBQXdCLEdBQUcsY0FBYyx1QkFBdUIsR0FBRyxhQUFhLHVCQUF1QixnQkFBZ0IsaUJBQWlCLHdCQUF3Qix1QkFBdUIsMEJBQTBCLGdDQUFnQywyQkFBMkIsNEVBQTRFLGtDQUFrQyxHQUFHLG9CQUFvQixzQkFBc0IsR0FBRywrQkFBK0IsY0FBYyxHQUFHLGtCQUFrQixzQkFBc0IsR0FBRyxlQUFlLHVCQUF1QixXQUFXLGVBQWUsaUJBQWlCLGtDQUFrQyxHQUFHLGlCQUFpQixrQ0FBa0MsR0FBRyxzQkFBc0IsV0FBVyxjQUFjLHVCQUF1QixrQ0FBa0MsR0FBRyxpQ0FBaUMsaUJBQWlCLGtCQUFrQixHQUFHLGFBQWEsd0JBQXdCLEdBQUcsbUJBQW1CLGdCQUFnQixHQUFHLFdBQVcsc0JBQXNCLEdBQUcsZ0JBQWdCLGdDQUFnQyw4QkFBOEIsNkJBQTZCLDJCQUEyQiwwQkFBMEIsc0JBQXNCLEdBQUcsZUFBZSx5QkFBeUIsaUJBQWlCLEdBQUcscUJBQXFCO0FBQ3BpakI7QUFDQSxpRUFBZSx1QkFBdUIsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWxzLXBsZWFzZS8uL2Nzcy9hcHAubGVzcz9mM2VhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiYm9keSB7XFxuICBmb250LWZhbWlseTogZ2VvcmdpYSwgYXJpYWwsIGhlbHZldGljYSwgc2Fucy1zZXJpZjtcXG4gIGZvbnQtc2l6ZTogMWVtO1xcbiAgbGluZS1oZWlnaHQ6IDEuM2VtO1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZzogMDtcXG4gIGJhY2tncm91bmQ6ICM0ZTQzMzk7XFxufVxcbmE6bGluayxcXG5hOnZpc2l0ZWQge1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgdGV4dC1zaGFkb3c6IDFweCAxcHggMXB4ICMwMDA7XFxufVxcbmE6aG92ZXIge1xcbiAgY29sb3I6ICNjY2M7XFxuICB0ZXh0LXNoYWRvdzogMXB4IDFweCAxcHggIzAwMDtcXG59XFxuYTphY3RpdmUge1xcbiAgY29sb3I6ICNhYWE7XFxuICB0ZXh0LXNoYWRvdzogMXB4IDFweCAxcHggIzAwMDtcXG59XFxuLm91dGVyIHtcXG4gIHBhZGRpbmc6IDEwcHg7XFxuICBtaW4td2lkdGg6IDMwMHB4O1xcbn1cXG4uYm90dG9tIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIGJvdHRvbTogMTBweDtcXG4gIGxlZnQ6IDEwcHg7XFxuICB3aWR0aDogY2FsYygxMDAlIC0gMjBweCk7XFxufVxcbi5pbnRybyB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBjb2xvcjogd2hpdGU7XFxuICB0ZXh0LXNoYWRvdzogMXB4IDFweCAxcHggIzAwMDtcXG59XFxuLmludHJvICoge1xcbiAgbGluZS1oZWlnaHQ6IDFlbTtcXG59XFxuLmludHJvIGgxIHtcXG4gIGZvbnQtc2l6ZTogNGVtO1xcbn1cXG4uaW50cm8gaDIge1xcbiAgZm9udC1zaXplOiAyZW07XFxufVxcbi5pbnRybyBidXR0b24ge1xcbiAgZm9udC1mYW1pbHk6IGdlb3JnaWEsIGFyaWFsLCBoZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XFxuICBmb250LXdlaWdodDogYm9sZDtcXG4gIGZvbnQtc2l6ZTogMmVtO1xcbiAgcGFkZGluZzogMTBweDtcXG4gIG1hcmdpbi1ib3R0b206IDMwcHg7XFxufVxcbi5pbnRybyAuaGVscCB7XFxuICBjb2xvcjogI2NjYztcXG59XFxuLmludHJvIC5oZWxwIGg1IHtcXG4gIGZvbnQtc2l6ZTogMS4yZW07XFxuICBtYXJnaW4tYm90dG9tOiA1cHg7XFxufVxcbi5pbnRybyAuaGVscCB0YWJsZSB7XFxuICBtYXJnaW4tbGVmdDogYXV0bztcXG4gIG1hcmdpbi1yaWdodDogYXV0bztcXG4gIGJvcmRlci1zcGFjaW5nOiAwO1xcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcXG59XFxuLmludHJvIC5oZWxwIHRyIHtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjYmJiO1xcbn1cXG4uaW50cm8gLmhlbHAgdGQge1xcbiAgdGV4dC1hbGlnbjogbGVmdDtcXG59XFxuLmludHJvIC5oZWxwIHRkLmtleSB7XFxuICB0ZXh0LWFsaWduOiByaWdodDtcXG4gIHZlcnRpY2FsLWFsaWduOiB0b3A7XFxuICBmb250LXdlaWdodDogYm9sZDtcXG4gIHBhZGRpbmc6IDhweDtcXG59XFxuLmdhbWUtYWN0aW9ucyB7XFxuICBmbG9hdDogcmlnaHQ7XFxuICBtYXJnaW46IDVweDtcXG59XFxuLmdhbWUtYWN0aW9ucyBkaXYge1xcbiAgYmFja2dyb3VuZDogIzMzMztcXG4gIHBhZGRpbmc6IDNweDtcXG4gIHdpZHRoOiA2MHB4O1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgZm9udC1zaXplOiAwLjhlbTtcXG4gIGNvbG9yOiB3aGl0ZTtcXG4gIHRleHQtc2hhZG93OiAxcHggMXB4IDFweCAjMDAwO1xcbn1cXG4uZ2FtZS1hY3Rpb25zIGRpdjphY3RpdmUge1xcbiAgYmFja2dyb3VuZDogIzAwMDtcXG59XFxuLmJvc3Mge1xcbiAgbWFyZ2luLWJvdHRvbTogNDBweDtcXG59XFxuLmJvc3MtbmFtZSB7XFxuICBwYWRkaW5nOiAxMHB4O1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgdGV4dC1zaGFkb3c6IDFweCAxcHggMXB4ICMwMDA7XFxufVxcbi5yYWlkIHtcXG4gIG1hcmdpbi10b3A6IDExMHB4O1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgd2lkdGg6IDE1MHB4O1xcbiAgbWluLWhlaWdodDogNDAwcHg7XFxuICB6LWluZGV4OiAxO1xcbn1cXG4uc3RhdHMge1xcbiAgbWFyZ2luLXRvcDogMTEwcHg7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB3aWR0aDogY2FsYygxMDAlIC0gMjVweCk7XFxuICBtYXgtaGVpZ2h0OiAzMTBweDtcXG4gIG92ZXJmbG93LXk6IGF1dG87XFxuICBjb2xvcjogI2ZmZjtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICMwMDA7XFxuICBib3gtc2hhZG93OiAwIDAgNXB4ICMwMDA7XFxuICBiYWNrZ3JvdW5kOiAjMDAwO1xcbiAgZm9udC1zaXplOiAxMnB4O1xcbn1cXG4uc3RhdHMgPiB0YWJsZSB7XFxuICB3aWR0aDogMTAwJTtcXG59XFxuLnN0YXRzID4gdGFibGUgdGgsXFxuLnN0YXRzID4gdGFibGUgdGQge1xcbiAgcGFkZGluZzogMXB4IDJweDtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcbi5zdGF0cyA+IHRhYmxlIHRoZWFkIHRyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMzMzM7XFxuICBjb2xvcjogI2ZmZjtcXG4gIHRleHQtYWxpZ246IGxlZnQ7XFxufVxcbi5zdGF0cyA+IHRhYmxlIHRib2R5IHRyOm50aC1vZi10eXBlKGV2ZW4pIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMyMjI7XFxufVxcbi5zdGF0cyA+IHRhYmxlIHRib2R5IHRyOm50aC1vZi10eXBlKG9kZCkge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzExMTtcXG59XFxuLmZyYW1lIHtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICMwMDA7XFxuICBib3gtc2hhZG93OiAwIDAgNXB4ICMwMDA7XFxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjNjY2LCAjMDAwKTtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgcGFkZGluZzogNHB4O1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbn1cXG4uZnJhbWUudGhpbiB7XFxuICBwYWRkaW5nOiAxcHg7XFxuICBib3JkZXItcmFkaXVzOiAxcHg7XFxufVxcbi5mcmFtZS51bnNlbGVjdGFibGUge1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbn1cXG4uZnJhbWUgZGl2IHtcXG4gIGJvcmRlci1yYWRpdXM6IDJweDtcXG59XFxuLmZyYW1lLnNlbGVjdGVkIHtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNmZmY7XFxufVxcbi5oZWFsdGgtYmFyLWJhY2tncm91bmQge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgYmFja2dyb3VuZDogIzAwMTgwMDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICMwMDE4MDA7XFxufVxcbi5oZWFsdGgtYmFyIHtcXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byB0b3AgcmlnaHQsICMwMGM4MDAsICMwMDk2MDApO1xcbn1cXG4uaGVhbHRoLWJhci10ZXh0IHtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IDRweDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGZvbnQtc2l6ZTogMTZweDtcXG4gIGNvbG9yOiB3aGl0ZTtcXG4gIHRleHQtc2hhZG93OiAxcHggMXB4IDFweCAjMDAwO1xcbn1cXG4uaGVhbHRoLWJhci1sYXN0LWhlYWwge1xcbiAgdG9wOiAwO1xcbiAgcmlnaHQ6IDRweDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRleHQtc2hhZG93OiAxcHggMXB4IDFweCAjMDAwO1xcbn1cXG4ucGFydHkge1xcbiAgd2lkdGg6IDE1MHB4O1xcbiAgei1pbmRleDogMTtcXG59XFxuLnBhcnR5IC5mcmFtZSB7XFxuICBtYXJnaW46IDBweCAwcHggMTBweCAwcHg7XFxuICBtYXgtd2lkdGg6IDE1MHB4O1xcbn1cXG4ucGFydHktbWVtYmVyIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgbWF4LXdpZHRoOiAzMDBweDtcXG59XFxuLnBhcnR5LW1lbWJlciAuaGVhbHRoLWJhciB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcbi5wYXJ0eS1tZW1iZXItbmFtZSB7XFxuICBmb250LXNpemU6IDE2cHg7XFxuICBsaW5lLWhlaWdodDogMTZweDtcXG4gIGJhY2tncm91bmQ6IGJsYWNrO1xcbiAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XFxuICBwYWRkaW5nOiA0cHg7XFxufVxcbi5wYXJ0eS1tZW1iZXItbmFtZS50YXJnZXRlZCB7XFxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gdG9wLCAjYTAwLCAjMzAwKTtcXG4gIGNvbG9yOiB3aGl0ZTtcXG4gIHRleHQtc2hhZG93OiAxcHggMXB4IDFweCAjMDAwO1xcbn1cXG4ucGFydHktbWVtYmVyLWhlYWx0aCB7XFxuICBiYWNrZ3JvdW5kOiByZWQ7XFxufVxcbi5wYXJ0eS1tZW1iZXItaGVhbHRoLWJhciB7XFxuICBiYWNrZ3JvdW5kOiBncmVlbjtcXG59XFxuLnBhcnR5LW1lbWJlci1idWZmcy1jb250YWluZXIsXFxuLnBhcnR5LW1lbWJlci1kZWJ1ZmZzLWNvbnRhaW5lciB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcbi5wYXJ0eS1tZW1iZXItYnVmZnMsXFxuLnBhcnR5LW1lbWJlci1kZWJ1ZmZzIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG59XFxuLnBhcnR5LW1lbWJlci1idWZmcyBpbWcsXFxuLnBhcnR5LW1lbWJlci1kZWJ1ZmZzIGltZyB7XFxuICBtYXJnaW4tcmlnaHQ6IDJweDtcXG59XFxuLnBhcnR5LW1lbWJlci1idWZmcyBpbWc6bnRoLWxhc3QtY2hpbGQoMSksXFxuLnBhcnR5LW1lbWJlci1kZWJ1ZmZzIGltZzpudGgtbGFzdC1jaGlsZCgxKSB7XFxuICBtYXJnaW46IDA7XFxufVxcbi5wYXJ0eS1tZW1iZXItYnVmZnMge1xcbiAgcmlnaHQ6IDYwcHg7XFxuICBib3R0b206IDQwcHg7XFxufVxcbi5wYXJ0eS1tZW1iZXItZGVidWZmcyB7XFxuICByaWdodDogOHB4O1xcbiAgYm90dG9tOiA0MHB4O1xcbn1cXG4uYnVmZi1yZW5ldyB7XFxuICBjb2xvcjogIzBmMDtcXG59XFxuYS5pY29uIHtcXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG59XFxuLmNhc3QtYmFyLWJhY2tncm91bmQge1xcbiAgYmFja2dyb3VuZDogIzE4MTgwMDtcXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGhlaWdodDogMjRweDtcXG59XFxuLmNhc3QtYmFyIHtcXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byB0b3AsICNkYjc1MDAsICM2ODJhMDApO1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgd2lkdGg6IDA7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBmb250LXNpemU6IDE2cHg7XFxuICBsaW5lLWhlaWdodDogMjRweDtcXG59XFxuLmNhc3QtYmFyLmdjZCB7XFxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gdG9wLCAjNzU3NTc1LCAjMmEyYTJhKTtcXG59XFxuLmNhc3QtYmFyLXRleHQge1xcbiAgbGVmdDogNHB4O1xcbiAgZm9udC1zaXplOiAxNnB4O1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgdGV4dC1zaGFkb3c6IDFweCAxcHggMXB4ICMwMDA7XFxuICB0b3A6IDA7XFxuICBsZWZ0OiA1MCU7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAwKTtcXG4gIGxpbmUtaGVpZ2h0OiAyNHB4O1xcbiAgdmlzaWJpbGl0eTogaGlkZGVuO1xcbn1cXG4uY2FzdC1iYXItdGV4dC5jYXN0aW5nLFxcbi5jYXN0LWJhci10ZXh0LnZlbG9jaXR5LWFuaW1hdGluZyB7XFxuICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xcbn1cXG4uY2FzdC1iYXItY2FuY2VsIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMnB4O1xcbiAgcmlnaHQ6IDRweDtcXG4gIG9wYWNpdHk6IDAuNTtcXG59XFxuLmNhc3QtYmFyLWNhbmNlbCBpbWcge1xcbiAgd2lkdGg6IDIwcHg7XFxuICBoZWlnaHQ6IDIwcHg7XFxufVxcbi5tYW5hLWJhci1jb250YWluZXIge1xcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcXG59XFxuLm1hbmEtYmFyLWJhY2tncm91bmQge1xcbiAgYmFja2dyb3VuZDogIzAwMDAxODtcXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGhlaWdodDogMjRweDtcXG59XFxuLm1hbmEtYmFyIHtcXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byB0b3AsICMwMDAwOTYsICMwMDAwYzgpO1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgd2lkdGg6IDEwMCU7XFxuICBvcGFjaXR5OiAxO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgZm9udC1zaXplOiAxNnB4O1xcbiAgbGluZS1oZWlnaHQ6IDI0cHg7XFxufVxcbmRpdi5tYW5hLXJlZ2VuLWJhciB7XFxuICBoZWlnaHQ6IDJweDtcXG4gIHdpZHRoOiAwO1xcbiAgYmFja2dyb3VuZDogIzY2NjtcXG4gIG9wYWNpdHk6IDAuNTtcXG4gIGJvcmRlci1yYWRpdXM6IDA7XFxuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZmZmO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYm90dG9tOiAwO1xcbn1cXG4ubWFuYS1iYXItdGV4dCB7XFxuICBsZWZ0OiA0cHg7XFxuICBmb250LXNpemU6IDE2cHg7XFxuICBjb2xvcjogd2hpdGU7XFxuICB0ZXh0LXNoYWRvdzogMXB4IDFweCAxcHggIzAwMDtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IDUwJTtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIDApO1xcbiAgbGluZS1oZWlnaHQ6IDI0cHg7XFxufVxcbi5jZW50ZXItbGluayB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcbi50b2dnbGVTdGF0cyB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xcbn1cXG4uYWN0aW9ucyB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcbi5hY3Rpb24ge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgd2lkdGg6IDYwcHg7XFxuICBoZWlnaHQ6IDYwcHg7XFxuICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgYmFja2dyb3VuZDogIzE2MTYxNjtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XFxuICBib3gtc2hhZG93OiBpbnNldCAxcHggMXB4IDVweCAjODA4MDgwLCAwIDAgMTBweCAjMDAwMDAwO1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgdGV4dC1zaGFkb3c6IDFweCAxcHggMXB4ICMwMDA7XFxufVxcbi5hY3Rpb246YWN0aXZlIHtcXG4gIGJhY2tncm91bmQ6IGJsYWNrO1xcbn1cXG4uYWN0aW9uOm50aC1sYXN0LWNoaWxkKDEpIHtcXG4gIG1hcmdpbjogMDtcXG59XFxuLmFjdGlvbi1uYW1lIHtcXG4gIHBhZGRpbmctdG9wOiAxNXB4O1xcbn1cXG4uc2hvcnRjdXQge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgcmlnaHQ6IDRweDtcXG4gIG9wYWNpdHk6IDAuNTtcXG4gIGNvbG9yOiB3aGl0ZTtcXG4gIHRleHQtc2hhZG93OiAxcHggMXB4IDFweCAjMDAwO1xcbn1cXG4uYmFja2dyb3VuZCB7XFxuICB0ZXh0LXNoYWRvdzogMXB4IDFweCAxcHggIzAwMDtcXG59XFxuLmFic29sdXRlLWNlbnRlciB7XFxuICB0b3A6IDA7XFxuICBsZWZ0OiA1MCU7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAwKTtcXG59XFxuLndoaXRlLXRleHQtd2l0aC1iYWNrZ3JvdW5kIHtcXG4gIGNvbG9yOiB3aGl0ZTtcXG4gIHRleHQtc2hhZG93OiAxcHggMXB4IDFweCAjMDAwO1xcbn1cXG4ubm93cmFwIHtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxufVxcbi5icmlnaHQtZ3JlZW4ge1xcbiAgY29sb3I6ICMwZjA7XFxufVxcbi5ib2xkIHtcXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xcbn1cXG4ubm8tc2VsZWN0IHtcXG4gIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTtcXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAta2h0bWwtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xcbiAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxufVxcbi5kaXNhYmxlZCB7XFxuICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG4gIG9wYWNpdHk6IDAuNTtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vY3NzL2FwcC5sZXNzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0VBQ0Usa0RBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxTQUFBO0VBQ0EsVUFBQTtFQUNBLG1CQUFBO0FBQ0Y7QUFFQTs7RUE0YUUsWUFBQTtFQVhBLDZCQUFBO0FBOVpGO0FBRUE7RUFDRSxXQUFBO0VBMlpBLDZCQUFBO0FBMVpGO0FBR0E7RUFDRSxXQUFBO0VBc1pBLDZCQUFBO0FBdFpGO0FBSUE7RUFDRSxhQUFBO0VBQ0EsZ0JBQUE7QUFGRjtBQUtBO0VBQ0UsZUFBQTtFQUNBLFlBQUE7RUFDQSxVQUFBO0VBQ0Esd0JBQUE7QUFIRjtBQU1BO0VBQ0Usa0JBQUE7RUFnWkEsWUFBQTtFQVhBLDZCQUFBO0FBdllGO0FBQ0E7RUFLSSxnQkFBQTtBQUhKO0FBRkE7RUFTSSxjQUFBO0FBSko7QUFMQTtFQWFJLGNBQUE7QUFMSjtBQVJBO0VBaUJJLGtEQUFBO0VBQ0EsaUJBQUE7RUFDQSxjQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0FBTko7QUFmQTtFQXlCSSxXQUFBO0FBUEo7QUFsQkE7RUE0Qk0sZ0JBQUE7RUFDQSxrQkFBQTtBQVBOO0FBdEJBO0VBaUNNLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLHlCQUFBO0FBUk47QUE1QkE7RUF3Q00sNkJBQUE7QUFUTjtBQS9CQTtFQTRDTSxnQkFBQTtBQVZOO0FBbENBO0VBZ0RNLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxpQkFBQTtFQUNBLFlBQUE7QUFYTjtBQWdCQTtFQUNFLFlBQUE7RUFDQSxXQUFBO0FBZEY7QUFZQTtFQUtJLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0VBZ1ZGLFlBQUE7RUFYQSw2QkFBQTtBQWpWRjtBQUdBO0VBY0ksZ0JBQUE7QUFkSjtBQWtCQTtFQUNFLG1CQUFBO0FBaEJGO0FBbUJBO0VBQ0UsYUFBQTtFQWtVQSxZQUFBO0VBWEEsNkJBQUE7QUF0VUY7QUFtQkE7RUFDRSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0VBQ0EsVUFBQTtBQWpCRjtBQW9CQTtFQUNFLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSx3QkFBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxXQUFBO0VBQ0Esc0JBQUE7RUFDQSx3QkFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtBQWxCRjtBQVFBO0VBYUksV0FBQTtBQWxCSjtBQUtBOztFQWlCTSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7QUFsQk47QUFEQTtFQXVCTSxzQkFBQTtFQUNBLFdBQUE7RUFDQSxnQkFBQTtBQW5CTjtBQU5BO0VBNkJNLHNCQUFBO0FBcEJOO0FBVEE7RUFpQ00sc0JBQUE7QUFyQk47QUEwQkE7RUFDRSxlQUFBO0VBQ0Esc0JBQUE7RUFDQSx3QkFBQTtFQUNBLGtEQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtBQXhCRjtBQTBCRTtFQUNFLFlBQUE7RUFDQSxrQkFBQTtBQXhCSjtBQTJCRTtFQUNFLGVBQUE7QUF6Qko7QUFVQTtFQW1CSSxrQkFBQTtBQTFCSjtBQThCQTtFQUNFLHNCQUFBO0FBNUJGO0FBK0JBO0VBQ0Usa0JBQUE7RUFDQSxtQkFBQTtFQUNBLHlCQUFBO0FBN0JGO0FBZ0NBO0VBQ0UsMkRBQUE7QUE5QkY7QUFpQ0E7RUFDRSxNQUFBO0VBQ0EsU0FBQTtFQUNBLGtCQUFBO0VBRUEsZUFBQTtFQXNPQSxZQUFBO0VBWEEsNkJBQUE7QUF6UEY7QUFrQ0E7RUFDRSxNQUFBO0VBQ0EsVUFBQTtFQUNBLGtCQUFBO0VBb05BLDZCQUFBO0FBblBGO0FBb0NBO0VBQ0UsWUFBQTtFQUNBLFVBQUE7QUFsQ0Y7QUFnQ0E7RUFLSSx3QkFBQTtFQUNBLGdCQUFBO0FBbENKO0FBc0NBO0VBQ0UsV0FBQTtFQUNBLGdCQUFBO0FBcENGO0FBa0NBO0VBS0ksa0JBQUE7QUFwQ0o7QUF3Q0E7RUFDRSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxpQkFBQTtFQUNBLHVCQUFBO0VBQ0EsWUFBQTtBQXRDRjtBQXdDRTtFQUNFLCtDQUFBO0VBK0xGLFlBQUE7RUFYQSw2QkFBQTtBQXhORjtBQXlDQTtFQUNFLGVBQUE7QUF2Q0Y7QUEwQ0E7RUFDRSxpQkFBQTtBQXhDRjtBQTJDQTs7RUFFRSxrQkFBQTtBQXpDRjtBQTRDQTs7RUFFRSxrQkFBQTtBQTFDRjtBQXdDQTs7RUFLSSxpQkFBQTtBQXpDSjtBQW9DQTs7RUFTSSxTQUFBO0FBekNKO0FBNkNBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7QUEzQ0Y7QUE4Q0E7RUFDRSxVQUFBO0VBQ0EsWUFBQTtBQTVDRjtBQStDQTtFQUNFLFdBQUE7QUE3Q0Y7QUFnREE7RUFDRSxxQkFBQTtBQTlDRjtBQWlEQTtFQUNFLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7QUEvQ0Y7QUFrREE7RUFDRSxxREFBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtFQUVBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0FBakRGO0FBbURFO0VBQ0UscURBQUE7QUFqREo7QUFxREE7RUFoSEUsU0FBQTtFQUdBLGVBQUE7RUFzT0EsWUFBQTtFQVhBLDZCQUFBO0VBSUEsTUFBQTtFQUNBLFNBQUE7RUFDQSxrQkFBQTtFQUNBLDZCQUFBO0VBbEhBLGlCQUFBO0VBQ0Esa0JBQUE7QUE3Q0Y7QUErQ0U7O0VBRUUsbUJBQUE7QUE3Q0o7QUFpREE7RUFDRSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxVQUFBO0VBQ0EsWUFBQTtBQS9DRjtBQTJDQTtFQU9JLFdBQUE7RUFDQSxZQUFBO0FBL0NKO0FBbURBO0VBQ0UsbUJBQUE7QUFqREY7QUFvREE7RUFDRSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0FBbERGO0FBcURBO0VBQ0UscURBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxVQUFBO0VBRUEsa0JBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7QUFwREY7QUF1REE7RUFDRSxXQUFBO0VBQ0EsUUFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsNEJBQUE7RUFDQSxrQkFBQTtFQUNBLFNBQUE7QUFyREY7QUF3REE7RUF6S0UsU0FBQTtFQUdBLGVBQUE7RUFzT0EsWUFBQTtFQVhBLDZCQUFBO0VBSUEsTUFBQTtFQUNBLFNBQUE7RUFDQSxrQkFBQTtFQUNBLDZCQUFBO0VBekRBLGlCQUFBO0FBaERGO0FBbURBO0VBQ0Usa0JBQUE7QUFqREY7QUFvREE7RUFIRSxrQkFBQTtFQUtBLG1CQUFBO0FBbERGO0FBcURBO0VBQ0Usa0JBQUE7QUFuREY7QUFzREE7RUFDRSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLHFCQUFBO0VBQ0EsbUJBQUE7RUFDQSxzQkFBQTtFQUNBLHVEQUFBO0VBb0NBLFlBQUE7RUFYQSw2QkFBQTtBQTNFRjtBQXNEQTtFQUNFLGlCQUFBO0FBcERGO0FBdURBO0VBQ0UsU0FBQTtBQXJERjtBQXdEQTtFQUNFLGlCQUFBO0FBdERGO0FBeURBO0VBQ0Usa0JBQUE7RUFDQSxNQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7RUFnQkEsWUFBQTtFQVhBLDZCQUFBO0FBMURGO0FBeURBO0VBQ0UsNkJBQUE7QUF2REY7QUEwREE7RUFDRSxNQUFBO0VBQ0EsU0FBQTtFQUNBLGtCQUFBO0VBQ0EsNkJBQUE7QUF4REY7QUEyREE7RUFDRSxZQUFBO0VBWEEsNkJBQUE7QUE3Q0Y7QUE0REE7RUFDRSxtQkFBQTtBQTFERjtBQTZEQTtFQUNFLFdBQUE7QUEzREY7QUE4REE7RUFDRSxpQkFBQTtBQTVERjtBQStEQTtFQUNFLDJCQUFBO0VBQ0EseUJBQUE7RUFDQSx3QkFBQTtFQUNBLHNCQUFBO0VBQ0EscUJBQUE7RUFDQSxpQkFBQTtBQTdERjtBQWdFQTtFQUNFLG9CQUFBO0VBQ0EsWUFBQTtBQTlERlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCJib2R5IHtcXG4gIGZvbnQtZmFtaWx5OiBnZW9yZ2lhLCBhcmlhbCwgaGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xcbiAgZm9udC1zaXplOiAxZW07XFxuICBsaW5lLWhlaWdodDogMS4zZW07XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwO1xcbiAgYmFja2dyb3VuZDogcmdiKDc4LCA2NywgNTcpO1xcbn1cXG5cXG5hOmxpbmssXFxuYTp2aXNpdGVkIHtcXG4gIC53aGl0ZS10ZXh0LXdpdGgtYmFja2dyb3VuZCgpO1xcbn1cXG5cXG5hOmhvdmVyIHtcXG4gIGNvbG9yOiAjY2NjO1xcbiAgLmJhY2tncm91bmQoKTtcXG59XFxuXFxuYTphY3RpdmUge1xcbiAgY29sb3I6ICNhYWE7XFxuICAuYmFja2dyb3VuZCgpO1xcbn1cXG5cXG4ub3V0ZXIge1xcbiAgcGFkZGluZzogMTBweDtcXG4gIG1pbi13aWR0aDogMzAwcHg7XFxufVxcblxcbi5ib3R0b20ge1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgYm90dG9tOiAxMHB4O1xcbiAgbGVmdDogMTBweDtcXG4gIHdpZHRoOiBjYWxjKH5cXFwiMTAwJSAtIDIwcHhcXFwiKTtcXG59XFxuXFxuLmludHJvIHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIC53aGl0ZS10ZXh0LXdpdGgtYmFja2dyb3VuZCgpO1xcblxcbiAgKiB7XFxuICAgIGxpbmUtaGVpZ2h0OiAxZW07XFxuICB9XFxuXFxuICBoMSB7XFxuICAgIGZvbnQtc2l6ZTogNGVtO1xcbiAgfVxcblxcbiAgaDIge1xcbiAgICBmb250LXNpemU6IDJlbTtcXG4gIH1cXG5cXG4gIGJ1dHRvbiB7XFxuICAgIGZvbnQtZmFtaWx5OiBnZW9yZ2lhLCBhcmlhbCwgaGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xcbiAgICBmb250LXdlaWdodDogYm9sZDtcXG4gICAgZm9udC1zaXplOiAyZW07XFxuICAgIHBhZGRpbmc6IDEwcHg7XFxuICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XFxuICB9XFxuXFxuICAuaGVscCB7XFxuICAgIGNvbG9yOiAjY2NjO1xcblxcbiAgICBoNSB7XFxuICAgICAgZm9udC1zaXplOiAxLjJlbTtcXG4gICAgICBtYXJnaW4tYm90dG9tOiA1cHg7XFxuICAgIH1cXG5cXG4gICAgdGFibGUge1xcbiAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xcbiAgICAgIG1hcmdpbi1yaWdodDogYXV0bztcXG4gICAgICBib3JkZXItc3BhY2luZzogMDtcXG4gICAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xcbiAgICB9XFxuXFxuICAgIHRyIHtcXG4gICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2JiYjtcXG4gICAgfVxcblxcbiAgICB0ZCB7XFxuICAgICAgdGV4dC1hbGlnbjogbGVmdDtcXG4gICAgfVxcblxcbiAgICB0ZC5rZXkge1xcbiAgICAgIHRleHQtYWxpZ246IHJpZ2h0O1xcbiAgICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7XFxuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxuICAgICAgcGFkZGluZzogOHB4O1xcbiAgICB9XFxuICB9XFxufVxcblxcbi5nYW1lLWFjdGlvbnMge1xcbiAgZmxvYXQ6IHJpZ2h0O1xcbiAgbWFyZ2luOiA1cHg7XFxuXFxuICBkaXYge1xcbiAgICBiYWNrZ3JvdW5kOiAjMzMzO1xcbiAgICBwYWRkaW5nOiAzcHg7XFxuICAgIHdpZHRoOiA2MHB4O1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgIGZvbnQtc2l6ZTogMC44ZW07XFxuICAgIC53aGl0ZS10ZXh0LXdpdGgtYmFja2dyb3VuZCgpO1xcbiAgfVxcblxcbiAgZGl2OmFjdGl2ZSB7XFxuICAgIGJhY2tncm91bmQ6ICMwMDA7XFxuICB9XFxufVxcblxcbi5ib3NzIHtcXG4gIG1hcmdpbi1ib3R0b206IDQwcHg7XFxufVxcblxcbi5ib3NzLW5hbWUge1xcbiAgcGFkZGluZzogMTBweDtcXG4gIC53aGl0ZS10ZXh0LXdpdGgtYmFja2dyb3VuZCgpO1xcbn1cXG5cXG4ucmFpZCB7XFxuICBtYXJnaW4tdG9wOiAxMTBweDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHdpZHRoOiAxNTBweDtcXG4gIG1pbi1oZWlnaHQ6IDQwMHB4O1xcbiAgei1pbmRleDogMTtcXG59XFxuXFxuLnN0YXRzIHtcXG4gIG1hcmdpbi10b3A6IDExMHB4O1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgd2lkdGg6IGNhbGMoMTAwJSAtIDI1cHgpO1xcbiAgbWF4LWhlaWdodDogMzEwcHg7XFxuICBvdmVyZmxvdy15OiBhdXRvO1xcbiAgY29sb3I6ICNmZmY7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjMDAwO1xcbiAgYm94LXNoYWRvdzogMCAwIDVweCAjMDAwO1xcbiAgYmFja2dyb3VuZDogIzAwMDtcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG5cXG4gID4gdGFibGUge1xcbiAgICB3aWR0aDogMTAwJTtcXG5cXG4gICAgdGgsXFxuICAgIHRkIHtcXG4gICAgICBwYWRkaW5nOiAxcHggMnB4O1xcbiAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICB9XFxuXFxuICAgIHRoZWFkIHRyIHtcXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xcbiAgICAgIGNvbG9yOiAjZmZmO1xcbiAgICAgIHRleHQtYWxpZ246IGxlZnQ7XFxuICAgIH1cXG5cXG4gICAgdGJvZHkgdHI6bnRoLW9mLXR5cGUoZXZlbikge1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyMjI7XFxuICAgIH1cXG5cXG4gICAgdGJvZHkgdHI6bnRoLW9mLXR5cGUob2RkKSB7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzExMTtcXG4gICAgfVxcbiAgfVxcbn1cXG5cXG4uZnJhbWUge1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgYm9yZGVyOiAxcHggc29saWQgIzAwMDtcXG4gIGJveC1zaGFkb3c6IDAgMCA1cHggIzAwMDtcXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICM2NjYsICMwMDApO1xcbiAgY29sb3I6ICNmZmY7XFxuICBwYWRkaW5nOiA0cHg7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxuXFxuICAmLnRoaW4ge1xcbiAgICBwYWRkaW5nOiAxcHg7XFxuICAgIGJvcmRlci1yYWRpdXM6IDFweDtcXG4gIH1cXG5cXG4gICYudW5zZWxlY3RhYmxlIHtcXG4gICAgY3Vyc29yOiBkZWZhdWx0O1xcbiAgfVxcblxcbiAgZGl2IHtcXG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xcbiAgfVxcbn1cXG5cXG4uZnJhbWUuc2VsZWN0ZWQge1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2ZmZjtcXG59XFxuXFxuLmhlYWx0aC1iYXItYmFja2dyb3VuZCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBiYWNrZ3JvdW5kOiByZ2IoMCwgMjQsIDApO1xcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiKDAsIDI0LCAwKTtcXG59XFxuXFxuLmhlYWx0aC1iYXIge1xcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHRvcCByaWdodCwgcmdiKDAsIDIwMCwgMCksIHJnYigwLCAxNTAsIDApKTtcXG59XFxuXFxuLmhlYWx0aC1iYXItdGV4dCB7XFxuICB0b3A6IDA7XFxuICBsZWZ0OiA0cHg7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuXFxuICBmb250LXNpemU6IDE2cHg7XFxuICAud2hpdGUtdGV4dC13aXRoLWJhY2tncm91bmQoKTtcXG59XFxuXFxuLmhlYWx0aC1iYXItbGFzdC1oZWFsIHtcXG4gIHRvcDogMDtcXG4gIHJpZ2h0OiA0cHg7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuXFxuICAuYmFja2dyb3VuZCgpO1xcbn1cXG5cXG4ucGFydHkge1xcbiAgd2lkdGg6IDE1MHB4O1xcbiAgei1pbmRleDogMTtcXG5cXG4gIC5mcmFtZSB7XFxuICAgIG1hcmdpbjogMHB4IDBweCAxMHB4IDBweDtcXG4gICAgbWF4LXdpZHRoOiAxNTBweDtcXG4gIH1cXG59XFxuXFxuLnBhcnR5LW1lbWJlciB7XFxuICB3aWR0aDogMTAwJTtcXG4gIG1heC13aWR0aDogMzAwcHg7XFxuXFxuICAuaGVhbHRoLWJhciB7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIH1cXG59XFxuXFxuLnBhcnR5LW1lbWJlci1uYW1lIHtcXG4gIGZvbnQtc2l6ZTogMTZweDtcXG4gIGxpbmUtaGVpZ2h0OiAxNnB4O1xcbiAgYmFja2dyb3VuZDogYmxhY2s7XFxuICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcXG4gIHBhZGRpbmc6IDRweDtcXG5cXG4gICYudGFyZ2V0ZWQge1xcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gdG9wLCAjYTAwLCAjMzAwKTtcXG4gICAgLndoaXRlLXRleHQtd2l0aC1iYWNrZ3JvdW5kKCk7XFxuICB9XFxufVxcblxcbi5wYXJ0eS1tZW1iZXItaGVhbHRoIHtcXG4gIGJhY2tncm91bmQ6IHJlZDtcXG59XFxuXFxuLnBhcnR5LW1lbWJlci1oZWFsdGgtYmFyIHtcXG4gIGJhY2tncm91bmQ6IGdyZWVuO1xcbn1cXG5cXG4ucGFydHktbWVtYmVyLWJ1ZmZzLWNvbnRhaW5lcixcXG4ucGFydHktbWVtYmVyLWRlYnVmZnMtY29udGFpbmVyIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuLnBhcnR5LW1lbWJlci1idWZmcyxcXG4ucGFydHktbWVtYmVyLWRlYnVmZnMge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcblxcbiAgaW1nIHtcXG4gICAgbWFyZ2luLXJpZ2h0OiAycHg7XFxuICB9XFxuXFxuICBpbWc6bnRoLWxhc3QtY2hpbGQoMSkge1xcbiAgICBtYXJnaW46IDA7XFxuICB9XFxufVxcblxcbi5wYXJ0eS1tZW1iZXItYnVmZnMge1xcbiAgcmlnaHQ6IDYwcHg7XFxuICBib3R0b206IDQwcHg7XFxufVxcblxcbi5wYXJ0eS1tZW1iZXItZGVidWZmcyB7XFxuICByaWdodDogOHB4O1xcbiAgYm90dG9tOiA0MHB4O1xcbn1cXG5cXG4uYnVmZi1yZW5ldyB7XFxuICBjb2xvcjogIzBmMDtcXG59XFxuXFxuYS5pY29uIHtcXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG59XFxuXFxuLmNhc3QtYmFyLWJhY2tncm91bmQge1xcbiAgYmFja2dyb3VuZDogcmdiKDI0LCAyNCwgMCk7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBoZWlnaHQ6IDI0cHg7XFxufVxcblxcbi5jYXN0LWJhciB7XFxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gdG9wLCByZ2IoMjE5LCAxMTcsIDApLCByZ2IoMTA0LCA0MiwgMCkpO1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgd2lkdGg6IDA7XFxuXFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBmb250LXNpemU6IDE2cHg7XFxuICBsaW5lLWhlaWdodDogMjRweDtcXG5cXG4gICYuZ2NkIHtcXG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHRvcCwgcmdiKDExNywgMTE3LCAxMTcpLCByZ2IoNDIsIDQyLCA0MikpO1xcbiAgfVxcbn1cXG5cXG4uY2FzdC1iYXItdGV4dCB7XFxuICAuaGVhbHRoLWJhci10ZXh0KCk7XFxuICAuYWJzb2x1dGUtY2VudGVyKCk7XFxuICBsaW5lLWhlaWdodDogMjRweDtcXG4gIHZpc2liaWxpdHk6IGhpZGRlbjtcXG5cXG4gICYuY2FzdGluZyxcXG4gICYudmVsb2NpdHktYW5pbWF0aW5nIHtcXG4gICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcXG4gIH1cXG59XFxuXFxuLmNhc3QtYmFyLWNhbmNlbCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDJweDtcXG4gIHJpZ2h0OiA0cHg7XFxuICBvcGFjaXR5OiAwLjU7XFxuXFxuICBpbWcge1xcbiAgICB3aWR0aDogMjBweDtcXG4gICAgaGVpZ2h0OiAyMHB4O1xcbiAgfVxcbn1cXG5cXG4ubWFuYS1iYXItY29udGFpbmVyIHtcXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XFxufVxcblxcbi5tYW5hLWJhci1iYWNrZ3JvdW5kIHtcXG4gIGJhY2tncm91bmQ6IHJnYigwLCAwLCAyNCk7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBoZWlnaHQ6IDI0cHg7XFxufVxcblxcbi5tYW5hLWJhciB7XFxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gdG9wLCByZ2IoMCwgMCwgMTUwKSwgcmdiKDAsIDAsIDIwMCkpO1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgd2lkdGg6IDEwMCU7XFxuICBvcGFjaXR5OiAxO1xcblxcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgZm9udC1zaXplOiAxNnB4O1xcbiAgbGluZS1oZWlnaHQ6IDI0cHg7XFxufVxcblxcbmRpdi5tYW5hLXJlZ2VuLWJhciB7XFxuICBoZWlnaHQ6IDJweDtcXG4gIHdpZHRoOiAwO1xcbiAgYmFja2dyb3VuZDogIzY2NjtcXG4gIG9wYWNpdHk6IDAuNTtcXG4gIGJvcmRlci1yYWRpdXM6IDA7XFxuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZmZmO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYm90dG9tOiAwO1xcbn1cXG5cXG4ubWFuYS1iYXItdGV4dCB7XFxuICAuaGVhbHRoLWJhci10ZXh0KCk7XFxuICAuYWJzb2x1dGUtY2VudGVyKCk7XFxuICBsaW5lLWhlaWdodDogMjRweDtcXG59XFxuXFxuLmNlbnRlci1saW5rIHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuXFxuLnRvZ2dsZVN0YXRzIHtcXG4gIC5jZW50ZXItbGluaygpO1xcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcXG59XFxuXFxuLmFjdGlvbnMge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG5cXG4uYWN0aW9uIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHdpZHRoOiA2MHB4O1xcbiAgaGVpZ2h0OiA2MHB4O1xcbiAgdmVydGljYWwtYWxpZ246IHRvcDtcXG4gIG1hcmdpbi1yaWdodDogMTBweDtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIGJhY2tncm91bmQ6IHJnYigyMiwgMjIsIDIyKTtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XFxuICBib3gtc2hhZG93OiBpbnNldCAxcHggMXB4IDVweCByZ2IoMTI4LCAxMjgsIDEyOCksIDAgMCAxMHB4IHJnYigwLCAwLCAwKTtcXG4gIC53aGl0ZS10ZXh0LXdpdGgtYmFja2dyb3VuZCgpO1xcbn1cXG5cXG4uYWN0aW9uOmFjdGl2ZSB7XFxuICBiYWNrZ3JvdW5kOiBibGFjaztcXG59XFxuXFxuLmFjdGlvbjpudGgtbGFzdC1jaGlsZCgxKSB7XFxuICBtYXJnaW46IDA7XFxufVxcblxcbi5hY3Rpb24tbmFtZSB7XFxuICBwYWRkaW5nLXRvcDogMTVweDtcXG59XFxuXFxuLnNob3J0Y3V0IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMDtcXG4gIHJpZ2h0OiA0cHg7XFxuICBvcGFjaXR5OiAwLjU7XFxuICAud2hpdGUtdGV4dC13aXRoLWJhY2tncm91bmQoKTtcXG59XFxuXFxuLmJhY2tncm91bmQge1xcbiAgdGV4dC1zaGFkb3c6IDFweCAxcHggMXB4ICMwMDA7XFxufVxcblxcbi5hYnNvbHV0ZS1jZW50ZXIge1xcbiAgdG9wOiAwO1xcbiAgbGVmdDogNTAlO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgMCk7XFxufVxcblxcbi53aGl0ZS10ZXh0LXdpdGgtYmFja2dyb3VuZCB7XFxuICBjb2xvcjogd2hpdGU7XFxuICAuYmFja2dyb3VuZCgpO1xcbn1cXG5cXG4ubm93cmFwIHtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxufVxcblxcbi5icmlnaHQtZ3JlZW4ge1xcbiAgY29sb3I6ICMwZjA7XFxufVxcblxcbi5ib2xkIHtcXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xcbn1cXG5cXG4ubm8tc2VsZWN0IHtcXG4gIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTtcXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAta2h0bWwtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xcbiAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxufVxcblxcbi5kaXNhYmxlZCB7XFxuICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG4gIG9wYWNpdHk6IDAuNTtcXG59XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1921\n')},3645:module=>{"use strict";eval('\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = "";\n      var needLayer = typeof item[5] !== "undefined";\n\n      if (item[4]) {\n        content += "@supports (".concat(item[4], ") {");\n      }\n\n      if (item[2]) {\n        content += "@media ".concat(item[2], " {");\n      }\n\n      if (needLayer) {\n        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");\n      }\n\n      content += cssWithMappingToString(item);\n\n      if (needLayer) {\n        content += "}";\n      }\n\n      if (item[2]) {\n        content += "}";\n      }\n\n      if (item[4]) {\n        content += "}";\n      }\n\n      return content;\n    }).join("");\n  }; // import a list of modules into the list\n\n\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === "string") {\n      modules = [[null, modules, undefined]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n\n      if (typeof layer !== "undefined") {\n        if (typeof item[5] === "undefined") {\n          item[5] = layer;\n        } else {\n          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");\n          item[5] = layer;\n        }\n      }\n\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");\n          item[2] = media;\n        }\n      }\n\n      if (supports) {\n        if (!item[4]) {\n          item[4] = "".concat(supports);\n        } else {\n          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");\n          item[4] = supports;\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzY0NS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCOztBQUVqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFEQUFxRDtBQUNyRDs7QUFFQTtBQUNBLGdEQUFnRDtBQUNoRDs7QUFFQTtBQUNBLHFGQUFxRjtBQUNyRjs7QUFFQTs7QUFFQTtBQUNBLHFCQUFxQjtBQUNyQjs7QUFFQTtBQUNBLHFCQUFxQjtBQUNyQjs7QUFFQTtBQUNBLHFCQUFxQjtBQUNyQjs7QUFFQTtBQUNBLEtBQUs7QUFDTCxLQUFLOzs7QUFHTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHNCQUFzQixpQkFBaUI7QUFDdkM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxxQkFBcUIscUJBQXFCO0FBQzFDOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Ysc0ZBQXNGLHFCQUFxQjtBQUMzRztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLGlEQUFpRCxxQkFBcUI7QUFDdEU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixzREFBc0QscUJBQXFCO0FBQzNFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWxzLXBsZWFzZS8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanM/MjRmYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gXCJcIjtcbiAgICAgIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2YgaXRlbVs1XSAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKTtcbiAgICAgIH1cblxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuXG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiBpKG1vZHVsZXMsIG1lZGlhLCBkZWR1cGUsIHN1cHBvcnRzLCBsYXllcikge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgdW5kZWZpbmVkXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2tdWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBsYXllciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW1bNV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHN1cHBvcnRzKSB7XG4gICAgICAgIGlmICghaXRlbVs0XSkge1xuICAgICAgICAgIGl0ZW1bNF0gPSBcIlwiLmNvbmNhdChzdXBwb3J0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzRdID0gc3VwcG9ydHM7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3645\n')},7537:module=>{"use strict";eval('\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (typeof btoa === "function") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);\n    var sourceMapping = "/*# ".concat(data, " */");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return "/*# sourceURL=".concat(cssMapping.sourceRoot || "").concat(source, " */");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join("\\n");\n  }\n\n  return [content].join("\\n");\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzUzNy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1REFBdUQsY0FBYztBQUNyRTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHMtcGxlYXNlLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanM/YWYxMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8IFwiXCIpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7537\n')},9687:(module,__unused_webpack_exports,__webpack_require__)=>{eval('var ___EXPOSE_LOADER_IMPORT___ = __webpack_require__(8527);\nvar ___EXPOSE_LOADER_GET_GLOBAL_THIS___ = __webpack_require__(7672);\nvar ___EXPOSE_LOADER_GLOBAL_THIS___ = ___EXPOSE_LOADER_GET_GLOBAL_THIS___;\nif (typeof ___EXPOSE_LOADER_GLOBAL_THIS___["ko"] === \'undefined\') ___EXPOSE_LOADER_GLOBAL_THIS___["ko"] = ___EXPOSE_LOADER_IMPORT___;\nmodule.exports = ___EXPOSE_LOADER_IMPORT___;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTY4Ny5qcyIsIm1hcHBpbmdzIjoiQUFBQSxpQ0FBaUMsbUJBQU8sQ0FBQyxJQUF3QjtBQUNqRSwwQ0FBMEMsbUJBQU8sQ0FBQyxJQUFzRDtBQUN4RztBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFscy1wbGVhc2UvLi9ub2RlX21vZHVsZXMva25vY2tvdXQvYnVpbGQvb3V0cHV0L2tub2Nrb3V0LWxhdGVzdC1leHBvc2VkLmpzP2M5ZGIiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fX0VYUE9TRV9MT0FERVJfSU1QT1JUX19fID0gcmVxdWlyZShcIi0hLi9rbm9ja291dC1sYXRlc3QuanNcIik7XG52YXIgX19fRVhQT1NFX0xPQURFUl9HRVRfR0xPQkFMX1RISVNfX18gPSByZXF1aXJlKFwiLi4vLi4vLi4vZXhwb3NlLWxvYWRlci9kaXN0L3J1bnRpbWUvZ2V0R2xvYmFsVGhpcy5qc1wiKTtcbnZhciBfX19FWFBPU0VfTE9BREVSX0dMT0JBTF9USElTX19fID0gX19fRVhQT1NFX0xPQURFUl9HRVRfR0xPQkFMX1RISVNfX187XG5pZiAodHlwZW9mIF9fX0VYUE9TRV9MT0FERVJfR0xPQkFMX1RISVNfX19bXCJrb1wiXSA9PT0gJ3VuZGVmaW5lZCcpIF9fX0VYUE9TRV9MT0FERVJfR0xPQkFMX1RISVNfX19bXCJrb1wiXSA9IF9fX0VYUE9TRV9MT0FERVJfSU1QT1JUX19fO1xubW9kdWxlLmV4cG9ydHMgPSBfX19FWFBPU0VfTE9BREVSX0lNUE9SVF9fXztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9687\n')},7672:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\n// eslint-disable-next-line func-names\nmodule.exports = function () {\n  if (typeof globalThis === "object") {\n    return globalThis;\n  }\n\n  var g;\n\n  try {\n    // This works if eval is allowed (see CSP)\n    // eslint-disable-next-line no-new-func\n    g = this || new Function("return this")();\n  } catch (e) {\n    // This works if the window reference is available\n    if (typeof window === "object") {\n      return window;\n    } // This works if the self reference is available\n\n\n    if (typeof self === "object") {\n      return self;\n    } // This works if the global reference is available\n\n\n    if (typeof __webpack_require__.g !== "undefined") {\n      return __webpack_require__.g;\n    }\n  }\n\n  return g;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzY3Mi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLE1BQU07OztBQUdOO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTixlQUFlLHFCQUFNO0FBQ3JCLGFBQWEscUJBQU07QUFDbkI7QUFDQTs7QUFFQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFscy1wbGVhc2UvLi9ub2RlX21vZHVsZXMvZXhwb3NlLWxvYWRlci9kaXN0L3J1bnRpbWUvZ2V0R2xvYmFsVGhpcy5qcz82MGI4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gXCJvYmplY3RcIikge1xuICAgIHJldHVybiBnbG9iYWxUaGlzO1xuICB9XG5cbiAgdmFyIGc7XG5cbiAgdHJ5IHtcbiAgICAvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcbiAgICBnID0gdGhpcyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgcmV0dXJuIHdpbmRvdztcbiAgICB9IC8vIFRoaXMgd29ya3MgaWYgdGhlIHNlbGYgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXG5cbiAgICBpZiAodHlwZW9mIHNlbGYgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0gLy8gVGhpcyB3b3JrcyBpZiB0aGUgZ2xvYmFsIHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblxuXG4gICAgaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJldHVybiBnbG9iYWw7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGc7XG59KCk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7672\n')},6807:module=>{eval('// Module\nvar code = "\x3c!-- ko if: showIntro --\x3e\\r\\n<div class=\\"outer\\">\\r\\n    <div class=\\"intro\\">\\r\\n        <h1>Heals, please?</h1>\\r\\n        <h2>An MMO healing simulator</h2>\\r\\n        <div>\\r\\n            <button type=\\"button\\" data-bind=\\"click: joinGroupButton_onClick\\">Join group</button>\\r\\n        </div>\\r\\n        <div class=\\"help\\">\\r\\n            <h5>Keyboard shortcuts</h4>\\r\\n            <table>\\r\\n                <tbody>\\r\\n                    <tr>\\r\\n                        <td class=\\"key\\">1-5</td>\\r\\n                        <td>Cast heal</td>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                        <td class=\\"key\\">Esc</td>\\r\\n                        <td>Cancel cast</td>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                        <td class=\\"key\\">Space</td>\\r\\n                        <td>Cast previous</td>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                        <td class=\\"key\\">QWERT</td>\\r\\n                        <td>Target party member</td>\\r\\n                    </tr>\\r\\n                </tbody>\\r\\n            </table>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\x3c!-- /ko --\x3e\\r\\n\x3c!-- ko ifnot: showIntro --\x3e\\r\\n<div class=\\"outer no-select\\">\\r\\n    \x3c!-- ko if: showStats --\x3e\\r\\n    <div class=\\"stats\\">\\r\\n        <table>\\r\\n            <thead>\\r\\n                <tr>\\r\\n                    <th>Heal</th>\\r\\n                    <th>#</th>\\r\\n                    <th>Crits</th>\\r\\n                    <th>Total</th>\\r\\n                    <th>Overheal</th>\\r\\n                    <th>Efficiency</th>\\r\\n                </tr>\\r\\n            </thead>\\r\\n            <tbody data-bind=\\"foreach: stats.healStats\\">\\r\\n                <td data-bind=\\"text: name\\"></td>\\r\\n                <td data-bind=\\"text: numHeals\\"></td>\\r\\n                <td data-bind=\\"text: numCrits\\"></td>\\r\\n                <td data-bind=\\"text: total\\"></td>\\r\\n                <td data-bind=\\"text: overheal\\"></td>\\r\\n                <td data-bind=\\"text: efficiency\\"></td>\\r\\n            </tbody>\\r\\n        </table>\\r\\n    </div>\\r\\n    \x3c!-- /ko --\x3e\\r\\n    \x3c!-- ko ifnot: showStats --\x3e\\r\\n    <div class=\\"raid\\">\\r\\n        <div class=\\"party\\" data-bind=\\"foreach: { data: friendlies.members, as: \'member\' }\\">\\r\\n            <div class=\\"party-member\\">\\r\\n                <div class=\\"frame\\" data-bind=\\"\\r\\n                    click: $parent.player.setTarget,\\r\\n                    css:\\r\\n                        {\\r\\n                            \'selected\': $parent.player.target() === member,\\r\\n                            \'disabled\': member.isDead\\r\\n                        }\\">\\r\\n                    <div class=\\"party-member-name nowrap\\" data-bind=\\"\\r\\n                        text: member.name,\\r\\n                        css: { \'targeted\': $parent.boss().targets.indexOf(member) !== -1 }\\">\\r\\n                    </div>\\r\\n                    <div class=\\"health-bar-background\\">\\r\\n                        <div class=\\"health-bar\\" data-bind=\\"style: { width: member.healthPercentageString }\\">&nbsp;</div>\\r\\n                        <div class=\\"health-bar-text nowrap\\" data-bind=\\"text: member.healthStatusString\\"></div>\\r\\n                        <div class=\\"health-bar-last-heal nowrap\\" data-bind=\\"\\r\\n                            text: member.lastHealStatusString,\\r\\n                            animate: member.lastHealInfo() && animations.fadeOut1000,\\r\\n                            css:\\r\\n                                {\\r\\n                                    \'bold\': member.lastHealInfo() && member.lastHealInfo().isCrit,\\r\\n                                    \'bright-green\': member.lastHealInfo() && member.lastHealInfo().effectiveAmount > 0\\r\\n                                }\\">\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\"party-member-buffs-container\\">\\r\\n                    <div class=\\"party-member-buffs\\" data-bind=\\"foreach: { data: member.buffs, as: \'buff\' }\\">\\r\\n                        <a href=\\"#\\" class=\\"icon\\" data-bind=\\"click: $parents[1].showBuff.bind(null, $data, member)\\"><span data-bind=\\"text: buff.icon, attr: { title: buff.tooltip }\\"></span></a>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\"party-member-debuffs-container\\">\\r\\n                    <div class=\\"party-member-debuffs\\" data-bind=\\"foreach: { data: member.debuffs, as: \'debuff\' }\\">\\r\\n                        <a href=\\"#\\" class=\\"icon\\" data-bind=\\"click: $parents[1].showDebuff.bind(null, $data, member)\\"><span data-bind=\\"text: debuff.icon, attr: { title: debuff.tooltip }\\"></span></a>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    \x3c!-- /ko --\x3e\\r\\n    <div class=\\"boss frame\\" data-bind=\\"css: { \'casting\': boss().currentCasts }\\">\\r\\n        <div class=\\"health-bar-background\\">\\r\\n            \x3c!-- ko if: !showStats() && (!inCombat() || allowPause) --\x3e\\r\\n            <div class=\\"game-actions frame thin\\">\\r\\n                <div data-bind=\\"click: engageBoss, visible: !inCombat() && !boss().isDead()\\">Engage</div>\\r\\n                \x3c!-- ko if: allowPause --\x3e\\r\\n                <div data-bind=\\"click: pause, visible: inCombat() && !isPaused()\\">Pause</div>\\r\\n                <div data-bind=\\"click: resume, visible: isPaused\\">Resume</div>\\r\\n                \x3c!-- /ko --\x3e\\r\\n            </div>\\r\\n            \x3c!-- /ko --\x3e\\r\\n            \x3c!-- ko if: allowSkip --\x3e\\r\\n            <div class=\\"game-actions frame thin\\">\\r\\n                <div data-bind=\\"click: skip\\">Skip</div>\\r\\n            </div>\\r\\n            \x3c!-- /ko --\x3e\\r\\n            <div class=\\"health-bar\\" data-bind=\\"style: { width: boss().healthPercentageString }\\">\\r\\n                <div class=\\"boss-name nowrap\\" data-bind=\\"text: boss().label\\">&nbsp;</div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"boss-cast-bars\\" data-bind=\\"foreach: { data: boss().currentCasts, as: \'bossCast\' }\\">\\r\\n            <div class=\\"cast-bar-background\\">\\r\\n                <div class=\\"cast-bar\\" data-bind=\\"\\r\\n                    animate: bossCast.value() || $parent.animations.fadeOut200,\\r\\n                    animateAction: bossCast && bossCast.action\\">&nbsp;</div>\\r\\n\\r\\n                <div class=\\"cast-bar-text nowrap\\" data-bind=\\"\\r\\n                    css: { \'casting\': bossCast.value },\\r\\n                    text: bossCast && bossCast.previous() && bossCast.previous().name,\\r\\n                    animate: !bossCast.value && $parent.animations.fadeOut200\\"></div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\"bottom no-select\\">\\r\\n    \x3c!-- ko if: showStats --\x3e\\r\\n    <div class=\\"center-link\\"><a href=\\"#\\" data-bind=\\"click: resetStats_onClick\\">Reset stats</a></div>\\r\\n    \x3c!-- /ko --\x3e\\r\\n    \x3c!-- ko ifnot: inCombat --\x3e\\r\\n    <div class=\\"toggleStats\\"><a href=\\"#\\" data-bind=\\"text: toggleStatsLink, click: toggleStats_onClick\\"></a></div>\\r\\n    \x3c!-- /ko --\x3e\\r\\n    <div class=\\"cast-bar-container frame thin unselectable\\">\\r\\n        <div class=\\"cast-bar-background\\">\\r\\n            <div class=\\"cast-bar\\" data-bind=\\"\\r\\n                css: { \'gcd\': (player.currentCast.value() && player.currentCast.value().isInstant) || (player.currentCast.previous() && player.currentCast.previous().isInstant) },\\r\\n                animate: player.currentCast.value() || animations.fadeOut200,\\r\\n                animateAction: player.currentCast.action\\">&nbsp;</div>\\r\\n\\r\\n            <div class=\\"cast-bar-text nowrap\\" data-bind=\\"\\r\\n                css: { \'casting\': player.currentCast.value },\\r\\n                text: player.currentCast.previous() && player.currentCast.previous().name,\\r\\n                animate: !player.currentCast.value() && animations.fadeOut200\\"></div>\\r\\n\\r\\n            \x3c!-- ko if: player.currentCast.value() && !player.currentCast.value().isInstant --\x3e\\r\\n            <div class=\\"cast-bar-cancel\\" data-bind=\\"click: cancelCast\\"><span title=\\"Cancel cast\\"></span></div>\\r\\n            \x3c!-- /ko --\x3e\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"mana-bar-container frame thin unselectable\\" data-bind=\\"css: { \'casting\': player.currentCast.value }\\">\\r\\n        <div class=\\"mana-bar-background\\">\\r\\n            <div class=\\"mana-bar\\" data-bind=\\"style: { width: player.manaPercentageString }\\">&nbsp;</div>\\r\\n            <div class=\\"mana-regen-bar\\" data-bind=\\"animate: player.regenManaNotifier() && player.regenManaAnimation\\">&nbsp;</div>\\r\\n            <div class=\\"mana-bar-text nowrap\\" data-bind=\\"text: player.manaStatusString\\"></div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"actions\\" data-bind=\\"\\r\\n        foreach: { data: player.actions, as: \'action\' },\\r\\n        css: { \'disabled\': player.isDead }\\">\\r\\n\\r\\n        <div class=\\"action frame\\" data-bind=\\"click: $parent.cast\\">\\r\\n            <div class=\\"action-name\\" data-bind=\\"text: action\\"></div>\\r\\n            <div class=\\"shortcut\\" data-bind=\\"text: $index() + 1\\"></div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\x3c!-- /ko --\x3e";\n// Exports\nmodule.exports = code;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjgwNy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBLCt0RUFBK3RFLHdDQUF3QyxxTkFBcU4scUtBQXFLLGdLQUFnSywyREFBMkQseUtBQXlLLHNDQUFzQyxTQUFTLG1iQUFtYixxUUFBcVEsOE9BQThPLGdDQUFnQywyS0FBMksscUJBQXFCLDJOQUEyTixvQ0FBb0MsK0tBQStLLHVCQUF1QixxTUFBcU0sZ0NBQWdDLDAyQkFBMDJCLHNDQUFzQyw4RkFBOEYsK0dBQStHLDJDQUEyQyw0UUFBNFEsNkdBQTZHLDJCQUEyQiw4eUJBQTh5QiwySkFBMkosdUpBQXVKLHFHQUFxRyxxQ0FBcUMsMGlCQUEwaUIscUNBQXFDLCtHQUErRyxvQ0FBb0MsU0FBUyx5SUFBeUksOE1BQThNLG9DQUFvQyxvQkFBb0IsMkJBQTJCO0FBQy92UjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHMtcGxlYXNlLy4vaHRtbC9HYW1lUGFnZS5odG1sPzdkMzciXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPCEtLSBrbyBpZjogc2hvd0ludHJvIC0tPlxcclxcbjxkaXYgY2xhc3M9XFxcIm91dGVyXFxcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiaW50cm9cXFwiPlxcclxcbiAgICAgICAgPGgxPkhlYWxzLCBwbGVhc2U/PC9oMT5cXHJcXG4gICAgICAgIDxoMj5BbiBNTU8gaGVhbGluZyBzaW11bGF0b3I8L2gyPlxcclxcbiAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgZGF0YS1iaW5kPVxcXCJjbGljazogam9pbkdyb3VwQnV0dG9uX29uQ2xpY2tcXFwiPkpvaW4gZ3JvdXA8L2J1dHRvbj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiaGVscFxcXCI+XFxyXFxuICAgICAgICAgICAgPGg1PktleWJvYXJkIHNob3J0Y3V0czwvaDQ+XFxyXFxuICAgICAgICAgICAgPHRhYmxlPlxcclxcbiAgICAgICAgICAgICAgICA8dGJvZHk+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8dHI+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXCJrZXlcXFwiPjEtNTwvdGQ+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPkNhc3QgaGVhbDwvdGQ+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8L3RyPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPHRyPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFwia2V5XFxcIj5Fc2M8L3RkPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD5DYW5jZWwgY2FzdDwvdGQ+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8L3RyPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPHRyPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFwia2V5XFxcIj5TcGFjZTwvdGQ+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPkNhc3QgcHJldmlvdXM8L3RkPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDx0cj5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcImtleVxcXCI+UVdFUlQ8L3RkPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD5UYXJnZXQgcGFydHkgbWVtYmVyPC90ZD5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XFxyXFxuICAgICAgICAgICAgICAgIDwvdGJvZHk+XFxyXFxuICAgICAgICAgICAgPC90YWJsZT5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG48L2Rpdj5cXHJcXG48IS0tIC9rbyAtLT5cXHJcXG48IS0tIGtvIGlmbm90OiBzaG93SW50cm8gLS0+XFxyXFxuPGRpdiBjbGFzcz1cXFwib3V0ZXIgbm8tc2VsZWN0XFxcIj5cXHJcXG4gICAgPCEtLSBrbyBpZjogc2hvd1N0YXRzIC0tPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJzdGF0c1xcXCI+XFxyXFxuICAgICAgICA8dGFibGU+XFxyXFxuICAgICAgICAgICAgPHRoZWFkPlxcclxcbiAgICAgICAgICAgICAgICA8dHI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8dGg+SGVhbDwvdGg+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8dGg+IzwvdGg+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8dGg+Q3JpdHM8L3RoPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPHRoPlRvdGFsPC90aD5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDx0aD5PdmVyaGVhbDwvdGg+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8dGg+RWZmaWNpZW5jeTwvdGg+XFxyXFxuICAgICAgICAgICAgICAgIDwvdHI+XFxyXFxuICAgICAgICAgICAgPC90aGVhZD5cXHJcXG4gICAgICAgICAgICA8dGJvZHkgZGF0YS1iaW5kPVxcXCJmb3JlYWNoOiBzdGF0cy5oZWFsU3RhdHNcXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8dGQgZGF0YS1iaW5kPVxcXCJ0ZXh0OiBuYW1lXFxcIj48L3RkPlxcclxcbiAgICAgICAgICAgICAgICA8dGQgZGF0YS1iaW5kPVxcXCJ0ZXh0OiBudW1IZWFsc1xcXCI+PC90ZD5cXHJcXG4gICAgICAgICAgICAgICAgPHRkIGRhdGEtYmluZD1cXFwidGV4dDogbnVtQ3JpdHNcXFwiPjwvdGQ+XFxyXFxuICAgICAgICAgICAgICAgIDx0ZCBkYXRhLWJpbmQ9XFxcInRleHQ6IHRvdGFsXFxcIj48L3RkPlxcclxcbiAgICAgICAgICAgICAgICA8dGQgZGF0YS1iaW5kPVxcXCJ0ZXh0OiBvdmVyaGVhbFxcXCI+PC90ZD5cXHJcXG4gICAgICAgICAgICAgICAgPHRkIGRhdGEtYmluZD1cXFwidGV4dDogZWZmaWNpZW5jeVxcXCI+PC90ZD5cXHJcXG4gICAgICAgICAgICA8L3Rib2R5PlxcclxcbiAgICAgICAgPC90YWJsZT5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDwhLS0gL2tvIC0tPlxcclxcbiAgICA8IS0tIGtvIGlmbm90OiBzaG93U3RhdHMgLS0+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcInJhaWRcXFwiPlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwicGFydHlcXFwiIGRhdGEtYmluZD1cXFwiZm9yZWFjaDogeyBkYXRhOiBmcmllbmRsaWVzLm1lbWJlcnMsIGFzOiAnbWVtYmVyJyB9XFxcIj5cXHJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwYXJ0eS1tZW1iZXJcXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmcmFtZVxcXCIgZGF0YS1iaW5kPVxcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiAkcGFyZW50LnBsYXllci5zZXRUYXJnZXQsXFxyXFxuICAgICAgICAgICAgICAgICAgICBjc3M6XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAge1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2VsZWN0ZWQnOiAkcGFyZW50LnBsYXllci50YXJnZXQoKSA9PT0gbWVtYmVyLFxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGlzYWJsZWQnOiBtZW1iZXIuaXNEZWFkXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwYXJ0eS1tZW1iZXItbmFtZSBub3dyYXBcXFwiIGRhdGEtYmluZD1cXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogbWVtYmVyLm5hbWUsXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgY3NzOiB7ICd0YXJnZXRlZCc6ICRwYXJlbnQuYm9zcygpLnRhcmdldHMuaW5kZXhPZihtZW1iZXIpICE9PSAtMSB9XFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaGVhbHRoLWJhci1iYWNrZ3JvdW5kXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJoZWFsdGgtYmFyXFxcIiBkYXRhLWJpbmQ9XFxcInN0eWxlOiB7IHdpZHRoOiBtZW1iZXIuaGVhbHRoUGVyY2VudGFnZVN0cmluZyB9XFxcIj4mbmJzcDs8L2Rpdj5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJoZWFsdGgtYmFyLXRleHQgbm93cmFwXFxcIiBkYXRhLWJpbmQ9XFxcInRleHQ6IG1lbWJlci5oZWFsdGhTdGF0dXNTdHJpbmdcXFwiPjwvZGl2PlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImhlYWx0aC1iYXItbGFzdC1oZWFsIG5vd3JhcFxcXCIgZGF0YS1iaW5kPVxcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogbWVtYmVyLmxhc3RIZWFsU3RhdHVzU3RyaW5nLFxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlOiBtZW1iZXIubGFzdEhlYWxJbmZvKCkgJiYgYW5pbWF0aW9ucy5mYWRlT3V0MTAwMCxcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzOlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdib2xkJzogbWVtYmVyLmxhc3RIZWFsSW5mbygpICYmIG1lbWJlci5sYXN0SGVhbEluZm8oKS5pc0NyaXQsXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2JyaWdodC1ncmVlbic6IG1lbWJlci5sYXN0SGVhbEluZm8oKSAmJiBtZW1iZXIubGFzdEhlYWxJbmZvKCkuZWZmZWN0aXZlQW1vdW50ID4gMFxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInBhcnR5LW1lbWJlci1idWZmcy1jb250YWluZXJcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicGFydHktbWVtYmVyLWJ1ZmZzXFxcIiBkYXRhLWJpbmQ9XFxcImZvcmVhY2g6IHsgZGF0YTogbWVtYmVyLmJ1ZmZzLCBhczogJ2J1ZmYnIH1cXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcIiNcXFwiIGNsYXNzPVxcXCJpY29uXFxcIiBkYXRhLWJpbmQ9XFxcImNsaWNrOiAkcGFyZW50c1sxXS5zaG93QnVmZi5iaW5kKG51bGwsICRkYXRhLCBtZW1iZXIpXFxcIj48c3BhbiBkYXRhLWJpbmQ9XFxcInRleHQ6IGJ1ZmYuaWNvbiwgYXR0cjogeyB0aXRsZTogYnVmZi50b29sdGlwIH1cXFwiPjwvc3Bhbj48L2E+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInBhcnR5LW1lbWJlci1kZWJ1ZmZzLWNvbnRhaW5lclxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwYXJ0eS1tZW1iZXItZGVidWZmc1xcXCIgZGF0YS1iaW5kPVxcXCJmb3JlYWNoOiB7IGRhdGE6IG1lbWJlci5kZWJ1ZmZzLCBhczogJ2RlYnVmZicgfVxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiI1xcXCIgY2xhc3M9XFxcImljb25cXFwiIGRhdGEtYmluZD1cXFwiY2xpY2s6ICRwYXJlbnRzWzFdLnNob3dEZWJ1ZmYuYmluZChudWxsLCAkZGF0YSwgbWVtYmVyKVxcXCI+PHNwYW4gZGF0YS1iaW5kPVxcXCJ0ZXh0OiBkZWJ1ZmYuaWNvbiwgYXR0cjogeyB0aXRsZTogZGVidWZmLnRvb2x0aXAgfVxcXCI+PC9zcGFuPjwvYT5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPCEtLSAva28gLS0+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImJvc3MgZnJhbWVcXFwiIGRhdGEtYmluZD1cXFwiY3NzOiB7ICdjYXN0aW5nJzogYm9zcygpLmN1cnJlbnRDYXN0cyB9XFxcIj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImhlYWx0aC1iYXItYmFja2dyb3VuZFxcXCI+XFxyXFxuICAgICAgICAgICAgPCEtLSBrbyBpZjogIXNob3dTdGF0cygpICYmICghaW5Db21iYXQoKSB8fCBhbGxvd1BhdXNlKSAtLT5cXHJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJnYW1lLWFjdGlvbnMgZnJhbWUgdGhpblxcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1iaW5kPVxcXCJjbGljazogZW5nYWdlQm9zcywgdmlzaWJsZTogIWluQ29tYmF0KCkgJiYgIWJvc3MoKS5pc0RlYWQoKVxcXCI+RW5nYWdlPC9kaXY+XFxyXFxuICAgICAgICAgICAgICAgIDwhLS0ga28gaWY6IGFsbG93UGF1c2UgLS0+XFxyXFxuICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1iaW5kPVxcXCJjbGljazogcGF1c2UsIHZpc2libGU6IGluQ29tYmF0KCkgJiYgIWlzUGF1c2VkKClcXFwiPlBhdXNlPC9kaXY+XFxyXFxuICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1iaW5kPVxcXCJjbGljazogcmVzdW1lLCB2aXNpYmxlOiBpc1BhdXNlZFxcXCI+UmVzdW1lPC9kaXY+XFxyXFxuICAgICAgICAgICAgICAgIDwhLS0gL2tvIC0tPlxcclxcbiAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgICAgIDwhLS0gL2tvIC0tPlxcclxcbiAgICAgICAgICAgIDwhLS0ga28gaWY6IGFsbG93U2tpcCAtLT5cXHJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJnYW1lLWFjdGlvbnMgZnJhbWUgdGhpblxcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1iaW5kPVxcXCJjbGljazogc2tpcFxcXCI+U2tpcDwvZGl2PlxcclxcbiAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgICAgIDwhLS0gL2tvIC0tPlxcclxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImhlYWx0aC1iYXJcXFwiIGRhdGEtYmluZD1cXFwic3R5bGU6IHsgd2lkdGg6IGJvc3MoKS5oZWFsdGhQZXJjZW50YWdlU3RyaW5nIH1cXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJib3NzLW5hbWUgbm93cmFwXFxcIiBkYXRhLWJpbmQ9XFxcInRleHQ6IGJvc3MoKS5sYWJlbFxcXCI+Jm5ic3A7PC9kaXY+XFxyXFxuICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJvc3MtY2FzdC1iYXJzXFxcIiBkYXRhLWJpbmQ9XFxcImZvcmVhY2g6IHsgZGF0YTogYm9zcygpLmN1cnJlbnRDYXN0cywgYXM6ICdib3NzQ2FzdCcgfVxcXCI+XFxyXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2FzdC1iYXItYmFja2dyb3VuZFxcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNhc3QtYmFyXFxcIiBkYXRhLWJpbmQ9XFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZTogYm9zc0Nhc3QudmFsdWUoKSB8fCAkcGFyZW50LmFuaW1hdGlvbnMuZmFkZU91dDIwMCxcXHJcXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGVBY3Rpb246IGJvc3NDYXN0ICYmIGJvc3NDYXN0LmFjdGlvblxcXCI+Jm5ic3A7PC9kaXY+XFxyXFxuXFxyXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNhc3QtYmFyLXRleHQgbm93cmFwXFxcIiBkYXRhLWJpbmQ9XFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgY3NzOiB7ICdjYXN0aW5nJzogYm9zc0Nhc3QudmFsdWUgfSxcXHJcXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGJvc3NDYXN0ICYmIGJvc3NDYXN0LnByZXZpb3VzKCkgJiYgYm9zc0Nhc3QucHJldmlvdXMoKS5uYW1lLFxcclxcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZTogIWJvc3NDYXN0LnZhbHVlICYmICRwYXJlbnQuYW5pbWF0aW9ucy5mYWRlT3V0MjAwXFxcIj48L2Rpdj5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG48L2Rpdj5cXHJcXG48ZGl2IGNsYXNzPVxcXCJib3R0b20gbm8tc2VsZWN0XFxcIj5cXHJcXG4gICAgPCEtLSBrbyBpZjogc2hvd1N0YXRzIC0tPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjZW50ZXItbGlua1xcXCI+PGEgaHJlZj1cXFwiI1xcXCIgZGF0YS1iaW5kPVxcXCJjbGljazogcmVzZXRTdGF0c19vbkNsaWNrXFxcIj5SZXNldCBzdGF0czwvYT48L2Rpdj5cXHJcXG4gICAgPCEtLSAva28gLS0+XFxyXFxuICAgIDwhLS0ga28gaWZub3Q6IGluQ29tYmF0IC0tPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0b2dnbGVTdGF0c1xcXCI+PGEgaHJlZj1cXFwiI1xcXCIgZGF0YS1iaW5kPVxcXCJ0ZXh0OiB0b2dnbGVTdGF0c0xpbmssIGNsaWNrOiB0b2dnbGVTdGF0c19vbkNsaWNrXFxcIj48L2E+PC9kaXY+XFxyXFxuICAgIDwhLS0gL2tvIC0tPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjYXN0LWJhci1jb250YWluZXIgZnJhbWUgdGhpbiB1bnNlbGVjdGFibGVcXFwiPlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2FzdC1iYXItYmFja2dyb3VuZFxcXCI+XFxyXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2FzdC1iYXJcXFwiIGRhdGEtYmluZD1cXFwiXFxyXFxuICAgICAgICAgICAgICAgIGNzczogeyAnZ2NkJzogKHBsYXllci5jdXJyZW50Q2FzdC52YWx1ZSgpICYmIHBsYXllci5jdXJyZW50Q2FzdC52YWx1ZSgpLmlzSW5zdGFudCkgfHwgKHBsYXllci5jdXJyZW50Q2FzdC5wcmV2aW91cygpICYmIHBsYXllci5jdXJyZW50Q2FzdC5wcmV2aW91cygpLmlzSW5zdGFudCkgfSxcXHJcXG4gICAgICAgICAgICAgICAgYW5pbWF0ZTogcGxheWVyLmN1cnJlbnRDYXN0LnZhbHVlKCkgfHwgYW5pbWF0aW9ucy5mYWRlT3V0MjAwLFxcclxcbiAgICAgICAgICAgICAgICBhbmltYXRlQWN0aW9uOiBwbGF5ZXIuY3VycmVudENhc3QuYWN0aW9uXFxcIj4mbmJzcDs8L2Rpdj5cXHJcXG5cXHJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjYXN0LWJhci10ZXh0IG5vd3JhcFxcXCIgZGF0YS1iaW5kPVxcXCJcXHJcXG4gICAgICAgICAgICAgICAgY3NzOiB7ICdjYXN0aW5nJzogcGxheWVyLmN1cnJlbnRDYXN0LnZhbHVlIH0sXFxyXFxuICAgICAgICAgICAgICAgIHRleHQ6IHBsYXllci5jdXJyZW50Q2FzdC5wcmV2aW91cygpICYmIHBsYXllci5jdXJyZW50Q2FzdC5wcmV2aW91cygpLm5hbWUsXFxyXFxuICAgICAgICAgICAgICAgIGFuaW1hdGU6ICFwbGF5ZXIuY3VycmVudENhc3QudmFsdWUoKSAmJiBhbmltYXRpb25zLmZhZGVPdXQyMDBcXFwiPjwvZGl2PlxcclxcblxcclxcbiAgICAgICAgICAgIDwhLS0ga28gaWY6IHBsYXllci5jdXJyZW50Q2FzdC52YWx1ZSgpICYmICFwbGF5ZXIuY3VycmVudENhc3QudmFsdWUoKS5pc0luc3RhbnQgLS0+XFxyXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2FzdC1iYXItY2FuY2VsXFxcIiBkYXRhLWJpbmQ9XFxcImNsaWNrOiBjYW5jZWxDYXN0XFxcIj48c3BhbiB0aXRsZT1cXFwiQ2FuY2VsIGNhc3RcXFwiPuKdjDwvc3Bhbj48L2Rpdj5cXHJcXG4gICAgICAgICAgICA8IS0tIC9rbyAtLT5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwibWFuYS1iYXItY29udGFpbmVyIGZyYW1lIHRoaW4gdW5zZWxlY3RhYmxlXFxcIiBkYXRhLWJpbmQ9XFxcImNzczogeyAnY2FzdGluZyc6IHBsYXllci5jdXJyZW50Q2FzdC52YWx1ZSB9XFxcIj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIm1hbmEtYmFyLWJhY2tncm91bmRcXFwiPlxcclxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIm1hbmEtYmFyXFxcIiBkYXRhLWJpbmQ9XFxcInN0eWxlOiB7IHdpZHRoOiBwbGF5ZXIubWFuYVBlcmNlbnRhZ2VTdHJpbmcgfVxcXCI+Jm5ic3A7PC9kaXY+XFxyXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwibWFuYS1yZWdlbi1iYXJcXFwiIGRhdGEtYmluZD1cXFwiYW5pbWF0ZTogcGxheWVyLnJlZ2VuTWFuYU5vdGlmaWVyKCkgJiYgcGxheWVyLnJlZ2VuTWFuYUFuaW1hdGlvblxcXCI+Jm5ic3A7PC9kaXY+XFxyXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwibWFuYS1iYXItdGV4dCBub3dyYXBcXFwiIGRhdGEtYmluZD1cXFwidGV4dDogcGxheWVyLm1hbmFTdGF0dXNTdHJpbmdcXFwiPjwvZGl2PlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJhY3Rpb25zXFxcIiBkYXRhLWJpbmQ9XFxcIlxcclxcbiAgICAgICAgZm9yZWFjaDogeyBkYXRhOiBwbGF5ZXIuYWN0aW9ucywgYXM6ICdhY3Rpb24nIH0sXFxyXFxuICAgICAgICBjc3M6IHsgJ2Rpc2FibGVkJzogcGxheWVyLmlzRGVhZCB9XFxcIj5cXHJcXG5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImFjdGlvbiBmcmFtZVxcXCIgZGF0YS1iaW5kPVxcXCJjbGljazogJHBhcmVudC5jYXN0XFxcIj5cXHJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJhY3Rpb24tbmFtZVxcXCIgZGF0YS1iaW5kPVxcXCJ0ZXh0OiBhY3Rpb25cXFwiPjwvZGl2PlxcclxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInNob3J0Y3V0XFxcIiBkYXRhLWJpbmQ9XFxcInRleHQ6ICRpbmRleCgpICsgMVxcXCI+PC9kaXY+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9kaXY+XFxyXFxuPCEtLSAva28gLS0+XCI7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGNvZGU7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6807\n')},8527:(module,exports,__webpack_require__)=>{eval('var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * Knockout JavaScript library v3.5.1\n * (c) The Knockout.js team - http://knockoutjs.com/\n * License: MIT (http://www.opensource.org/licenses/mit-license.php)\n */\n\n(function() {(function(n){var A=this||(0,eval)("this"),w=A.document,R=A.navigator,v=A.jQuery,H=A.JSON;v||"undefined"===typeof jQuery||(v=jQuery);(function(n){ true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports,__webpack_require__], __WEBPACK_AMD_DEFINE_FACTORY__ = (n),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === \'function\' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):0})(function(S,T){function K(a,c){return null===a||typeof a in W?a===c:!1}function X(b,c){var d;return function(){d||(d=a.a.setTimeout(function(){d=n;b()},c))}}function Y(b,c){var d;return function(){clearTimeout(d);\nd=a.a.setTimeout(b,c)}}function Z(a,c){c&&"change"!==c?"beforeChange"===c?this.pc(a):this.gb(a,c):this.qc(a)}function aa(a,c){null!==c&&c.s&&c.s()}function ba(a,c){var d=this.qd,e=d[r];e.ra||(this.Qb&&this.mb[c]?(d.uc(c,a,this.mb[c]),this.mb[c]=null,--this.Qb):e.I[c]||d.uc(c,a,e.J?{da:a}:d.$c(a)),a.Ja&&a.gd())}var a="undefined"!==typeof S?S:{};a.b=function(b,c){for(var d=b.split("."),e=a,f=0;f<d.length-1;f++)e=e[d[f]];e[d[d.length-1]]=c};a.L=function(a,c,d){a[c]=d};a.version="3.5.1";a.b("version",\na.version);a.options={deferUpdates:!1,useOnlyNativeEvents:!1,foreachHidesDestroyed:!1};a.a=function(){function b(a,b){for(var c in a)f.call(a,c)&&b(c,a[c])}function c(a,b){if(b)for(var c in b)f.call(b,c)&&(a[c]=b[c]);return a}function d(a,b){a.__proto__=b;return a}function e(b,c,d,e){var l=b[c].match(q)||[];a.a.D(d.match(q),function(b){a.a.Na(l,b,e)});b[c]=l.join(" ")}var f=Object.prototype.hasOwnProperty,g={__proto__:[]}instanceof Array,h="function"===typeof Symbol,m={},k={};m[R&&/Firefox\\/2/i.test(R.userAgent)?\n"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];m.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");b(m,function(a,b){if(b.length)for(var c=0,d=b.length;c<d;c++)k[b[c]]=a});var l={propertychange:!0},p=w&&function(){for(var a=3,b=w.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\\x3e",c[0];);return 4<a?a:n}(),q=/\\S+/g,t;return{Jc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],\nD:function(a,b,c){for(var d=0,e=a.length;d<e;d++)b.call(c,a[d],d,a)},A:"function"==typeof Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b)}:function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},Lb:function(a,b,c){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d,a))return a[d];return n},Pa:function(b,c){var d=a.a.A(b,c);0<d?b.splice(d,1):0===d&&b.shift()},wc:function(b){var c=[];b&&a.a.D(b,function(b){0>a.a.A(c,b)&&c.push(b)});return c},Mb:function(a,\nb,c){var d=[];if(a)for(var e=0,l=a.length;e<l;e++)d.push(b.call(c,a[e],e));return d},jb:function(a,b,c){var d=[];if(a)for(var e=0,l=a.length;e<l;e++)b.call(c,a[e],e)&&d.push(a[e]);return d},Nb:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var c=0,d=b.length;c<d;c++)a.push(b[c]);return a},Na:function(b,c,d){var e=a.a.A(a.a.bc(b),c);0>e?d&&b.push(c):d||b.splice(e,1)},Ba:g,extend:c,setPrototypeOf:d,Ab:g?d:c,P:b,Ga:function(a,b,c){if(!a)return a;var d={},e;for(e in a)f.call(a,e)&&(d[e]=\nb.call(c,a[e],e,a));return d},Tb:function(b){for(;b.firstChild;)a.removeNode(b.firstChild)},Yb:function(b){b=a.a.la(b);for(var c=(b[0]&&b[0].ownerDocument||w).createElement("div"),d=0,e=b.length;d<e;d++)c.appendChild(a.oa(b[d]));return c},Ca:function(b,c){for(var d=0,e=b.length,l=[];d<e;d++){var k=b[d].cloneNode(!0);l.push(c?a.oa(k):k)}return l},va:function(b,c){a.a.Tb(b);if(c)for(var d=0,e=c.length;d<e;d++)b.appendChild(c[d])},Xc:function(b,c){var d=b.nodeType?[b]:b;if(0<d.length){for(var e=d[0],\nl=e.parentNode,k=0,f=c.length;k<f;k++)l.insertBefore(c[k],e);k=0;for(f=d.length;k<f;k++)a.removeNode(d[k])}},Ua:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.splice(0,1);for(;1<a.length&&a[a.length-1].parentNode!==b;)a.length--;if(1<a.length){var c=a[0],d=a[a.length-1];for(a.length=0;c!==d;)a.push(c),c=c.nextSibling;a.push(d)}}return a},Zc:function(a,b){7>p?a.setAttribute("selected",b):a.selected=b},Db:function(a){return null===a||a===n?"":a.trim?\na.trim():a.toString().replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,"")},Ud:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},vd:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(1!==a.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==(b.compareDocumentPosition(a)&16);for(;a&&a!=b;)a=a.parentNode;return!!a},Sb:function(b){return a.a.vd(b,b.ownerDocument.documentElement)},kd:function(b){return!!a.a.Lb(b,a.a.Sb)},R:function(a){return a&&\na.tagName&&a.tagName.toLowerCase()},Ac:function(b){return a.onError?function(){try{return b.apply(this,arguments)}catch(c){throw a.onError&&a.onError(c),c;}}:b},setTimeout:function(b,c){return setTimeout(a.a.Ac(b),c)},Gc:function(b){setTimeout(function(){a.onError&&a.onError(b);throw b;},0)},B:function(b,c,d){var e=a.a.Ac(d);d=l[c];if(a.options.useOnlyNativeEvents||d||!v)if(d||"function"!=typeof b.addEventListener)if("undefined"!=typeof b.attachEvent){var k=function(a){e.call(b,a)},f="on"+c;b.attachEvent(f,\nk);a.a.K.za(b,function(){b.detachEvent(f,k)})}else throw Error("Browser doesn\'t support addEventListener or attachEvent");else b.addEventListener(c,e,!1);else t||(t="function"==typeof v(b).on?"on":"bind"),v(b)[t](c,e)},Fb:function(b,c){if(!b||!b.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var d;"input"===a.a.R(b)&&b.type&&"click"==c.toLowerCase()?(d=b.type,d="checkbox"==d||"radio"==d):d=!1;if(a.options.useOnlyNativeEvents||!v||d)if("function"==typeof w.createEvent)if("function"==\ntypeof b.dispatchEvent)d=w.createEvent(k[c]||"HTMLEvents"),d.initEvent(c,!0,!0,A,0,0,0,0,0,!1,!1,!1,!1,0,b),b.dispatchEvent(d);else throw Error("The supplied element doesn\'t support dispatchEvent");else if(d&&b.click)b.click();else if("undefined"!=typeof b.fireEvent)b.fireEvent("on"+c);else throw Error("Browser doesn\'t support triggering events");else v(b).trigger(c)},f:function(b){return a.O(b)?b():b},bc:function(b){return a.O(b)?b.v():b},Eb:function(b,c,d){var l;c&&("object"===typeof b.classList?\n(l=b.classList[d?"add":"remove"],a.a.D(c.match(q),function(a){l.call(b.classList,a)})):"string"===typeof b.className.baseVal?e(b.className,"baseVal",c,d):e(b,"className",c,d))},Bb:function(b,c){var d=a.a.f(c);if(null===d||d===n)d="";var e=a.h.firstChild(b);!e||3!=e.nodeType||a.h.nextSibling(e)?a.h.va(b,[b.ownerDocument.createTextNode(d)]):e.data=d;a.a.Ad(b)},Yc:function(a,b){a.name=b;if(7>=p)try{var c=a.name.replace(/[&<>\'"]/g,function(a){return"&#"+a.charCodeAt(0)+";"});a.mergeAttributes(w.createElement("<input name=\'"+\nc+"\'/>"),!1)}catch(d){}},Ad:function(a){9<=p&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},wd:function(a){if(p){var b=a.style.width;a.style.width=0;a.style.width=b}},Pd:function(b,c){b=a.a.f(b);c=a.a.f(c);for(var d=[],e=b;e<=c;e++)d.push(e);return d},la:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},Da:function(a){return h?Symbol(a):a},Zd:6===p,$d:7===p,W:p,Lc:function(b,c){for(var d=a.a.la(b.getElementsByTagName("input")).concat(a.a.la(b.getElementsByTagName("textarea"))),\ne="string"==typeof c?function(a){return a.name===c}:function(a){return c.test(a.name)},l=[],k=d.length-1;0<=k;k--)e(d[k])&&l.push(d[k]);return l},Nd:function(b){return"string"==typeof b&&(b=a.a.Db(b))?H&&H.parse?H.parse(b):(new Function("return "+b))():null},hc:function(b,c,d){if(!H||!H.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don\'t support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");\nreturn H.stringify(a.a.f(b),c,d)},Od:function(c,d,e){e=e||{};var l=e.params||{},k=e.includeFields||this.Jc,f=c;if("object"==typeof c&&"form"===a.a.R(c))for(var f=c.action,h=k.length-1;0<=h;h--)for(var g=a.a.Lc(c,k[h]),m=g.length-1;0<=m;m--)l[g[m].name]=g[m].value;d=a.a.f(d);var p=w.createElement("form");p.style.display="none";p.action=f;p.method="post";for(var q in d)c=w.createElement("input"),c.type="hidden",c.name=q,c.value=a.a.hc(a.a.f(d[q])),p.appendChild(c);b(l,function(a,b){var c=w.createElement("input");\nc.type="hidden";c.name=a;c.value=b;p.appendChild(c)});w.body.appendChild(p);e.submitter?e.submitter(p):p.submit();setTimeout(function(){p.parentNode.removeChild(p)},0)}}}();a.b("utils",a.a);a.b("utils.arrayForEach",a.a.D);a.b("utils.arrayFirst",a.a.Lb);a.b("utils.arrayFilter",a.a.jb);a.b("utils.arrayGetDistinctValues",a.a.wc);a.b("utils.arrayIndexOf",a.a.A);a.b("utils.arrayMap",a.a.Mb);a.b("utils.arrayPushAll",a.a.Nb);a.b("utils.arrayRemoveItem",a.a.Pa);a.b("utils.cloneNodes",a.a.Ca);a.b("utils.createSymbolOrString",\na.a.Da);a.b("utils.extend",a.a.extend);a.b("utils.fieldsIncludedWithJsonPost",a.a.Jc);a.b("utils.getFormFields",a.a.Lc);a.b("utils.objectMap",a.a.Ga);a.b("utils.peekObservable",a.a.bc);a.b("utils.postJson",a.a.Od);a.b("utils.parseJson",a.a.Nd);a.b("utils.registerEventHandler",a.a.B);a.b("utils.stringifyJson",a.a.hc);a.b("utils.range",a.a.Pd);a.b("utils.toggleDomNodeCssClass",a.a.Eb);a.b("utils.triggerEvent",a.a.Fb);a.b("utils.unwrapObservable",a.a.f);a.b("utils.objectForEach",a.a.P);a.b("utils.addOrRemoveItem",\na.a.Na);a.b("utils.setTextContent",a.a.Bb);a.b("unwrap",a.a.f);Function.prototype.bind||(Function.prototype.bind=function(a){var c=this;if(1===arguments.length)return function(){return c.apply(a,arguments)};var d=Array.prototype.slice.call(arguments,1);return function(){var e=d.slice(0);e.push.apply(e,arguments);return c.apply(a,e)}});a.a.g=new function(){var b=0,c="__ko__"+(new Date).getTime(),d={},e,f;a.a.W?(e=function(a,e){var f=a[c];if(!f||"null"===f||!d[f]){if(!e)return n;f=a[c]="ko"+b++;d[f]=\n{}}return d[f]},f=function(a){var b=a[c];return b?(delete d[b],a[c]=null,!0):!1}):(e=function(a,b){var d=a[c];!d&&b&&(d=a[c]={});return d},f=function(a){return a[c]?(delete a[c],!0):!1});return{get:function(a,b){var c=e(a,!1);return c&&c[b]},set:function(a,b,c){(a=e(a,c!==n))&&(a[b]=c)},Ub:function(a,b,c){a=e(a,!0);return a[b]||(a[b]=c)},clear:f,Z:function(){return b++ +c}}};a.b("utils.domData",a.a.g);a.b("utils.domData.clear",a.a.g.clear);a.a.K=new function(){function b(b,c){var d=a.a.g.get(b,e);\nd===n&&c&&(d=[],a.a.g.set(b,e,d));return d}function c(c){var e=b(c,!1);if(e)for(var e=e.slice(0),k=0;k<e.length;k++)e[k](c);a.a.g.clear(c);a.a.K.cleanExternalData(c);g[c.nodeType]&&d(c.childNodes,!0)}function d(b,d){for(var e=[],l,f=0;f<b.length;f++)if(!d||8===b[f].nodeType)if(c(e[e.length]=l=b[f]),b[f]!==l)for(;f--&&-1==a.a.A(e,b[f]););}var e=a.a.g.Z(),f={1:!0,8:!0,9:!0},g={1:!0,9:!0};return{za:function(a,c){if("function"!=typeof c)throw Error("Callback must be a function");b(a,!0).push(c)},yb:function(c,\nd){var f=b(c,!1);f&&(a.a.Pa(f,d),0==f.length&&a.a.g.set(c,e,n))},oa:function(b){a.u.G(function(){f[b.nodeType]&&(c(b),g[b.nodeType]&&d(b.getElementsByTagName("*")))});return b},removeNode:function(b){a.oa(b);b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){v&&"function"==typeof v.cleanData&&v.cleanData([a])}}};a.oa=a.a.K.oa;a.removeNode=a.a.K.removeNode;a.b("cleanNode",a.oa);a.b("removeNode",a.removeNode);a.b("utils.domNodeDisposal",a.a.K);a.b("utils.domNodeDisposal.addDisposeCallback",\na.a.K.za);a.b("utils.domNodeDisposal.removeDisposeCallback",a.a.K.yb);(function(){var b=[0,"",""],c=[1,"<table>","</table>"],d=[3,"<table><tbody><tr>","</tr></tbody></table>"],e=[1,"<select multiple=\'multiple\'>","</select>"],f={thead:c,tbody:c,tfoot:c,tr:[2,"<table><tbody>","</tbody></table>"],td:d,th:d,option:e,optgroup:e},g=8>=a.a.W;a.a.ua=function(c,d){var e;if(v)if(v.parseHTML)e=v.parseHTML(c,d)||[];else{if((e=v.clean([c],d))&&e[0]){for(var l=e[0];l.parentNode&&11!==l.parentNode.nodeType;)l=l.parentNode;\nl.parentNode&&l.parentNode.removeChild(l)}}else{(e=d)||(e=w);var l=e.parentWindow||e.defaultView||A,p=a.a.Db(c).toLowerCase(),q=e.createElement("div"),t;t=(p=p.match(/^(?:\\x3c!--.*?--\\x3e\\s*?)*?<([a-z]+)[\\s>]/))&&f[p[1]]||b;p=t[0];t="ignored<div>"+t[1]+c+t[2]+"</div>";"function"==typeof l.innerShiv?q.appendChild(l.innerShiv(t)):(g&&e.body.appendChild(q),q.innerHTML=t,g&&q.parentNode.removeChild(q));for(;p--;)q=q.lastChild;e=a.a.la(q.lastChild.childNodes)}return e};a.a.Md=function(b,c){var d=a.a.ua(b,\nc);return d.length&&d[0].parentElement||a.a.Yb(d)};a.a.fc=function(b,c){a.a.Tb(b);c=a.a.f(c);if(null!==c&&c!==n)if("string"!=typeof c&&(c=c.toString()),v)v(b).html(c);else for(var d=a.a.ua(c,b.ownerDocument),e=0;e<d.length;e++)b.appendChild(d[e])}})();a.b("utils.parseHtmlFragment",a.a.ua);a.b("utils.setHtml",a.a.fc);a.aa=function(){function b(c,e){if(c)if(8==c.nodeType){var f=a.aa.Uc(c.nodeValue);null!=f&&e.push({ud:c,Kd:f})}else if(1==c.nodeType)for(var f=0,g=c.childNodes,h=g.length;f<h;f++)b(g[f],\ne)}var c={};return{Xb:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);c[b]=a;return"\\x3c!--[ko_memo:"+b+"]--\\x3e"},bd:function(a,b){var f=c[a];if(f===n)throw Error("Couldn\'t find any memo with ID "+a+". Perhaps it\'s already been unmemoized.");try{return f.apply(null,b||[]),!0}finally{delete c[a]}},cd:function(c,e){var f=\n[];b(c,f);for(var g=0,h=f.length;g<h;g++){var m=f[g].ud,k=[m];e&&a.a.Nb(k,e);a.aa.bd(f[g].Kd,k);m.nodeValue="";m.parentNode&&m.parentNode.removeChild(m)}},Uc:function(a){return(a=a.match(/^\\[ko_memo\\:(.*?)\\]$/))?a[1]:null}}}();a.b("memoization",a.aa);a.b("memoization.memoize",a.aa.Xb);a.b("memoization.unmemoize",a.aa.bd);a.b("memoization.parseMemoText",a.aa.Uc);a.b("memoization.unmemoizeDomNodeAndDescendants",a.aa.cd);a.na=function(){function b(){if(f)for(var b=f,c=0,d;h<f;)if(d=e[h++]){if(h>b){if(5E3<=\n++c){h=f;a.a.Gc(Error("\'Too much recursion\' after processing "+c+" task groups."));break}b=f}try{d()}catch(p){a.a.Gc(p)}}}function c(){b();h=f=e.length=0}var d,e=[],f=0,g=1,h=0;A.MutationObserver?d=function(a){var b=w.createElement("div");(new MutationObserver(a)).observe(b,{attributes:!0});return function(){b.classList.toggle("foo")}}(c):d=w&&"onreadystatechange"in w.createElement("script")?function(a){var b=w.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null;w.documentElement.removeChild(b);\nb=null;a()};w.documentElement.appendChild(b)}:function(a){setTimeout(a,0)};return{scheduler:d,zb:function(b){f||a.na.scheduler(c);e[f++]=b;return g++},cancel:function(a){a=a-(g-f);a>=h&&a<f&&(e[a]=null)},resetForTesting:function(){var a=f-h;h=f=e.length=0;return a},Sd:b}}();a.b("tasks",a.na);a.b("tasks.schedule",a.na.zb);a.b("tasks.runEarly",a.na.Sd);a.Ta={throttle:function(b,c){b.throttleEvaluation=c;var d=null;return a.$({read:b,write:function(e){clearTimeout(d);d=a.a.setTimeout(function(){b(e)},\nc)}})},rateLimit:function(a,c){var d,e,f;"number"==typeof c?d=c:(d=c.timeout,e=c.method);a.Hb=!1;f="function"==typeof e?e:"notifyWhenChangesStop"==e?Y:X;a.ub(function(a){return f(a,d,c)})},deferred:function(b,c){if(!0!==c)throw Error("The \'deferred\' extender only accepts the value \'true\', because it is not supported to turn deferral off once enabled.");b.Hb||(b.Hb=!0,b.ub(function(c){var e,f=!1;return function(){if(!f){a.na.cancel(e);e=a.na.zb(c);try{f=!0,b.notifySubscribers(n,"dirty")}finally{f=\n!1}}}}))},notify:function(a,c){a.equalityComparer="always"==c?null:K}};var W={undefined:1,"boolean":1,number:1,string:1};a.b("extenders",a.Ta);a.ic=function(b,c,d){this.da=b;this.lc=c;this.mc=d;this.Ib=!1;this.fb=this.Jb=null;a.L(this,"dispose",this.s);a.L(this,"disposeWhenNodeIsRemoved",this.l)};a.ic.prototype.s=function(){this.Ib||(this.fb&&a.a.K.yb(this.Jb,this.fb),this.Ib=!0,this.mc(),this.da=this.lc=this.mc=this.Jb=this.fb=null)};a.ic.prototype.l=function(b){this.Jb=b;a.a.K.za(b,this.fb=this.s.bind(this))};\na.T=function(){a.a.Ab(this,D);D.qb(this)};var D={qb:function(a){a.U={change:[]};a.sc=1},subscribe:function(b,c,d){var e=this;d=d||"change";var f=new a.ic(e,c?b.bind(c):b,function(){a.a.Pa(e.U[d],f);e.hb&&e.hb(d)});e.Qa&&e.Qa(d);e.U[d]||(e.U[d]=[]);e.U[d].push(f);return f},notifySubscribers:function(b,c){c=c||"change";"change"===c&&this.Gb();if(this.Wa(c)){var d="change"===c&&this.ed||this.U[c].slice(0);try{a.u.xc();for(var e=0,f;f=d[e];++e)f.Ib||f.lc(b)}finally{a.u.end()}}},ob:function(){return this.sc},\nDd:function(a){return this.ob()!==a},Gb:function(){++this.sc},ub:function(b){var c=this,d=a.O(c),e,f,g,h,m;c.gb||(c.gb=c.notifySubscribers,c.notifySubscribers=Z);var k=b(function(){c.Ja=!1;d&&h===c&&(h=c.nc?c.nc():c());var a=f||m&&c.sb(g,h);m=f=e=!1;a&&c.gb(g=h)});c.qc=function(a,b){b&&c.Ja||(m=!b);c.ed=c.U.change.slice(0);c.Ja=e=!0;h=a;k()};c.pc=function(a){e||(g=a,c.gb(a,"beforeChange"))};c.rc=function(){m=!0};c.gd=function(){c.sb(g,c.v(!0))&&(f=!0)}},Wa:function(a){return this.U[a]&&this.U[a].length},\nBd:function(b){if(b)return this.U[b]&&this.U[b].length||0;var c=0;a.a.P(this.U,function(a,b){"dirty"!==a&&(c+=b.length)});return c},sb:function(a,c){return!this.equalityComparer||!this.equalityComparer(a,c)},toString:function(){return"[object Object]"},extend:function(b){var c=this;b&&a.a.P(b,function(b,e){var f=a.Ta[b];"function"==typeof f&&(c=f(c,e)||c)});return c}};a.L(D,"init",D.qb);a.L(D,"subscribe",D.subscribe);a.L(D,"extend",D.extend);a.L(D,"getSubscriptionsCount",D.Bd);a.a.Ba&&a.a.setPrototypeOf(D,\nFunction.prototype);a.T.fn=D;a.Qc=function(a){return null!=a&&"function"==typeof a.subscribe&&"function"==typeof a.notifySubscribers};a.b("subscribable",a.T);a.b("isSubscribable",a.Qc);a.S=a.u=function(){function b(a){d.push(e);e=a}function c(){e=d.pop()}var d=[],e,f=0;return{xc:b,end:c,cc:function(b){if(e){if(!a.Qc(b))throw Error("Only subscribable things can act as dependencies");e.od.call(e.pd,b,b.fd||(b.fd=++f))}},G:function(a,d,e){try{return b(),a.apply(d,e||[])}finally{c()}},qa:function(){if(e)return e.o.qa()},\nVa:function(){if(e)return e.o.Va()},Ya:function(){if(e)return e.Ya},o:function(){if(e)return e.o}}}();a.b("computedContext",a.S);a.b("computedContext.getDependenciesCount",a.S.qa);a.b("computedContext.getDependencies",a.S.Va);a.b("computedContext.isInitial",a.S.Ya);a.b("computedContext.registerDependency",a.S.cc);a.b("ignoreDependencies",a.Yd=a.u.G);var I=a.a.Da("_latestValue");a.ta=function(b){function c(){if(0<arguments.length)return c.sb(c[I],arguments[0])&&(c.ya(),c[I]=arguments[0],c.xa()),this;\na.u.cc(c);return c[I]}c[I]=b;a.a.Ba||a.a.extend(c,a.T.fn);a.T.fn.qb(c);a.a.Ab(c,F);a.options.deferUpdates&&a.Ta.deferred(c,!0);return c};var F={equalityComparer:K,v:function(){return this[I]},xa:function(){this.notifySubscribers(this[I],"spectate");this.notifySubscribers(this[I])},ya:function(){this.notifySubscribers(this[I],"beforeChange")}};a.a.Ba&&a.a.setPrototypeOf(F,a.T.fn);var G=a.ta.Ma="__ko_proto__";F[G]=a.ta;a.O=function(b){if((b="function"==typeof b&&b[G])&&b!==F[G]&&b!==a.o.fn[G])throw Error("Invalid object that looks like an observable; possibly from another Knockout instance");\nreturn!!b};a.Za=function(b){return"function"==typeof b&&(b[G]===F[G]||b[G]===a.o.fn[G]&&b.Nc)};a.b("observable",a.ta);a.b("isObservable",a.O);a.b("isWriteableObservable",a.Za);a.b("isWritableObservable",a.Za);a.b("observable.fn",F);a.L(F,"peek",F.v);a.L(F,"valueHasMutated",F.xa);a.L(F,"valueWillMutate",F.ya);a.Ha=function(b){b=b||[];if("object"!=typeof b||!("length"in b))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");b=a.ta(b);a.a.Ab(b,\na.Ha.fn);return b.extend({trackArrayChanges:!0})};a.Ha.fn={remove:function(b){for(var c=this.v(),d=[],e="function"!=typeof b||a.O(b)?function(a){return a===b}:b,f=0;f<c.length;f++){var g=c[f];if(e(g)){0===d.length&&this.ya();if(c[f]!==g)throw Error("Array modified during remove; cannot remove item");d.push(g);c.splice(f,1);f--}}d.length&&this.xa();return d},removeAll:function(b){if(b===n){var c=this.v(),d=c.slice(0);this.ya();c.splice(0,c.length);this.xa();return d}return b?this.remove(function(c){return 0<=\na.a.A(b,c)}):[]},destroy:function(b){var c=this.v(),d="function"!=typeof b||a.O(b)?function(a){return a===b}:b;this.ya();for(var e=c.length-1;0<=e;e--){var f=c[e];d(f)&&(f._destroy=!0)}this.xa()},destroyAll:function(b){return b===n?this.destroy(function(){return!0}):b?this.destroy(function(c){return 0<=a.a.A(b,c)}):[]},indexOf:function(b){var c=this();return a.a.A(c,b)},replace:function(a,c){var d=this.indexOf(a);0<=d&&(this.ya(),this.v()[d]=c,this.xa())},sorted:function(a){var c=this().slice(0);\nreturn a?c.sort(a):c.sort()},reversed:function(){return this().slice(0).reverse()}};a.a.Ba&&a.a.setPrototypeOf(a.Ha.fn,a.ta.fn);a.a.D("pop push reverse shift sort splice unshift".split(" "),function(b){a.Ha.fn[b]=function(){var a=this.v();this.ya();this.zc(a,b,arguments);var d=a[b].apply(a,arguments);this.xa();return d===a?this:d}});a.a.D(["slice"],function(b){a.Ha.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.Pc=function(b){return a.O(b)&&"function"==typeof b.remove&&"function"==\ntypeof b.push};a.b("observableArray",a.Ha);a.b("isObservableArray",a.Pc);a.Ta.trackArrayChanges=function(b,c){function d(){function c(){if(m){var d=[].concat(b.v()||[]),e;if(b.Wa("arrayChange")){if(!f||1<m)f=a.a.Pb(k,d,b.Ob);e=f}k=d;f=null;m=0;e&&e.length&&b.notifySubscribers(e,"arrayChange")}}e?c():(e=!0,h=b.subscribe(function(){++m},null,"spectate"),k=[].concat(b.v()||[]),f=null,g=b.subscribe(c))}b.Ob={};c&&"object"==typeof c&&a.a.extend(b.Ob,c);b.Ob.sparse=!0;if(!b.zc){var e=!1,f=null,g,h,m=0,\nk,l=b.Qa,p=b.hb;b.Qa=function(a){l&&l.call(b,a);"arrayChange"===a&&d()};b.hb=function(a){p&&p.call(b,a);"arrayChange"!==a||b.Wa("arrayChange")||(g&&g.s(),h&&h.s(),h=g=null,e=!1,k=n)};b.zc=function(b,c,d){function l(a,b,c){return k[k.length]={status:a,value:b,index:c}}if(e&&!m){var k=[],p=b.length,g=d.length,h=0;switch(c){case "push":h=p;case "unshift":for(c=0;c<g;c++)l("added",d[c],h+c);break;case "pop":h=p-1;case "shift":p&&l("deleted",b[h],h);break;case "splice":c=Math.min(Math.max(0,0>d[0]?p+d[0]:\nd[0]),p);for(var p=1===g?p:Math.min(c+(d[1]||0),p),g=c+g-2,h=Math.max(p,g),U=[],L=[],n=2;c<h;++c,++n)c<p&&L.push(l("deleted",b[c],c)),c<g&&U.push(l("added",d[n],c));a.a.Kc(L,U);break;default:return}f=k}}}};var r=a.a.Da("_state");a.o=a.$=function(b,c,d){function e(){if(0<arguments.length){if("function"===typeof f)f.apply(g.nb,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a \'write\' option. If you wish to read the current value, don\'t pass any parameters.");return this}g.ra||\na.u.cc(e);(g.ka||g.J&&e.Xa())&&e.ha();return g.X}"object"===typeof b?d=b:(d=d||{},b&&(d.read=b));if("function"!=typeof d.read)throw Error("Pass a function that returns the value of the ko.computed");var f=d.write,g={X:n,sa:!0,ka:!0,rb:!1,jc:!1,ra:!1,wb:!1,J:!1,Wc:d.read,nb:c||d.owner,l:d.disposeWhenNodeIsRemoved||d.l||null,Sa:d.disposeWhen||d.Sa,Rb:null,I:{},V:0,Ic:null};e[r]=g;e.Nc="function"===typeof f;a.a.Ba||a.a.extend(e,a.T.fn);a.T.fn.qb(e);a.a.Ab(e,C);d.pure?(g.wb=!0,g.J=!0,a.a.extend(e,da)):\nd.deferEvaluation&&a.a.extend(e,ea);a.options.deferUpdates&&a.Ta.deferred(e,!0);g.l&&(g.jc=!0,g.l.nodeType||(g.l=null));g.J||d.deferEvaluation||e.ha();g.l&&e.ja()&&a.a.K.za(g.l,g.Rb=function(){e.s()});return e};var C={equalityComparer:K,qa:function(){return this[r].V},Va:function(){var b=[];a.a.P(this[r].I,function(a,d){b[d.Ka]=d.da});return b},Vb:function(b){if(!this[r].V)return!1;var c=this.Va();return-1!==a.a.A(c,b)?!0:!!a.a.Lb(c,function(a){return a.Vb&&a.Vb(b)})},uc:function(a,c,d){if(this[r].wb&&\nc===this)throw Error("A \'pure\' computed must not be called recursively");this[r].I[a]=d;d.Ka=this[r].V++;d.La=c.ob()},Xa:function(){var a,c,d=this[r].I;for(a in d)if(Object.prototype.hasOwnProperty.call(d,a)&&(c=d[a],this.Ia&&c.da.Ja||c.da.Dd(c.La)))return!0},Jd:function(){this.Ia&&!this[r].rb&&this.Ia(!1)},ja:function(){var a=this[r];return a.ka||0<a.V},Rd:function(){this.Ja?this[r].ka&&(this[r].sa=!0):this.Hc()},$c:function(a){if(a.Hb){var c=a.subscribe(this.Jd,this,"dirty"),d=a.subscribe(this.Rd,\nthis);return{da:a,s:function(){c.s();d.s()}}}return a.subscribe(this.Hc,this)},Hc:function(){var b=this,c=b.throttleEvaluation;c&&0<=c?(clearTimeout(this[r].Ic),this[r].Ic=a.a.setTimeout(function(){b.ha(!0)},c)):b.Ia?b.Ia(!0):b.ha(!0)},ha:function(b){var c=this[r],d=c.Sa,e=!1;if(!c.rb&&!c.ra){if(c.l&&!a.a.Sb(c.l)||d&&d()){if(!c.jc){this.s();return}}else c.jc=!1;c.rb=!0;try{e=this.zd(b)}finally{c.rb=!1}return e}},zd:function(b){var c=this[r],d=!1,e=c.wb?n:!c.V,d={qd:this,mb:c.I,Qb:c.V};a.u.xc({pd:d,\nod:ba,o:this,Ya:e});c.I={};c.V=0;var f=this.yd(c,d);c.V?d=this.sb(c.X,f):(this.s(),d=!0);d&&(c.J?this.Gb():this.notifySubscribers(c.X,"beforeChange"),c.X=f,this.notifySubscribers(c.X,"spectate"),!c.J&&b&&this.notifySubscribers(c.X),this.rc&&this.rc());e&&this.notifySubscribers(c.X,"awake");return d},yd:function(b,c){try{var d=b.Wc;return b.nb?d.call(b.nb):d()}finally{a.u.end(),c.Qb&&!b.J&&a.a.P(c.mb,aa),b.sa=b.ka=!1}},v:function(a){var c=this[r];(c.ka&&(a||!c.V)||c.J&&this.Xa())&&this.ha();return c.X},\nub:function(b){a.T.fn.ub.call(this,b);this.nc=function(){this[r].J||(this[r].sa?this.ha():this[r].ka=!1);return this[r].X};this.Ia=function(a){this.pc(this[r].X);this[r].ka=!0;a&&(this[r].sa=!0);this.qc(this,!a)}},s:function(){var b=this[r];!b.J&&b.I&&a.a.P(b.I,function(a,b){b.s&&b.s()});b.l&&b.Rb&&a.a.K.yb(b.l,b.Rb);b.I=n;b.V=0;b.ra=!0;b.sa=!1;b.ka=!1;b.J=!1;b.l=n;b.Sa=n;b.Wc=n;this.Nc||(b.nb=n)}},da={Qa:function(b){var c=this,d=c[r];if(!d.ra&&d.J&&"change"==b){d.J=!1;if(d.sa||c.Xa())d.I=null,d.V=\n0,c.ha()&&c.Gb();else{var e=[];a.a.P(d.I,function(a,b){e[b.Ka]=a});a.a.D(e,function(a,b){var e=d.I[a],m=c.$c(e.da);m.Ka=b;m.La=e.La;d.I[a]=m});c.Xa()&&c.ha()&&c.Gb()}d.ra||c.notifySubscribers(d.X,"awake")}},hb:function(b){var c=this[r];c.ra||"change"!=b||this.Wa("change")||(a.a.P(c.I,function(a,b){b.s&&(c.I[a]={da:b.da,Ka:b.Ka,La:b.La},b.s())}),c.J=!0,this.notifySubscribers(n,"asleep"))},ob:function(){var b=this[r];b.J&&(b.sa||this.Xa())&&this.ha();return a.T.fn.ob.call(this)}},ea={Qa:function(a){"change"!=\na&&"beforeChange"!=a||this.v()}};a.a.Ba&&a.a.setPrototypeOf(C,a.T.fn);var N=a.ta.Ma;C[N]=a.o;a.Oc=function(a){return"function"==typeof a&&a[N]===C[N]};a.Fd=function(b){return a.Oc(b)&&b[r]&&b[r].wb};a.b("computed",a.o);a.b("dependentObservable",a.o);a.b("isComputed",a.Oc);a.b("isPureComputed",a.Fd);a.b("computed.fn",C);a.L(C,"peek",C.v);a.L(C,"dispose",C.s);a.L(C,"isActive",C.ja);a.L(C,"getDependenciesCount",C.qa);a.L(C,"getDependencies",C.Va);a.xb=function(b,c){if("function"===typeof b)return a.o(b,\nc,{pure:!0});b=a.a.extend({},b);b.pure=!0;return a.o(b,c)};a.b("pureComputed",a.xb);(function(){function b(a,f,g){g=g||new d;a=f(a);if("object"!=typeof a||null===a||a===n||a instanceof RegExp||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var h=a instanceof Array?[]:{};g.save(a,h);c(a,function(c){var d=f(a[c]);switch(typeof d){case "boolean":case "number":case "string":case "function":h[c]=d;break;case "object":case "undefined":var l=g.get(d);h[c]=l!==\nn?l:b(d,f,g)}});return h}function c(a,b){if(a instanceof Array){for(var c=0;c<a.length;c++)b(c);"function"==typeof a.toJSON&&b("toJSON")}else for(c in a)b(c)}function d(){this.keys=[];this.values=[]}a.ad=function(c){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return b(c,function(b){for(var c=0;a.O(b)&&10>c;c++)b=b();return b})};a.toJSON=function(b,c,d){b=a.ad(b);return a.a.hc(b,c,d)};d.prototype={constructor:d,save:function(b,c){var d=a.a.A(this.keys,\nb);0<=d?this.values[d]=c:(this.keys.push(b),this.values.push(c))},get:function(b){b=a.a.A(this.keys,b);return 0<=b?this.values[b]:n}}})();a.b("toJS",a.ad);a.b("toJSON",a.toJSON);a.Wd=function(b,c,d){function e(c){var e=a.xb(b,d).extend({ma:"always"}),h=e.subscribe(function(a){a&&(h.s(),c(a))});e.notifySubscribers(e.v());return h}return"function"!==typeof Promise||c?e(c.bind(d)):new Promise(e)};a.b("when",a.Wd);(function(){a.w={M:function(b){switch(a.a.R(b)){case "option":return!0===b.__ko__hasDomDataOptionValue__?\na.a.g.get(b,a.c.options.$b):7>=a.a.W?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?b.value:b.text:b.value;case "select":return 0<=b.selectedIndex?a.w.M(b.options[b.selectedIndex]):n;default:return b.value}},cb:function(b,c,d){switch(a.a.R(b)){case "option":"string"===typeof c?(a.a.g.set(b,a.c.options.$b,n),"__ko__hasDomDataOptionValue__"in b&&delete b.__ko__hasDomDataOptionValue__,b.value=c):(a.a.g.set(b,a.c.options.$b,c),b.__ko__hasDomDataOptionValue__=!0,b.value="number"===\ntypeof c?c:"");break;case "select":if(""===c||null===c)c=n;for(var e=-1,f=0,g=b.options.length,h;f<g;++f)if(h=a.w.M(b.options[f]),h==c||""===h&&c===n){e=f;break}if(d||0<=e||c===n&&1<b.size)b.selectedIndex=e,6===a.a.W&&a.a.setTimeout(function(){b.selectedIndex=e},0);break;default:if(null===c||c===n)c="";b.value=c}}}})();a.b("selectExtensions",a.w);a.b("selectExtensions.readValue",a.w.M);a.b("selectExtensions.writeValue",a.w.cb);a.m=function(){function b(b){b=a.a.Db(b);123===b.charCodeAt(0)&&(b=b.slice(1,\n-1));b+="\\n,";var c=[],d=b.match(e),p,q=[],h=0;if(1<d.length){for(var x=0,B;B=d[x];++x){var u=B.charCodeAt(0);if(44===u){if(0>=h){c.push(p&&q.length?{key:p,value:q.join("")}:{unknown:p||q.join("")});p=h=0;q=[];continue}}else if(58===u){if(!h&&!p&&1===q.length){p=q.pop();continue}}else if(47===u&&1<B.length&&(47===B.charCodeAt(1)||42===B.charCodeAt(1)))continue;else 47===u&&x&&1<B.length?(u=d[x-1].match(f))&&!g[u[0]]&&(b=b.substr(b.indexOf(B)+1),d=b.match(e),x=-1,B="/"):40===u||123===u||91===u?++h:\n41===u||125===u||93===u?--h:p||q.length||34!==u&&39!==u||(B=B.slice(1,-1));q.push(B)}if(0<h)throw Error("Unbalanced parentheses, braces, or brackets");}return c}var c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\\w]*|(.+)(\\.\\s*[$_a-z][$\\w]*|\\[.+\\]))$/i,e=RegExp("\\"(?:\\\\\\\\.|[^\\"])*\\"|\'(?:\\\\\\\\.|[^\'])*\'|`(?:\\\\\\\\.|[^`])*`|/\\\\*(?:[^*]|\\\\*+[^*/])*\\\\*+/|//.*\\n|/(?:\\\\\\\\.|[^/])+/w*|[^\\\\s:,/][^,\\"\'`{}()/:[\\\\]]*[^\\\\s,\\"\'`{}()/:[\\\\]]|[^\\\\s]","g"),f=/[\\])"\'A-Za-z0-9_$]+$/,g={"in":1,"return":1,"typeof":1},\nh={};return{Ra:[],wa:h,ac:b,vb:function(e,f){function l(b,e){var f;if(!x){var k=a.getBindingHandler(b);if(k&&k.preprocess&&!(e=k.preprocess(e,b,l)))return;if(k=h[b])f=e,0<=a.a.A(c,f)?f=!1:(k=f.match(d),f=null===k?!1:k[1]?"Object("+k[1]+")"+k[2]:f),k=f;k&&q.push("\'"+("string"==typeof h[b]?h[b]:b)+"\':function(_z){"+f+"=_z}")}g&&(e="function(){return "+e+" }");p.push("\'"+b+"\':"+e)}f=f||{};var p=[],q=[],g=f.valueAccessors,x=f.bindingParams,B="string"===typeof e?b(e):e;a.a.D(B,function(a){l(a.key||a.unknown,\na.value)});q.length&&l("_ko_property_writers","{"+q.join(",")+" }");return p.join(",")},Id:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;return!1},eb:function(b,c,d,e,f){if(b&&a.O(b))!a.Za(b)||f&&b.v()===e||b(e);else if((b=c.get("_ko_property_writers"))&&b[d])b[d](e)}}}();a.b("expressionRewriting",a.m);a.b("expressionRewriting.bindingRewriteValidators",a.m.Ra);a.b("expressionRewriting.parseObjectLiteral",a.m.ac);a.b("expressionRewriting.preProcessBindings",a.m.vb);a.b("expressionRewriting._twoWayBindings",\na.m.wa);a.b("jsonExpressionRewriting",a.m);a.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.m.vb);(function(){function b(a){return 8==a.nodeType&&g.test(f?a.text:a.nodeValue)}function c(a){return 8==a.nodeType&&h.test(f?a.text:a.nodeValue)}function d(d,e){for(var f=d,h=1,g=[];f=f.nextSibling;){if(c(f)&&(a.a.g.set(f,k,!0),h--,0===h))return g;g.push(f);b(f)&&h++}if(!e)throw Error("Cannot find closing comment tag to match: "+d.nodeValue);return null}function e(a,b){var c=d(a,b);return c?\n0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var f=w&&"\\x3c!--test--\\x3e"===w.createComment("test").text,g=f?/^\\x3c!--\\s*ko(?:\\s+([\\s\\S]+))?\\s*--\\x3e$/:/^\\s*ko(?:\\s+([\\s\\S]+))?\\s*$/,h=f?/^\\x3c!--\\s*\\/ko\\s*--\\x3e$/:/^\\s*\\/ko\\s*$/,m={ul:!0,ol:!0},k="__ko_matchedEndComment__";a.h={ea:{},childNodes:function(a){return b(a)?d(a):a.childNodes},Ea:function(c){if(b(c)){c=a.h.childNodes(c);for(var d=0,e=c.length;d<e;d++)a.removeNode(c[d])}else a.a.Tb(c)},va:function(c,d){if(b(c)){a.h.Ea(c);for(var e=\nc.nextSibling,f=0,k=d.length;f<k;f++)e.parentNode.insertBefore(d[f],e)}else a.a.va(c,d)},Vc:function(a,c){var d;b(a)?(d=a.nextSibling,a=a.parentNode):d=a.firstChild;d?c!==d&&a.insertBefore(c,d):a.appendChild(c)},Wb:function(c,d,e){e?(e=e.nextSibling,b(c)&&(c=c.parentNode),e?d!==e&&c.insertBefore(d,e):c.appendChild(d)):a.h.Vc(c,d)},firstChild:function(a){if(b(a))return!a.nextSibling||c(a.nextSibling)?null:a.nextSibling;if(a.firstChild&&c(a.firstChild))throw Error("Found invalid end comment, as the first child of "+\na);return a.firstChild},nextSibling:function(d){b(d)&&(d=e(d));if(d.nextSibling&&c(d.nextSibling)){var f=d.nextSibling;if(c(f)&&!a.a.g.get(f,k))throw Error("Found end comment without a matching opening comment, as child of "+d);return null}return d.nextSibling},Cd:b,Vd:function(a){return(a=(f?a.text:a.nodeValue).match(g))?a[1]:null},Sc:function(d){if(m[a.a.R(d)]){var f=d.firstChild;if(f){do if(1===f.nodeType){var k;k=f.firstChild;var h=null;if(k){do if(h)h.push(k);else if(b(k)){var g=e(k,!0);g?k=\ng:h=[k]}else c(k)&&(h=[k]);while(k=k.nextSibling)}if(k=h)for(h=f.nextSibling,g=0;g<k.length;g++)h?d.insertBefore(k[g],h):d.appendChild(k[g])}while(f=f.nextSibling)}}}}})();a.b("virtualElements",a.h);a.b("virtualElements.allowedBindings",a.h.ea);a.b("virtualElements.emptyNode",a.h.Ea);a.b("virtualElements.insertAfter",a.h.Wb);a.b("virtualElements.prepend",a.h.Vc);a.b("virtualElements.setDomNodeChildren",a.h.va);(function(){a.ga=function(){this.nd={}};a.a.extend(a.ga.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=\nb.getAttribute("data-bind")||a.j.getComponentNameForNode(b);case 8:return a.h.Cd(b);default:return!1}},getBindings:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b):null;return a.j.tc(d,b,c,!1)},getBindingAccessors:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b,{valueAccessors:!0}):null;return a.j.tc(d,b,c,!0)},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind");case 8:return a.h.Vd(b);default:return null}},\nparseBindingsString:function(b,c,d,e){try{var f=this.nd,g=b+(e&&e.valueAccessors||""),h;if(!(h=f[g])){var m,k="with($context){with($data||{}){return{"+a.m.vb(b,e)+"}}}";m=new Function("$context","$element",k);h=f[g]=m}return h(c,d)}catch(l){throw l.message="Unable to parse bindings.\\nBindings value: "+b+"\\nMessage: "+l.message,l;}}});a.ga.instance=new a.ga})();a.b("bindingProvider",a.ga);(function(){function b(b){var c=(b=a.a.g.get(b,z))&&b.N;c&&(b.N=null,c.Tc())}function c(c,d,e){this.node=c;this.yc=\nd;this.kb=[];this.H=!1;d.N||a.a.K.za(c,b);e&&e.N&&(e.N.kb.push(c),this.Kb=e)}function d(a){return function(){return a}}function e(a){return a()}function f(b){return a.a.Ga(a.u.G(b),function(a,c){return function(){return b()[c]}})}function g(b,c,e){return"function"===typeof b?f(b.bind(null,c,e)):a.a.Ga(b,d)}function h(a,b){return f(this.getBindings.bind(this,a,b))}function m(b,c){var d=a.h.firstChild(c);if(d){var e,f=a.ga.instance,l=f.preprocessNode;if(l){for(;e=d;)d=a.h.nextSibling(e),l.call(f,e);\nd=a.h.firstChild(c)}for(;e=d;)d=a.h.nextSibling(e),k(b,e)}a.i.ma(c,a.i.H)}function k(b,c){var d=b,e=1===c.nodeType;e&&a.h.Sc(c);if(e||a.ga.instance.nodeHasBindings(c))d=p(c,null,b).bindingContextForDescendants;d&&!u[a.a.R(c)]&&m(d,c)}function l(b){var c=[],d={},e=[];a.a.P(b,function ca(f){if(!d[f]){var k=a.getBindingHandler(f);k&&(k.after&&(e.push(f),a.a.D(k.after,function(c){if(b[c]){if(-1!==a.a.A(e,c))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+e.join(", "));\nca(c)}}),e.length--),c.push({key:f,Mc:k}));d[f]=!0}});return c}function p(b,c,d){var f=a.a.g.Ub(b,z,{}),k=f.hd;if(!c){if(k)throw Error("You cannot apply bindings multiple times to the same element.");f.hd=!0}k||(f.context=d);f.Zb||(f.Zb={});var g;if(c&&"function"!==typeof c)g=c;else{var p=a.ga.instance,q=p.getBindingAccessors||h,m=a.$(function(){if(g=c?c(d,b):q.call(p,b,d)){if(d[t])d[t]();if(d[B])d[B]()}return g},null,{l:b});g&&m.ja()||(m=null)}var x=d,u;if(g){var J=function(){return a.a.Ga(m?m():\ng,e)},r=m?function(a){return function(){return e(m()[a])}}:function(a){return g[a]};J.get=function(a){return g[a]&&e(r(a))};J.has=function(a){return a in g};a.i.H in g&&a.i.subscribe(b,a.i.H,function(){var c=(0,g[a.i.H])();if(c){var d=a.h.childNodes(b);d.length&&c(d,a.Ec(d[0]))}});a.i.pa in g&&(x=a.i.Cb(b,d),a.i.subscribe(b,a.i.pa,function(){var c=(0,g[a.i.pa])();c&&a.h.firstChild(b)&&c(b)}));f=l(g);a.a.D(f,function(c){var d=c.Mc.init,e=c.Mc.update,f=c.key;if(8===b.nodeType&&!a.h.ea[f])throw Error("The binding \'"+\nf+"\' cannot be used with virtual elements");try{"function"==typeof d&&a.u.G(function(){var a=d(b,r(f),J,x.$data,x);if(a&&a.controlsDescendantBindings){if(u!==n)throw Error("Multiple bindings ("+u+" and "+f+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");u=f}}),"function"==typeof e&&a.$(function(){e(b,r(f),J,x.$data,x)},null,{l:b})}catch(k){throw k.message=\'Unable to process binding "\'+f+": "+g[f]+\'"\\nMessage: \'+k.message,\nk;}})}f=u===n;return{shouldBindDescendants:f,bindingContextForDescendants:f&&x}}function q(b,c){return b&&b instanceof a.fa?b:new a.fa(b,n,n,c)}var t=a.a.Da("_subscribable"),x=a.a.Da("_ancestorBindingInfo"),B=a.a.Da("_dataDependency");a.c={};var u={script:!0,textarea:!0,template:!0};a.getBindingHandler=function(b){return a.c[b]};var J={};a.fa=function(b,c,d,e,f){function k(){var b=p?h():h,f=a.a.f(b);c?(a.a.extend(l,c),x in c&&(l[x]=c[x])):(l.$parents=[],l.$root=f,l.ko=a);l[t]=q;g?f=l.$data:(l.$rawData=\nb,l.$data=f);d&&(l[d]=f);e&&e(l,c,f);if(c&&c[t]&&!a.S.o().Vb(c[t]))c[t]();m&&(l[B]=m);return l.$data}var l=this,g=b===J,h=g?n:b,p="function"==typeof h&&!a.O(h),q,m=f&&f.dataDependency;f&&f.exportDependencies?k():(q=a.xb(k),q.v(),q.ja()?q.equalityComparer=null:l[t]=n)};a.fa.prototype.createChildContext=function(b,c,d,e){!e&&c&&"object"==typeof c&&(e=c,c=e.as,d=e.extend);if(c&&e&&e.noChildContext){var f="function"==typeof b&&!a.O(b);return new a.fa(J,this,null,function(a){d&&d(a);a[c]=f?b():b},e)}return new a.fa(b,\nthis,c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);d&&d(a)},e)};a.fa.prototype.extend=function(b,c){return new a.fa(J,this,null,function(c){a.a.extend(c,"function"==typeof b?b(c):b)},c)};var z=a.a.g.Z();c.prototype.Tc=function(){this.Kb&&this.Kb.N&&this.Kb.N.sd(this.node)};c.prototype.sd=function(b){a.a.Pa(this.kb,b);!this.kb.length&&this.H&&this.Cc()};c.prototype.Cc=function(){this.H=!0;this.yc.N&&!this.kb.length&&(this.yc.N=\nnull,a.a.K.yb(this.node,b),a.i.ma(this.node,a.i.pa),this.Tc())};a.i={H:"childrenComplete",pa:"descendantsComplete",subscribe:function(b,c,d,e,f){var k=a.a.g.Ub(b,z,{});k.Fa||(k.Fa=new a.T);f&&f.notifyImmediately&&k.Zb[c]&&a.u.G(d,e,[b]);return k.Fa.subscribe(d,e,c)},ma:function(b,c){var d=a.a.g.get(b,z);if(d&&(d.Zb[c]=!0,d.Fa&&d.Fa.notifySubscribers(b,c),c==a.i.H))if(d.N)d.N.Cc();else if(d.N===n&&d.Fa&&d.Fa.Wa(a.i.pa))throw Error("descendantsComplete event not supported for bindings on this node");\n},Cb:function(b,d){var e=a.a.g.Ub(b,z,{});e.N||(e.N=new c(b,e,d[x]));return d[x]==e?d:d.extend(function(a){a[x]=e})}};a.Td=function(b){return(b=a.a.g.get(b,z))&&b.context};a.ib=function(b,c,d){1===b.nodeType&&a.h.Sc(b);return p(b,c,q(d))};a.ld=function(b,c,d){d=q(d);return a.ib(b,g(c,d,b),d)};a.Oa=function(a,b){1!==b.nodeType&&8!==b.nodeType||m(q(a),b)};a.vc=function(a,b,c){!v&&A.jQuery&&(v=A.jQuery);if(2>arguments.length){if(b=w.body,!b)throw Error("ko.applyBindings: could not find document.body; has the document been loaded?");\n}else if(!b||1!==b.nodeType&&8!==b.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");k(q(a,c),b)};a.Dc=function(b){return!b||1!==b.nodeType&&8!==b.nodeType?n:a.Td(b)};a.Ec=function(b){return(b=a.Dc(b))?b.$data:n};a.b("bindingHandlers",a.c);a.b("bindingEvent",a.i);a.b("bindingEvent.subscribe",a.i.subscribe);a.b("bindingEvent.startPossiblyAsyncContentBinding",a.i.Cb);a.b("applyBindings",a.vc);a.b("applyBindingsToDescendants",a.Oa);\na.b("applyBindingAccessorsToNode",a.ib);a.b("applyBindingsToNode",a.ld);a.b("contextFor",a.Dc);a.b("dataFor",a.Ec)})();(function(b){function c(c,e){var k=Object.prototype.hasOwnProperty.call(f,c)?f[c]:b,l;k?k.subscribe(e):(k=f[c]=new a.T,k.subscribe(e),d(c,function(b,d){var e=!(!d||!d.synchronous);g[c]={definition:b,Gd:e};delete f[c];l||e?k.notifySubscribers(b):a.na.zb(function(){k.notifySubscribers(b)})}),l=!0)}function d(a,b){e("getConfig",[a],function(c){c?e("loadComponent",[a,c],function(a){b(a,\nc)}):b(null,null)})}function e(c,d,f,l){l||(l=a.j.loaders.slice(0));var g=l.shift();if(g){var q=g[c];if(q){var t=!1;if(q.apply(g,d.concat(function(a){t?f(null):null!==a?f(a):e(c,d,f,l)}))!==b&&(t=!0,!g.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");}else e(c,d,f,l)}else f(null)}var f={},g={};a.j={get:function(d,e){var f=Object.prototype.hasOwnProperty.call(g,d)?g[d]:b;f?f.Gd?a.u.G(function(){e(f.definition)}):\na.na.zb(function(){e(f.definition)}):c(d,e)},Bc:function(a){delete g[a]},oc:e};a.j.loaders=[];a.b("components",a.j);a.b("components.get",a.j.get);a.b("components.clearCachedDefinition",a.j.Bc)})();(function(){function b(b,c,d,e){function g(){0===--B&&e(h)}var h={},B=2,u=d.template;d=d.viewModel;u?f(c,u,function(c){a.j.oc("loadTemplate",[b,c],function(a){h.template=a;g()})}):g();d?f(c,d,function(c){a.j.oc("loadViewModel",[b,c],function(a){h[m]=a;g()})}):g()}function c(a,b,d){if("function"===typeof b)d(function(a){return new b(a)});\nelse if("function"===typeof b[m])d(b[m]);else if("instance"in b){var e=b.instance;d(function(){return e})}else"viewModel"in b?c(a,b.viewModel,d):a("Unknown viewModel value: "+b)}function d(b){switch(a.a.R(b)){case "script":return a.a.ua(b.text);case "textarea":return a.a.ua(b.value);case "template":if(e(b.content))return a.a.Ca(b.content.childNodes)}return a.a.Ca(b.childNodes)}function e(a){return A.DocumentFragment?a instanceof DocumentFragment:a&&11===a.nodeType}function f(a,b,c){"string"===typeof b.require?\nT||A.require?(T||A.require)([b.require],function(a){a&&"object"===typeof a&&a.Xd&&a["default"]&&(a=a["default"]);c(a)}):a("Uses require, but no AMD loader is present"):c(b)}function g(a){return function(b){throw Error("Component \'"+a+"\': "+b);}}var h={};a.j.register=function(b,c){if(!c)throw Error("Invalid configuration for "+b);if(a.j.tb(b))throw Error("Component "+b+" is already registered");h[b]=c};a.j.tb=function(a){return Object.prototype.hasOwnProperty.call(h,a)};a.j.unregister=function(b){delete h[b];\na.j.Bc(b)};a.j.Fc={getConfig:function(b,c){c(a.j.tb(b)?h[b]:null)},loadComponent:function(a,c,d){var e=g(a);f(e,c,function(c){b(a,e,c,d)})},loadTemplate:function(b,c,f){b=g(b);if("string"===typeof c)f(a.a.ua(c));else if(c instanceof Array)f(c);else if(e(c))f(a.a.la(c.childNodes));else if(c.element)if(c=c.element,A.HTMLElement?c instanceof HTMLElement:c&&c.tagName&&1===c.nodeType)f(d(c));else if("string"===typeof c){var h=w.getElementById(c);h?f(d(h)):b("Cannot find element with ID "+c)}else b("Unknown element type: "+\nc);else b("Unknown template value: "+c)},loadViewModel:function(a,b,d){c(g(a),b,d)}};var m="createViewModel";a.b("components.register",a.j.register);a.b("components.isRegistered",a.j.tb);a.b("components.unregister",a.j.unregister);a.b("components.defaultLoader",a.j.Fc);a.j.loaders.push(a.j.Fc);a.j.dd=h})();(function(){function b(b,e){var f=b.getAttribute("params");if(f){var f=c.parseBindingsString(f,e,b,{valueAccessors:!0,bindingParams:!0}),f=a.a.Ga(f,function(c){return a.o(c,null,{l:b})}),g=a.a.Ga(f,\nfunction(c){var e=c.v();return c.ja()?a.o({read:function(){return a.a.f(c())},write:a.Za(e)&&function(a){c()(a)},l:b}):e});Object.prototype.hasOwnProperty.call(g,"$raw")||(g.$raw=f);return g}return{$raw:{}}}a.j.getComponentNameForNode=function(b){var c=a.a.R(b);if(a.j.tb(c)&&(-1!=c.indexOf("-")||"[object HTMLUnknownElement]"==""+b||8>=a.a.W&&b.tagName===c))return c};a.j.tc=function(c,e,f,g){if(1===e.nodeType){var h=a.j.getComponentNameForNode(e);if(h){c=c||{};if(c.component)throw Error(\'Cannot use the "component" binding on a custom element matching a component\');\nvar m={name:h,params:b(e,f)};c.component=g?function(){return m}:m}}return c};var c=new a.ga;9>a.a.W&&(a.j.register=function(a){return function(b){return a.apply(this,arguments)}}(a.j.register),w.createDocumentFragment=function(b){return function(){var c=b(),f=a.j.dd,g;for(g in f);return c}}(w.createDocumentFragment))})();(function(){function b(b,c,d){c=c.template;if(!c)throw Error("Component \'"+b+"\' has no template");b=a.a.Ca(c);a.h.va(d,b)}function c(a,b,c){var d=a.createViewModel;return d?d.call(a,\nb,c):b}var d=0;a.c.component={init:function(e,f,g,h,m){function k(){var a=l&&l.dispose;"function"===typeof a&&a.call(l);q&&q.s();p=l=q=null}var l,p,q,t=a.a.la(a.h.childNodes(e));a.h.Ea(e);a.a.K.za(e,k);a.o(function(){var g=a.a.f(f()),h,u;"string"===typeof g?h=g:(h=a.a.f(g.name),u=a.a.f(g.params));if(!h)throw Error("No component name specified");var n=a.i.Cb(e,m),z=p=++d;a.j.get(h,function(d){if(p===z){k();if(!d)throw Error("Unknown component \'"+h+"\'");b(h,d,e);var f=c(d,u,{element:e,templateNodes:t});\nd=n.createChildContext(f,{extend:function(a){a.$component=f;a.$componentTemplateNodes=t}});f&&f.koDescendantsComplete&&(q=a.i.subscribe(e,a.i.pa,f.koDescendantsComplete,f));l=f;a.Oa(d,e)}})},null,{l:e});return{controlsDescendantBindings:!0}}};a.h.ea.component=!0})();var V={"class":"className","for":"htmlFor"};a.c.attr={update:function(b,c){var d=a.a.f(c())||{};a.a.P(d,function(c,d){d=a.a.f(d);var g=c.indexOf(":"),g="lookupNamespaceURI"in b&&0<g&&b.lookupNamespaceURI(c.substr(0,g)),h=!1===d||null===\nd||d===n;h?g?b.removeAttributeNS(g,c):b.removeAttribute(c):d=d.toString();8>=a.a.W&&c in V?(c=V[c],h?b.removeAttribute(c):b[c]=d):h||(g?b.setAttributeNS(g,c,d):b.setAttribute(c,d));"name"===c&&a.a.Yc(b,h?"":d)})}};(function(){a.c.checked={after:["value","attr"],init:function(b,c,d){function e(){var e=b.checked,f=g();if(!a.S.Ya()&&(e||!m&&!a.S.qa())){var k=a.u.G(c);if(l){var q=p?k.v():k,z=t;t=f;z!==f?e&&(a.a.Na(q,f,!0),a.a.Na(q,z,!1)):a.a.Na(q,f,e);p&&a.Za(k)&&k(q)}else h&&(f===n?f=e:e||(f=n)),a.m.eb(k,\nd,"checked",f,!0)}}function f(){var d=a.a.f(c()),e=g();l?(b.checked=0<=a.a.A(d,e),t=e):b.checked=h&&e===n?!!d:g()===d}var g=a.xb(function(){if(d.has("checkedValue"))return a.a.f(d.get("checkedValue"));if(q)return d.has("value")?a.a.f(d.get("value")):b.value}),h="checkbox"==b.type,m="radio"==b.type;if(h||m){var k=c(),l=h&&a.a.f(k)instanceof Array,p=!(l&&k.push&&k.splice),q=m||l,t=l?g():n;m&&!b.name&&a.c.uniqueName.init(b,function(){return!0});a.o(e,null,{l:b});a.a.B(b,"click",e);a.o(f,null,{l:b});\nk=n}}};a.m.wa.checked=!0;a.c.checkedValue={update:function(b,c){b.value=a.a.f(c())}}})();a.c["class"]={update:function(b,c){var d=a.a.Db(a.a.f(c()));a.a.Eb(b,b.__ko__cssValue,!1);b.__ko__cssValue=d;a.a.Eb(b,d,!0)}};a.c.css={update:function(b,c){var d=a.a.f(c());null!==d&&"object"==typeof d?a.a.P(d,function(c,d){d=a.a.f(d);a.a.Eb(b,c,d)}):a.c["class"].update(b,c)}};a.c.enable={update:function(b,c){var d=a.a.f(c());d&&b.disabled?b.removeAttribute("disabled"):d||b.disabled||(b.disabled=!0)}};a.c.disable=\n{update:function(b,c){a.c.enable.update(b,function(){return!a.a.f(c())})}};a.c.event={init:function(b,c,d,e,f){var g=c()||{};a.a.P(g,function(g){"string"==typeof g&&a.a.B(b,g,function(b){var k,l=c()[g];if(l){try{var p=a.a.la(arguments);e=f.$data;p.unshift(e);k=l.apply(e,p)}finally{!0!==k&&(b.preventDefault?b.preventDefault():b.returnValue=!1)}!1===d.get(g+"Bubble")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}};a.c.foreach={Rc:function(b){return function(){var c=b(),d=a.a.bc(c);\nif(!d||"number"==typeof d.length)return{foreach:c,templateEngine:a.ba.Ma};a.a.f(c);return{foreach:d.data,as:d.as,noChildContext:d.noChildContext,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.ba.Ma}}},init:function(b,c){return a.c.template.init(b,a.c.foreach.Rc(c))},update:function(b,c,d,e,f){return a.c.template.update(b,a.c.foreach.Rc(c),d,e,f)}};a.m.Ra.foreach=!1;a.h.ea.foreach=\n!0;a.c.hasfocus={init:function(b,c,d){function e(e){b.__ko_hasfocusUpdating=!0;var f=b.ownerDocument;if("activeElement"in f){var g;try{g=f.activeElement}catch(l){g=f.body}e=g===b}f=c();a.m.eb(f,d,"hasfocus",e,!0);b.__ko_hasfocusLastValue=e;b.__ko_hasfocusUpdating=!1}var f=e.bind(null,!0),g=e.bind(null,!1);a.a.B(b,"focus",f);a.a.B(b,"focusin",f);a.a.B(b,"blur",g);a.a.B(b,"focusout",g);b.__ko_hasfocusLastValue=!1},update:function(b,c){var d=!!a.a.f(c());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===\nd||(d?b.focus():b.blur(),!d&&b.__ko_hasfocusLastValue&&b.ownerDocument.body.focus(),a.u.G(a.a.Fb,null,[b,d?"focusin":"focusout"]))}};a.m.wa.hasfocus=!0;a.c.hasFocus=a.c.hasfocus;a.m.wa.hasFocus="hasfocus";a.c.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.fc(b,c())}};(function(){function b(b,d,e){a.c[b]={init:function(b,c,h,m,k){var l,p,q={},t,x,n;if(d){m=h.get("as");var u=h.get("noChildContext");n=!(m&&u);q={as:m,noChildContext:u,exportDependencies:n}}x=(t=\n"render"==h.get("completeOn"))||h.has(a.i.pa);a.o(function(){var h=a.a.f(c()),m=!e!==!h,u=!p,r;if(n||m!==l){x&&(k=a.i.Cb(b,k));if(m){if(!d||n)q.dataDependency=a.S.o();r=d?k.createChildContext("function"==typeof h?h:c,q):a.S.qa()?k.extend(null,q):k}u&&a.S.qa()&&(p=a.a.Ca(a.h.childNodes(b),!0));m?(u||a.h.va(b,a.a.Ca(p)),a.Oa(r,b)):(a.h.Ea(b),t||a.i.ma(b,a.i.H));l=m}},null,{l:b});return{controlsDescendantBindings:!0}}};a.m.Ra[b]=!1;a.h.ea[b]=!0}b("if");b("ifnot",!1,!0);b("with",!0)})();a.c.let={init:function(b,\nc,d,e,f){c=f.extend(c);a.Oa(c,b);return{controlsDescendantBindings:!0}}};a.h.ea.let=!0;var Q={};a.c.options={init:function(b){if("select"!==a.a.R(b))throw Error("options binding applies only to SELECT elements");for(;0<b.length;)b.remove(0);return{controlsDescendantBindings:!0}},update:function(b,c,d){function e(){return a.a.jb(b.options,function(a){return a.selected})}function f(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function g(c,d){if(x&&l)a.i.ma(b,a.i.H);else if(t.length){var e=\n0<=a.a.A(t,a.w.M(d[0]));a.a.Zc(d[0],e);x&&!e&&a.u.G(a.a.Fb,null,[b,"change"])}}var h=b.multiple,m=0!=b.length&&h?b.scrollTop:null,k=a.a.f(c()),l=d.get("valueAllowUnset")&&d.has("value"),p=d.get("optionsIncludeDestroyed");c={};var q,t=[];l||(h?t=a.a.Mb(e(),a.w.M):0<=b.selectedIndex&&t.push(a.w.M(b.options[b.selectedIndex])));k&&("undefined"==typeof k.length&&(k=[k]),q=a.a.jb(k,function(b){return p||b===n||null===b||!a.a.f(b._destroy)}),d.has("optionsCaption")&&(k=a.a.f(d.get("optionsCaption")),null!==\nk&&k!==n&&q.unshift(Q)));var x=!1;c.beforeRemove=function(a){b.removeChild(a)};k=g;d.has("optionsAfterRender")&&"function"==typeof d.get("optionsAfterRender")&&(k=function(b,c){g(0,c);a.u.G(d.get("optionsAfterRender"),null,[c[0],b!==Q?b:n])});a.a.ec(b,q,function(c,e,g){g.length&&(t=!l&&g[0].selected?[a.w.M(g[0])]:[],x=!0);e=b.ownerDocument.createElement("option");c===Q?(a.a.Bb(e,d.get("optionsCaption")),a.w.cb(e,n)):(g=f(c,d.get("optionsValue"),c),a.w.cb(e,a.a.f(g)),c=f(c,d.get("optionsText"),g),\na.a.Bb(e,c));return[e]},c,k);if(!l){var B;h?B=t.length&&e().length<t.length:B=t.length&&0<=b.selectedIndex?a.w.M(b.options[b.selectedIndex])!==t[0]:t.length||0<=b.selectedIndex;B&&a.u.G(a.a.Fb,null,[b,"change"])}(l||a.S.Ya())&&a.i.ma(b,a.i.H);a.a.wd(b);m&&20<Math.abs(m-b.scrollTop)&&(b.scrollTop=m)}};a.c.options.$b=a.a.g.Z();a.c.selectedOptions={init:function(b,c,d){function e(){var e=c(),f=[];a.a.D(b.getElementsByTagName("option"),function(b){b.selected&&f.push(a.w.M(b))});a.m.eb(e,d,"selectedOptions",\nf)}function f(){var d=a.a.f(c()),e=b.scrollTop;d&&"number"==typeof d.length&&a.a.D(b.getElementsByTagName("option"),function(b){var c=0<=a.a.A(d,a.w.M(b));b.selected!=c&&a.a.Zc(b,c)});b.scrollTop=e}if("select"!=a.a.R(b))throw Error("selectedOptions binding applies only to SELECT elements");var g;a.i.subscribe(b,a.i.H,function(){g?e():(a.a.B(b,"change",e),g=a.o(f,null,{l:b}))},null,{notifyImmediately:!0})},update:function(){}};a.m.wa.selectedOptions=!0;a.c.style={update:function(b,c){var d=a.a.f(c()||\n{});a.a.P(d,function(c,d){d=a.a.f(d);if(null===d||d===n||!1===d)d="";if(v)v(b).css(c,d);else if(/^--/.test(c))b.style.setProperty(c,d);else{c=c.replace(/-(\\w)/g,function(a,b){return b.toUpperCase()});var g=b.style[c];b.style[c]=d;d===g||b.style[c]!=g||isNaN(d)||(b.style[c]=d+"px")}})}};a.c.submit={init:function(b,c,d,e,f){if("function"!=typeof c())throw Error("The value for a submit binding must be a function");a.a.B(b,"submit",function(a){var d,e=c();try{d=e.call(f.$data,b)}finally{!0!==d&&(a.preventDefault?\na.preventDefault():a.returnValue=!1)}})}};a.c.text={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.Bb(b,c())}};a.h.ea.text=!0;(function(){if(A&&A.navigator){var b=function(a){if(a)return parseFloat(a[1])},c=A.navigator.userAgent,d,e,f,g,h;(d=A.opera&&A.opera.version&&parseInt(A.opera.version()))||(h=b(c.match(/Edge\\/([^ ]+)$/)))||b(c.match(/Chrome\\/([^ ]+)/))||(e=b(c.match(/Version\\/([^ ]+) Safari/)))||(f=b(c.match(/Firefox\\/([^ ]+)/)))||(g=a.a.W||b(c.match(/MSIE ([^ ]+)/)))||\n(g=b(c.match(/rv:([^ )]+)/)))}if(8<=g&&10>g)var m=a.a.g.Z(),k=a.a.g.Z(),l=function(b){var c=this.activeElement;(c=c&&a.a.g.get(c,k))&&c(b)},p=function(b,c){var d=b.ownerDocument;a.a.g.get(d,m)||(a.a.g.set(d,m,!0),a.a.B(d,"selectionchange",l));a.a.g.set(b,k,c)};a.c.textInput={init:function(b,c,k){function l(c,d){a.a.B(b,c,d)}function m(){var d=a.a.f(c());if(null===d||d===n)d="";L!==n&&d===L?a.a.setTimeout(m,4):b.value!==d&&(y=!0,b.value=d,y=!1,v=b.value)}function r(){w||(L=b.value,w=a.a.setTimeout(z,\n4))}function z(){clearTimeout(w);L=w=n;var d=b.value;v!==d&&(v=d,a.m.eb(c(),k,"textInput",d))}var v=b.value,w,L,A=9==a.a.W?r:z,y=!1;g&&l("keypress",z);11>g&&l("propertychange",function(a){y||"value"!==a.propertyName||A(a)});8==g&&(l("keyup",z),l("keydown",z));p&&(p(b,A),l("dragend",r));(!g||9<=g)&&l("input",A);5>e&&"textarea"===a.a.R(b)?(l("keydown",r),l("paste",r),l("cut",r)):11>d?l("keydown",r):4>f?(l("DOMAutoComplete",z),l("dragdrop",z),l("drop",z)):h&&"number"===b.type&&l("keydown",r);l("change",\nz);l("blur",z);a.o(m,null,{l:b})}};a.m.wa.textInput=!0;a.c.textinput={preprocess:function(a,b,c){c("textInput",a)}}})();a.c.uniqueName={init:function(b,c){if(c()){var d="ko_unique_"+ ++a.c.uniqueName.rd;a.a.Yc(b,d)}}};a.c.uniqueName.rd=0;a.c.using={init:function(b,c,d,e,f){var g;d.has("as")&&(g={as:d.get("as"),noChildContext:d.get("noChildContext")});c=f.createChildContext(c,g);a.Oa(c,b);return{controlsDescendantBindings:!0}}};a.h.ea.using=!0;a.c.value={init:function(b,c,d){var e=a.a.R(b),f="input"==\ne;if(!f||"checkbox"!=b.type&&"radio"!=b.type){var g=[],h=d.get("valueUpdate"),m=!1,k=null;h&&("string"==typeof h?g=[h]:g=a.a.wc(h),a.a.Pa(g,"change"));var l=function(){k=null;m=!1;var e=c(),f=a.w.M(b);a.m.eb(e,d,"value",f)};!a.a.W||!f||"text"!=b.type||"off"==b.autocomplete||b.form&&"off"==b.form.autocomplete||-1!=a.a.A(g,"propertychange")||(a.a.B(b,"propertychange",function(){m=!0}),a.a.B(b,"focus",function(){m=!1}),a.a.B(b,"blur",function(){m&&l()}));a.a.D(g,function(c){var d=l;a.a.Ud(c,"after")&&\n(d=function(){k=a.w.M(b);a.a.setTimeout(l,0)},c=c.substring(5));a.a.B(b,c,d)});var p;p=f&&"file"==b.type?function(){var d=a.a.f(c());null===d||d===n||""===d?b.value="":a.u.G(l)}:function(){var f=a.a.f(c()),g=a.w.M(b);if(null!==k&&f===k)a.a.setTimeout(p,0);else if(f!==g||g===n)"select"===e?(g=d.get("valueAllowUnset"),a.w.cb(b,f,g),g||f===a.w.M(b)||a.u.G(l)):a.w.cb(b,f)};if("select"===e){var q;a.i.subscribe(b,a.i.H,function(){q?d.get("valueAllowUnset")?p():l():(a.a.B(b,"change",l),q=a.o(p,null,{l:b}))},\nnull,{notifyImmediately:!0})}else a.a.B(b,"change",l),a.o(p,null,{l:b})}else a.ib(b,{checkedValue:c})},update:function(){}};a.m.wa.value=!0;a.c.visible={update:function(b,c){var d=a.a.f(c()),e="none"!=b.style.display;d&&!e?b.style.display="":!d&&e&&(b.style.display="none")}};a.c.hidden={update:function(b,c){a.c.visible.update(b,function(){return!a.a.f(c())})}};(function(b){a.c[b]={init:function(c,d,e,f,g){return a.c.event.init.call(this,c,function(){var a={};a[b]=d();return a},e,f,g)}}})("click");\na.ca=function(){};a.ca.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource");};a.ca.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};a.ca.prototype.makeTemplateSource=function(b,c){if("string"==typeof b){c=c||w;var d=c.getElementById(b);if(!d)throw Error("Cannot find template with ID "+b);return new a.C.F(d)}if(1==b.nodeType||8==b.nodeType)return new a.C.ia(b);throw Error("Unknown template type: "+b);};a.ca.prototype.renderTemplate=\nfunction(a,c,d,e){a=this.makeTemplateSource(a,e);return this.renderTemplateSource(a,c,d,e)};a.ca.prototype.isTemplateRewritten=function(a,c){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,c).data("isRewritten")};a.ca.prototype.rewriteTemplate=function(a,c,d){a=this.makeTemplateSource(a,d);c=c(a.text());a.text(c);a.data("isRewritten",!0)};a.b("templateEngine",a.ca);a.kc=function(){function b(b,c,d,h){b=a.m.ac(b);for(var m=a.m.Ra,k=0;k<b.length;k++){var l=b[k].key;if(Object.prototype.hasOwnProperty.call(m,\nl)){var p=m[l];if("function"===typeof p){if(l=p(b[k].value))throw Error(l);}else if(!p)throw Error("This template engine does not support the \'"+l+"\' binding within its templates");}}d="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a.m.vb(b,{valueAccessors:!0})+" } })()},\'"+d.toLowerCase()+"\')";return h.createJavaScriptEvaluatorBlock(d)+c}var c=/(<([a-z]+\\d*)(?:\\s+(?!data-bind\\s*=\\s*)[a-z0-9\\-]+(?:=(?:\\"[^\\"]*\\"|\\\'[^\\\']*\\\'|[^>]*))?)*\\s+)data-bind\\s*=\\s*(["\'])([\\s\\S]*?)\\3/gi,\nd=/\\x3c!--\\s*ko\\b\\s*([\\s\\S]*?)\\s*--\\x3e/g;return{xd:function(b,c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.kc.Ld(b,c)},d)},Ld:function(a,f){return a.replace(c,function(a,c,d,e,l){return b(l,c,d,f)}).replace(d,function(a,c){return b(c,"\\x3c!-- ko --\\x3e","#comment",f)})},md:function(b,c){return a.aa.Xb(function(d,h){var m=d.nextSibling;m&&m.nodeName.toLowerCase()===c&&a.ib(m,b,h)})}}}();a.b("__tr_ambtns",a.kc.md);(function(){a.C={};a.C.F=function(b){if(this.F=b){var c=\na.a.R(b);this.ab="script"===c?1:"textarea"===c?2:"template"==c&&b.content&&11===b.content.nodeType?3:4}};a.C.F.prototype.text=function(){var b=1===this.ab?"text":2===this.ab?"value":"innerHTML";if(0==arguments.length)return this.F[b];var c=arguments[0];"innerHTML"===b?a.a.fc(this.F,c):this.F[b]=c};var b=a.a.g.Z()+"_";a.C.F.prototype.data=function(c){if(1===arguments.length)return a.a.g.get(this.F,b+c);a.a.g.set(this.F,b+c,arguments[1])};var c=a.a.g.Z();a.C.F.prototype.nodes=function(){var b=this.F;\nif(0==arguments.length){var e=a.a.g.get(b,c)||{},f=e.lb||(3===this.ab?b.content:4===this.ab?b:n);if(!f||e.jd){var g=this.text();g&&g!==e.bb&&(f=a.a.Md(g,b.ownerDocument),a.a.g.set(b,c,{lb:f,bb:g,jd:!0}))}return f}e=arguments[0];this.ab!==n&&this.text("");a.a.g.set(b,c,{lb:e})};a.C.ia=function(a){this.F=a};a.C.ia.prototype=new a.C.F;a.C.ia.prototype.constructor=a.C.ia;a.C.ia.prototype.text=function(){if(0==arguments.length){var b=a.a.g.get(this.F,c)||{};b.bb===n&&b.lb&&(b.bb=b.lb.innerHTML);return b.bb}a.a.g.set(this.F,\nc,{bb:arguments[0]})};a.b("templateSources",a.C);a.b("templateSources.domElement",a.C.F);a.b("templateSources.anonymousTemplate",a.C.ia)})();(function(){function b(b,c,d){var e;for(c=a.h.nextSibling(c);b&&(e=b)!==c;)b=a.h.nextSibling(e),d(e,b)}function c(c,d){if(c.length){var e=c[0],f=c[c.length-1],g=e.parentNode,h=a.ga.instance,m=h.preprocessNode;if(m){b(e,f,function(a,b){var c=a.previousSibling,d=m.call(h,a);d&&(a===e&&(e=d[0]||b),a===f&&(f=d[d.length-1]||c))});c.length=0;if(!e)return;e===f?c.push(e):\n(c.push(e,f),a.a.Ua(c,g))}b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.vc(d,b)});b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.aa.cd(b,[d])});a.a.Ua(c,g)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(b,e,f,h,m){m=m||{};var n=(b&&d(b)||f||{}).ownerDocument,B=m.templateEngine||g;a.kc.xd(f,B,n);f=B.renderTemplate(f,h,m,n);if("number"!=typeof f.length||0<f.length&&"number"!=typeof f[0].nodeType)throw Error("Template engine must return an array of DOM nodes");n=!1;switch(e){case "replaceChildren":a.h.va(b,\nf);n=!0;break;case "replaceNode":a.a.Xc(b,f);n=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+e);}n&&(c(f,h),m.afterRender&&a.u.G(m.afterRender,null,[f,h[m.as||"$data"]]),"replaceChildren"==e&&a.i.ma(b,a.i.H));return f}function f(b,c,d){return a.O(b)?b():"function"===typeof b?b(c,d):b}var g;a.gc=function(b){if(b!=n&&!(b instanceof a.ca))throw Error("templateEngine must inherit from ko.templateEngine");g=b};a.dc=function(b,c,h,m,t){h=h||{};if((h.templateEngine||g)==\nn)throw Error("Set a template engine before calling renderTemplate");t=t||"replaceChildren";if(m){var x=d(m);return a.$(function(){var g=c&&c instanceof a.fa?c:new a.fa(c,null,null,null,{exportDependencies:!0}),n=f(b,g.$data,g),g=e(m,t,n,g,h);"replaceNode"==t&&(m=g,x=d(m))},null,{Sa:function(){return!x||!a.a.Sb(x)},l:x&&"replaceNode"==t?x.parentNode:x})}return a.aa.Xb(function(d){a.dc(b,c,h,d,"replaceNode")})};a.Qd=function(b,d,g,h,m){function x(b,c){a.u.G(a.a.ec,null,[h,b,u,g,r,c]);a.i.ma(h,a.i.H)}\nfunction r(a,b){c(b,v);g.afterRender&&g.afterRender(b,a);v=null}function u(a,c){v=m.createChildContext(a,{as:z,noChildContext:g.noChildContext,extend:function(a){a.$index=c;z&&(a[z+"Index"]=c)}});var d=f(b,a,v);return e(h,"ignoreTargetNode",d,v,g)}var v,z=g.as,w=!1===g.includeDestroyed||a.options.foreachHidesDestroyed&&!g.includeDestroyed;if(w||g.beforeRemove||!a.Pc(d))return a.$(function(){var b=a.a.f(d)||[];"undefined"==typeof b.length&&(b=[b]);w&&(b=a.a.jb(b,function(b){return b===n||null===b||\n!a.a.f(b._destroy)}));x(b)},null,{l:h});x(d.v());var A=d.subscribe(function(a){x(d(),a)},null,"arrayChange");A.l(h);return A};var h=a.a.g.Z(),m=a.a.g.Z();a.c.template={init:function(b,c){var d=a.a.f(c());if("string"==typeof d||"name"in d)a.h.Ea(b);else if("nodes"in d){d=d.nodes||[];if(a.O(d))throw Error(\'The "nodes" option must be a plain, non-observable array.\');var e=d[0]&&d[0].parentNode;e&&a.a.g.get(e,m)||(e=a.a.Yb(d),a.a.g.set(e,m,!0));(new a.C.ia(b)).nodes(e)}else if(d=a.h.childNodes(b),0<d.length)e=\na.a.Yb(d),(new a.C.ia(b)).nodes(e);else throw Error("Anonymous template defined, but no template content was provided");return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var g=c();c=a.a.f(g);d=!0;e=null;"string"==typeof c?c={}:(g="name"in c?c.name:b,"if"in c&&(d=a.a.f(c["if"])),d&&"ifnot"in c&&(d=!a.a.f(c.ifnot)),d&&!g&&(d=!1));"foreach"in c?e=a.Qd(g,d&&c.foreach||[],c,b,f):d?(d=f,"data"in c&&(d=f.createChildContext(c.data,{as:c.as,noChildContext:c.noChildContext,exportDependencies:!0})),\ne=a.dc(g,d,c,b)):a.h.Ea(b);f=e;(c=a.a.g.get(b,h))&&"function"==typeof c.s&&c.s();a.a.g.set(b,h,!f||f.ja&&!f.ja()?n:f)}};a.m.Ra.template=function(b){b=a.m.ac(b);return 1==b.length&&b[0].unknown||a.m.Id(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"};a.h.ea.template=!0})();a.b("setTemplateEngine",a.gc);a.b("renderTemplate",a.dc);a.a.Kc=function(a,c,d){if(a.length&&c.length){var e,f,g,h,m;for(e=f=0;(!d||e<d)&&(h=a[f]);++f){for(g=0;m=c[g];++g)if(h.value===\nm.value){h.moved=m.index;m.moved=h.index;c.splice(g,1);e=g=0;break}e+=g}}};a.a.Pb=function(){function b(b,d,e,f,g){var h=Math.min,m=Math.max,k=[],l,p=b.length,q,n=d.length,r=n-p||1,v=p+n+1,u,w,z;for(l=0;l<=p;l++)for(w=u,k.push(u=[]),z=h(n,l+r),q=m(0,l-1);q<=z;q++)u[q]=q?l?b[l-1]===d[q-1]?w[q-1]:h(w[q]||v,u[q-1]||v)+1:q+1:l+1;h=[];m=[];r=[];l=p;for(q=n;l||q;)n=k[l][q]-1,q&&n===k[l][q-1]?m.push(h[h.length]={status:e,value:d[--q],index:q}):l&&n===k[l-1][q]?r.push(h[h.length]={status:f,value:b[--l],index:l}):\n(--q,--l,g.sparse||h.push({status:"retained",value:d[q]}));a.a.Kc(r,m,!g.dontLimitMoves&&10*p);return h.reverse()}return function(a,d,e){e="boolean"===typeof e?{dontLimitMoves:e}:e||{};a=a||[];d=d||[];return a.length<d.length?b(a,d,"added","deleted",e):b(d,a,"deleted","added",e)}}();a.b("utils.compareArrays",a.a.Pb);(function(){function b(b,c,d,h,m){var k=[],l=a.$(function(){var l=c(d,m,a.a.Ua(k,b))||[];0<k.length&&(a.a.Xc(k,l),h&&a.u.G(h,null,[d,l,m]));k.length=0;a.a.Nb(k,l)},null,{l:b,Sa:function(){return!a.a.kd(k)}});\nreturn{Y:k,$:l.ja()?l:n}}var c=a.a.g.Z(),d=a.a.g.Z();a.a.ec=function(e,f,g,h,m,k){function l(b){y={Aa:b,pb:a.ta(w++)};v.push(y);r||F.push(y)}function p(b){y=t[b];w!==y.pb.v()&&D.push(y);y.pb(w++);a.a.Ua(y.Y,e);v.push(y)}function q(b,c){if(b)for(var d=0,e=c.length;d<e;d++)a.a.D(c[d].Y,function(a){b(a,d,c[d].Aa)})}f=f||[];"undefined"==typeof f.length&&(f=[f]);h=h||{};var t=a.a.g.get(e,c),r=!t,v=[],u=0,w=0,z=[],A=[],C=[],D=[],F=[],y,I=0;if(r)a.a.D(f,l);else{if(!k||t&&t._countWaitingForRemove){var E=\na.a.Mb(t,function(a){return a.Aa});k=a.a.Pb(E,f,{dontLimitMoves:h.dontLimitMoves,sparse:!0})}for(var E=0,G,H,K;G=k[E];E++)switch(H=G.moved,K=G.index,G.status){case "deleted":for(;u<K;)p(u++);H===n&&(y=t[u],y.$&&(y.$.s(),y.$=n),a.a.Ua(y.Y,e).length&&(h.beforeRemove&&(v.push(y),I++,y.Aa===d?y=null:C.push(y)),y&&z.push.apply(z,y.Y)));u++;break;case "added":for(;w<K;)p(u++);H!==n?(A.push(v.length),p(H)):l(G.value)}for(;w<f.length;)p(u++);v._countWaitingForRemove=I}a.a.g.set(e,c,v);q(h.beforeMove,D);a.a.D(z,\nh.beforeRemove?a.oa:a.removeNode);var M,O,P;try{P=e.ownerDocument.activeElement}catch(N){}if(A.length)for(;(E=A.shift())!=n;){y=v[E];for(M=n;E;)if((O=v[--E].Y)&&O.length){M=O[O.length-1];break}for(f=0;u=y.Y[f];M=u,f++)a.h.Wb(e,u,M)}for(E=0;y=v[E];E++){y.Y||a.a.extend(y,b(e,g,y.Aa,m,y.pb));for(f=0;u=y.Y[f];M=u,f++)a.h.Wb(e,u,M);!y.Ed&&m&&(m(y.Aa,y.Y,y.pb),y.Ed=!0,M=y.Y[y.Y.length-1])}P&&e.ownerDocument.activeElement!=P&&P.focus();q(h.beforeRemove,C);for(E=0;E<C.length;++E)C[E].Aa=d;q(h.afterMove,D);\nq(h.afterAdd,F)}})();a.b("utils.setDomNodeChildrenFromArrayMapping",a.a.ec);a.ba=function(){this.allowTemplateRewriting=!1};a.ba.prototype=new a.ca;a.ba.prototype.constructor=a.ba;a.ba.prototype.renderTemplateSource=function(b,c,d,e){if(c=(9>a.a.W?0:b.nodes)?b.nodes():null)return a.a.la(c.cloneNode(!0).childNodes);b=b.text();return a.a.ua(b,e)};a.ba.Ma=new a.ba;a.gc(a.ba.Ma);a.b("nativeTemplateEngine",a.ba);(function(){a.$a=function(){var a=this.Hd=function(){if(!v||!v.tmpl)return 0;try{if(0<=v.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();\nthis.renderTemplateSource=function(b,e,f,g){g=g||w;f=f||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var h=b.data("precompiled");h||(h=b.text()||"",h=v.template(null,"{{ko_with $item.koBindingContext}}"+h+"{{/ko_with}}"),b.data("precompiled",h));b=[e.$data];e=v.extend({koBindingContext:e},f.templateOptions);e=v.tmpl(h,b,e);e.appendTo(g.createElement("div"));v.fragments={};return e};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+\na+" })()) }}"};this.addTemplate=function(a,b){w.write("<script type=\'text/html\' id=\'"+a+"\'>"+b+"\\x3c/script>")};0<a&&(v.tmpl.tag.ko_code={open:"__.push($1 || \'\');"},v.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};a.$a.prototype=new a.ca;a.$a.prototype.constructor=a.$a;var b=new a.$a;0<b.Hd&&a.gc(b);a.b("jqueryTmplTemplateEngine",a.$a)})()})})();})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QStDLG9CQUFvQixRQUFRLFdBQVcsY0FBYztBQUN0ZSxpQkFBaUIsSUFBSSx1REFBdUQsZ0JBQWdCLGdDQUFnQyx3QkFBd0IsZ0NBQWdDLHNEQUFzRCxrRkFBa0YsV0FBVyxvQkFBb0IsaUJBQWlCLGNBQWMsaUNBQWlDLFlBQVksZ0JBQWdCLHlCQUF5Qix3QkFBd0IsSUFBSSw2REFBNkQsVUFBVSxTQUFTO0FBQzVqQiw0Q0FBNEMsT0FBTyxRQUFRLCtHQUErRyw0QkFBNEIsd0NBQXdDLGdDQUFnQyxPQUFPLFVBQVUsNEJBQTRCLFlBQVksWUFBWSxtQkFBbUIsb0JBQW9CLGdCQUFnQixtQ0FBbUMsZUFBZSxVQUFVLGdEQUFnRCxTQUFTLHVCQUF1QjtBQUN0aEIsS0FBSyxPQUFPLEdBQUcsK0JBQStCLGtFQUFrRSwwQkFBMEIsd0JBQXdCLEVBQUUscUJBQXFCLGdCQUFnQixXQUFXLEVBQUUsR0FBRyx3QkFBd0IsZ0NBQWdDLGVBQWUsZ0JBQWdCLHFDQUFxQyxJQUFJLEVBQUUsS0FBSyIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWxzLXBsZWFzZS8uL25vZGVfbW9kdWxlcy9rbm9ja291dC9idWlsZC9vdXRwdXQva25vY2tvdXQtbGF0ZXN0LmpzPzY4ZmIiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBLbm9ja291dCBKYXZhU2NyaXB0IGxpYnJhcnkgdjMuNS4xXG4gKiAoYykgVGhlIEtub2Nrb3V0LmpzIHRlYW0gLSBodHRwOi8va25vY2tvdXRqcy5jb20vXG4gKiBMaWNlbnNlOiBNSVQgKGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwKVxuICovXG5cbihmdW5jdGlvbigpIHsoZnVuY3Rpb24obil7dmFyIEE9dGhpc3x8KDAsZXZhbCkoXCJ0aGlzXCIpLHc9QS5kb2N1bWVudCxSPUEubmF2aWdhdG9yLHY9QS5qUXVlcnksSD1BLkpTT047dnx8XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBqUXVlcnl8fCh2PWpRdWVyeSk7KGZ1bmN0aW9uKG4pe1wiZnVuY3Rpb25cIj09PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImV4cG9ydHNcIixcInJlcXVpcmVcIl0sbik6XCJvYmplY3RcIj09PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT09dHlwZW9mIG1vZHVsZT9uKG1vZHVsZS5leHBvcnRzfHxleHBvcnRzKTpuKEEua289e30pfSkoZnVuY3Rpb24oUyxUKXtmdW5jdGlvbiBLKGEsYyl7cmV0dXJuIG51bGw9PT1hfHx0eXBlb2YgYSBpbiBXP2E9PT1jOiExfWZ1bmN0aW9uIFgoYixjKXt2YXIgZDtyZXR1cm4gZnVuY3Rpb24oKXtkfHwoZD1hLmEuc2V0VGltZW91dChmdW5jdGlvbigpe2Q9bjtiKCl9LGMpKX19ZnVuY3Rpb24gWShiLGMpe3ZhciBkO3JldHVybiBmdW5jdGlvbigpe2NsZWFyVGltZW91dChkKTtcbmQ9YS5hLnNldFRpbWVvdXQoYixjKX19ZnVuY3Rpb24gWihhLGMpe2MmJlwiY2hhbmdlXCIhPT1jP1wiYmVmb3JlQ2hhbmdlXCI9PT1jP3RoaXMucGMoYSk6dGhpcy5nYihhLGMpOnRoaXMucWMoYSl9ZnVuY3Rpb24gYWEoYSxjKXtudWxsIT09YyYmYy5zJiZjLnMoKX1mdW5jdGlvbiBiYShhLGMpe3ZhciBkPXRoaXMucWQsZT1kW3JdO2UucmF8fCh0aGlzLlFiJiZ0aGlzLm1iW2NdPyhkLnVjKGMsYSx0aGlzLm1iW2NdKSx0aGlzLm1iW2NdPW51bGwsLS10aGlzLlFiKTplLklbY118fGQudWMoYyxhLGUuSj97ZGE6YX06ZC4kYyhhKSksYS5KYSYmYS5nZCgpKX12YXIgYT1cInVuZGVmaW5lZFwiIT09dHlwZW9mIFM/Uzp7fTthLmI9ZnVuY3Rpb24oYixjKXtmb3IodmFyIGQ9Yi5zcGxpdChcIi5cIiksZT1hLGY9MDtmPGQubGVuZ3RoLTE7ZisrKWU9ZVtkW2ZdXTtlW2RbZC5sZW5ndGgtMV1dPWN9O2EuTD1mdW5jdGlvbihhLGMsZCl7YVtjXT1kfTthLnZlcnNpb249XCIzLjUuMVwiO2EuYihcInZlcnNpb25cIixcbmEudmVyc2lvbik7YS5vcHRpb25zPXtkZWZlclVwZGF0ZXM6ITEsdXNlT25seU5hdGl2ZUV2ZW50czohMSxmb3JlYWNoSGlkZXNEZXN0cm95ZWQ6ITF9O2EuYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSxiKXtmb3IodmFyIGMgaW4gYSlmLmNhbGwoYSxjKSYmYihjLGFbY10pfWZ1bmN0aW9uIGMoYSxiKXtpZihiKWZvcih2YXIgYyBpbiBiKWYuY2FsbChiLGMpJiYoYVtjXT1iW2NdKTtyZXR1cm4gYX1mdW5jdGlvbiBkKGEsYil7YS5fX3Byb3RvX189YjtyZXR1cm4gYX1mdW5jdGlvbiBlKGIsYyxkLGUpe3ZhciBsPWJbY10ubWF0Y2gocSl8fFtdO2EuYS5EKGQubWF0Y2gocSksZnVuY3Rpb24oYil7YS5hLk5hKGwsYixlKX0pO2JbY109bC5qb2luKFwiIFwiKX12YXIgZj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LGc9e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5LGg9XCJmdW5jdGlvblwiPT09dHlwZW9mIFN5bWJvbCxtPXt9LGs9e307bVtSJiYvRmlyZWZveFxcLzIvaS50ZXN0KFIudXNlckFnZW50KT9cblwiS2V5Ym9hcmRFdmVudFwiOlwiVUlFdmVudHNcIl09W1wia2V5dXBcIixcImtleWRvd25cIixcImtleXByZXNzXCJdO20uTW91c2VFdmVudHM9XCJjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZVwiLnNwbGl0KFwiIFwiKTtiKG0sZnVuY3Rpb24oYSxiKXtpZihiLmxlbmd0aClmb3IodmFyIGM9MCxkPWIubGVuZ3RoO2M8ZDtjKyspa1tiW2NdXT1hfSk7dmFyIGw9e3Byb3BlcnR5Y2hhbmdlOiEwfSxwPXcmJmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTMsYj13LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksYz1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaVwiKTtiLmlubmVySFRNTD1cIlxceDNjIS0tW2lmIGd0IElFIFwiKyArK2ErXCJdPjxpPjwvaT48IVtlbmRpZl0tLVxceDNlXCIsY1swXTspO3JldHVybiA0PGE/YTpufSgpLHE9L1xcUysvZyx0O3JldHVybntKYzpbXCJhdXRoZW50aWNpdHlfdG9rZW5cIiwvXl9fUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuKF8uKik/JC9dLFxuRDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTAsZT1hLmxlbmd0aDtkPGU7ZCsrKWIuY2FsbChjLGFbZF0sZCxhKX0sQTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBBcnJheS5wcm90b3R5cGUuaW5kZXhPZj9mdW5jdGlvbihhLGIpe3JldHVybiBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGEsYil9OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtjPGQ7YysrKWlmKGFbY109PT1iKXJldHVybiBjO3JldHVybi0xfSxMYjpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTAsZT1hLmxlbmd0aDtkPGU7ZCsrKWlmKGIuY2FsbChjLGFbZF0sZCxhKSlyZXR1cm4gYVtkXTtyZXR1cm4gbn0sUGE6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuQShiLGMpOzA8ZD9iLnNwbGljZShkLDEpOjA9PT1kJiZiLnNoaWZ0KCl9LHdjOmZ1bmN0aW9uKGIpe3ZhciBjPVtdO2ImJmEuYS5EKGIsZnVuY3Rpb24oYil7MD5hLmEuQShjLGIpJiZjLnB1c2goYil9KTtyZXR1cm4gY30sTWI6ZnVuY3Rpb24oYSxcbmIsYyl7dmFyIGQ9W107aWYoYSlmb3IodmFyIGU9MCxsPWEubGVuZ3RoO2U8bDtlKyspZC5wdXNoKGIuY2FsbChjLGFbZV0sZSkpO3JldHVybiBkfSxqYjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9W107aWYoYSlmb3IodmFyIGU9MCxsPWEubGVuZ3RoO2U8bDtlKyspYi5jYWxsKGMsYVtlXSxlKSYmZC5wdXNoKGFbZV0pO3JldHVybiBkfSxOYjpmdW5jdGlvbihhLGIpe2lmKGIgaW5zdGFuY2VvZiBBcnJheSlhLnB1c2guYXBwbHkoYSxiKTtlbHNlIGZvcih2YXIgYz0wLGQ9Yi5sZW5ndGg7YzxkO2MrKylhLnB1c2goYltjXSk7cmV0dXJuIGF9LE5hOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1hLmEuQShhLmEuYmMoYiksYyk7MD5lP2QmJmIucHVzaChjKTpkfHxiLnNwbGljZShlLDEpfSxCYTpnLGV4dGVuZDpjLHNldFByb3RvdHlwZU9mOmQsQWI6Zz9kOmMsUDpiLEdhOmZ1bmN0aW9uKGEsYixjKXtpZighYSlyZXR1cm4gYTt2YXIgZD17fSxlO2ZvcihlIGluIGEpZi5jYWxsKGEsZSkmJihkW2VdPVxuYi5jYWxsKGMsYVtlXSxlLGEpKTtyZXR1cm4gZH0sVGI6ZnVuY3Rpb24oYil7Zm9yKDtiLmZpcnN0Q2hpbGQ7KWEucmVtb3ZlTm9kZShiLmZpcnN0Q2hpbGQpfSxZYjpmdW5jdGlvbihiKXtiPWEuYS5sYShiKTtmb3IodmFyIGM9KGJbMF0mJmJbMF0ub3duZXJEb2N1bWVudHx8dykuY3JlYXRlRWxlbWVudChcImRpdlwiKSxkPTAsZT1iLmxlbmd0aDtkPGU7ZCsrKWMuYXBwZW5kQ2hpbGQoYS5vYShiW2RdKSk7cmV0dXJuIGN9LENhOmZ1bmN0aW9uKGIsYyl7Zm9yKHZhciBkPTAsZT1iLmxlbmd0aCxsPVtdO2Q8ZTtkKyspe3ZhciBrPWJbZF0uY2xvbmVOb2RlKCEwKTtsLnB1c2goYz9hLm9hKGspOmspfXJldHVybiBsfSx2YTpmdW5jdGlvbihiLGMpe2EuYS5UYihiKTtpZihjKWZvcih2YXIgZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKyliLmFwcGVuZENoaWxkKGNbZF0pfSxYYzpmdW5jdGlvbihiLGMpe3ZhciBkPWIubm9kZVR5cGU/W2JdOmI7aWYoMDxkLmxlbmd0aCl7Zm9yKHZhciBlPWRbMF0sXG5sPWUucGFyZW50Tm9kZSxrPTAsZj1jLmxlbmd0aDtrPGY7aysrKWwuaW5zZXJ0QmVmb3JlKGNba10sZSk7az0wO2ZvcihmPWQubGVuZ3RoO2s8ZjtrKyspYS5yZW1vdmVOb2RlKGRba10pfX0sVWE6ZnVuY3Rpb24oYSxiKXtpZihhLmxlbmd0aCl7Zm9yKGI9OD09PWIubm9kZVR5cGUmJmIucGFyZW50Tm9kZXx8YjthLmxlbmd0aCYmYVswXS5wYXJlbnROb2RlIT09YjspYS5zcGxpY2UoMCwxKTtmb3IoOzE8YS5sZW5ndGgmJmFbYS5sZW5ndGgtMV0ucGFyZW50Tm9kZSE9PWI7KWEubGVuZ3RoLS07aWYoMTxhLmxlbmd0aCl7dmFyIGM9YVswXSxkPWFbYS5sZW5ndGgtMV07Zm9yKGEubGVuZ3RoPTA7YyE9PWQ7KWEucHVzaChjKSxjPWMubmV4dFNpYmxpbmc7YS5wdXNoKGQpfX1yZXR1cm4gYX0sWmM6ZnVuY3Rpb24oYSxiKXs3PnA/YS5zZXRBdHRyaWJ1dGUoXCJzZWxlY3RlZFwiLGIpOmEuc2VsZWN0ZWQ9Yn0sRGI6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PT1hfHxhPT09bj9cIlwiOmEudHJpbT9cbmEudHJpbSgpOmEudG9TdHJpbmcoKS5yZXBsYWNlKC9eW1xcc1xceGEwXSt8W1xcc1xceGEwXSskL2csXCJcIil9LFVkOmZ1bmN0aW9uKGEsYil7YT1hfHxcIlwiO3JldHVybiBiLmxlbmd0aD5hLmxlbmd0aD8hMTphLnN1YnN0cmluZygwLGIubGVuZ3RoKT09PWJ9LHZkOmZ1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuITA7aWYoMTE9PT1hLm5vZGVUeXBlKXJldHVybiExO2lmKGIuY29udGFpbnMpcmV0dXJuIGIuY29udGFpbnMoMSE9PWEubm9kZVR5cGU/YS5wYXJlbnROb2RlOmEpO2lmKGIuY29tcGFyZURvY3VtZW50UG9zaXRpb24pcmV0dXJuIDE2PT0oYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihhKSYxNik7Zm9yKDthJiZhIT1iOylhPWEucGFyZW50Tm9kZTtyZXR1cm4hIWF9LFNiOmZ1bmN0aW9uKGIpe3JldHVybiBhLmEudmQoYixiLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KX0sa2Q6ZnVuY3Rpb24oYil7cmV0dXJuISFhLmEuTGIoYixhLmEuU2IpfSxSOmZ1bmN0aW9uKGEpe3JldHVybiBhJiZcbmEudGFnTmFtZSYmYS50YWdOYW1lLnRvTG93ZXJDYXNlKCl9LEFjOmZ1bmN0aW9uKGIpe3JldHVybiBhLm9uRXJyb3I/ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGIuYXBwbHkodGhpcyxhcmd1bWVudHMpfWNhdGNoKGMpe3Rocm93IGEub25FcnJvciYmYS5vbkVycm9yKGMpLGM7fX06Yn0sc2V0VGltZW91dDpmdW5jdGlvbihiLGMpe3JldHVybiBzZXRUaW1lb3V0KGEuYS5BYyhiKSxjKX0sR2M6ZnVuY3Rpb24oYil7c2V0VGltZW91dChmdW5jdGlvbigpe2Eub25FcnJvciYmYS5vbkVycm9yKGIpO3Rocm93IGI7fSwwKX0sQjpmdW5jdGlvbihiLGMsZCl7dmFyIGU9YS5hLkFjKGQpO2Q9bFtjXTtpZihhLm9wdGlvbnMudXNlT25seU5hdGl2ZUV2ZW50c3x8ZHx8IXYpaWYoZHx8XCJmdW5jdGlvblwiIT10eXBlb2YgYi5hZGRFdmVudExpc3RlbmVyKWlmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBiLmF0dGFjaEV2ZW50KXt2YXIgaz1mdW5jdGlvbihhKXtlLmNhbGwoYixhKX0sZj1cIm9uXCIrYztiLmF0dGFjaEV2ZW50KGYsXG5rKTthLmEuSy56YShiLGZ1bmN0aW9uKCl7Yi5kZXRhY2hFdmVudChmLGspfSl9ZWxzZSB0aHJvdyBFcnJvcihcIkJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IGFkZEV2ZW50TGlzdGVuZXIgb3IgYXR0YWNoRXZlbnRcIik7ZWxzZSBiLmFkZEV2ZW50TGlzdGVuZXIoYyxlLCExKTtlbHNlIHR8fCh0PVwiZnVuY3Rpb25cIj09dHlwZW9mIHYoYikub24/XCJvblwiOlwiYmluZFwiKSx2KGIpW3RdKGMsZSl9LEZiOmZ1bmN0aW9uKGIsYyl7aWYoIWJ8fCFiLm5vZGVUeXBlKXRocm93IEVycm9yKFwiZWxlbWVudCBtdXN0IGJlIGEgRE9NIG5vZGUgd2hlbiBjYWxsaW5nIHRyaWdnZXJFdmVudFwiKTt2YXIgZDtcImlucHV0XCI9PT1hLmEuUihiKSYmYi50eXBlJiZcImNsaWNrXCI9PWMudG9Mb3dlckNhc2UoKT8oZD1iLnR5cGUsZD1cImNoZWNrYm94XCI9PWR8fFwicmFkaW9cIj09ZCk6ZD0hMTtpZihhLm9wdGlvbnMudXNlT25seU5hdGl2ZUV2ZW50c3x8IXZ8fGQpaWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygdy5jcmVhdGVFdmVudClpZihcImZ1bmN0aW9uXCI9PVxudHlwZW9mIGIuZGlzcGF0Y2hFdmVudClkPXcuY3JlYXRlRXZlbnQoa1tjXXx8XCJIVE1MRXZlbnRzXCIpLGQuaW5pdEV2ZW50KGMsITAsITAsQSwwLDAsMCwwLDAsITEsITEsITEsITEsMCxiKSxiLmRpc3BhdGNoRXZlbnQoZCk7ZWxzZSB0aHJvdyBFcnJvcihcIlRoZSBzdXBwbGllZCBlbGVtZW50IGRvZXNuJ3Qgc3VwcG9ydCBkaXNwYXRjaEV2ZW50XCIpO2Vsc2UgaWYoZCYmYi5jbGljayliLmNsaWNrKCk7ZWxzZSBpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgYi5maXJlRXZlbnQpYi5maXJlRXZlbnQoXCJvblwiK2MpO2Vsc2UgdGhyb3cgRXJyb3IoXCJCcm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCB0cmlnZ2VyaW5nIGV2ZW50c1wiKTtlbHNlIHYoYikudHJpZ2dlcihjKX0sZjpmdW5jdGlvbihiKXtyZXR1cm4gYS5PKGIpP2IoKTpifSxiYzpmdW5jdGlvbihiKXtyZXR1cm4gYS5PKGIpP2IudigpOmJ9LEViOmZ1bmN0aW9uKGIsYyxkKXt2YXIgbDtjJiYoXCJvYmplY3RcIj09PXR5cGVvZiBiLmNsYXNzTGlzdD9cbihsPWIuY2xhc3NMaXN0W2Q/XCJhZGRcIjpcInJlbW92ZVwiXSxhLmEuRChjLm1hdGNoKHEpLGZ1bmN0aW9uKGEpe2wuY2FsbChiLmNsYXNzTGlzdCxhKX0pKTpcInN0cmluZ1wiPT09dHlwZW9mIGIuY2xhc3NOYW1lLmJhc2VWYWw/ZShiLmNsYXNzTmFtZSxcImJhc2VWYWxcIixjLGQpOmUoYixcImNsYXNzTmFtZVwiLGMsZCkpfSxCYjpmdW5jdGlvbihiLGMpe3ZhciBkPWEuYS5mKGMpO2lmKG51bGw9PT1kfHxkPT09bilkPVwiXCI7dmFyIGU9YS5oLmZpcnN0Q2hpbGQoYik7IWV8fDMhPWUubm9kZVR5cGV8fGEuaC5uZXh0U2libGluZyhlKT9hLmgudmEoYixbYi5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGQpXSk6ZS5kYXRhPWQ7YS5hLkFkKGIpfSxZYzpmdW5jdGlvbihhLGIpe2EubmFtZT1iO2lmKDc+PXApdHJ5e3ZhciBjPWEubmFtZS5yZXBsYWNlKC9bJjw+J1wiXS9nLGZ1bmN0aW9uKGEpe3JldHVyblwiJiNcIithLmNoYXJDb2RlQXQoMCkrXCI7XCJ9KTthLm1lcmdlQXR0cmlidXRlcyh3LmNyZWF0ZUVsZW1lbnQoXCI8aW5wdXQgbmFtZT0nXCIrXG5jK1wiJy8+XCIpLCExKX1jYXRjaChkKXt9fSxBZDpmdW5jdGlvbihhKXs5PD1wJiYoYT0xPT1hLm5vZGVUeXBlP2E6YS5wYXJlbnROb2RlLGEuc3R5bGUmJihhLnN0eWxlLnpvb209YS5zdHlsZS56b29tKSl9LHdkOmZ1bmN0aW9uKGEpe2lmKHApe3ZhciBiPWEuc3R5bGUud2lkdGg7YS5zdHlsZS53aWR0aD0wO2Euc3R5bGUud2lkdGg9Yn19LFBkOmZ1bmN0aW9uKGIsYyl7Yj1hLmEuZihiKTtjPWEuYS5mKGMpO2Zvcih2YXIgZD1bXSxlPWI7ZTw9YztlKyspZC5wdXNoKGUpO3JldHVybiBkfSxsYTpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKyliLnB1c2goYVtjXSk7cmV0dXJuIGJ9LERhOmZ1bmN0aW9uKGEpe3JldHVybiBoP1N5bWJvbChhKTphfSxaZDo2PT09cCwkZDo3PT09cCxXOnAsTGM6ZnVuY3Rpb24oYixjKXtmb3IodmFyIGQ9YS5hLmxhKGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbnB1dFwiKSkuY29uY2F0KGEuYS5sYShiLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGV4dGFyZWFcIikpKSxcbmU9XCJzdHJpbmdcIj09dHlwZW9mIGM/ZnVuY3Rpb24oYSl7cmV0dXJuIGEubmFtZT09PWN9OmZ1bmN0aW9uKGEpe3JldHVybiBjLnRlc3QoYS5uYW1lKX0sbD1bXSxrPWQubGVuZ3RoLTE7MDw9aztrLS0pZShkW2tdKSYmbC5wdXNoKGRba10pO3JldHVybiBsfSxOZDpmdW5jdGlvbihiKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYiYmKGI9YS5hLkRiKGIpKT9IJiZILnBhcnNlP0gucGFyc2UoYik6KG5ldyBGdW5jdGlvbihcInJldHVybiBcIitiKSkoKTpudWxsfSxoYzpmdW5jdGlvbihiLGMsZCl7aWYoIUh8fCFILnN0cmluZ2lmeSl0aHJvdyBFcnJvcihcIkNhbm5vdCBmaW5kIEpTT04uc3RyaW5naWZ5KCkuIFNvbWUgYnJvd3NlcnMgKGUuZy4sIElFIDwgOCkgZG9uJ3Qgc3VwcG9ydCBpdCBuYXRpdmVseSwgYnV0IHlvdSBjYW4gb3ZlcmNvbWUgdGhpcyBieSBhZGRpbmcgYSBzY3JpcHQgcmVmZXJlbmNlIHRvIGpzb24yLmpzLCBkb3dubG9hZGFibGUgZnJvbSBodHRwOi8vd3d3Lmpzb24ub3JnL2pzb24yLmpzXCIpO1xucmV0dXJuIEguc3RyaW5naWZ5KGEuYS5mKGIpLGMsZCl9LE9kOmZ1bmN0aW9uKGMsZCxlKXtlPWV8fHt9O3ZhciBsPWUucGFyYW1zfHx7fSxrPWUuaW5jbHVkZUZpZWxkc3x8dGhpcy5KYyxmPWM7aWYoXCJvYmplY3RcIj09dHlwZW9mIGMmJlwiZm9ybVwiPT09YS5hLlIoYykpZm9yKHZhciBmPWMuYWN0aW9uLGg9ay5sZW5ndGgtMTswPD1oO2gtLSlmb3IodmFyIGc9YS5hLkxjKGMsa1toXSksbT1nLmxlbmd0aC0xOzA8PW07bS0tKWxbZ1ttXS5uYW1lXT1nW21dLnZhbHVlO2Q9YS5hLmYoZCk7dmFyIHA9dy5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKTtwLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7cC5hY3Rpb249ZjtwLm1ldGhvZD1cInBvc3RcIjtmb3IodmFyIHEgaW4gZCljPXcuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLGMudHlwZT1cImhpZGRlblwiLGMubmFtZT1xLGMudmFsdWU9YS5hLmhjKGEuYS5mKGRbcV0pKSxwLmFwcGVuZENoaWxkKGMpO2IobCxmdW5jdGlvbihhLGIpe3ZhciBjPXcuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuYy50eXBlPVwiaGlkZGVuXCI7Yy5uYW1lPWE7Yy52YWx1ZT1iO3AuYXBwZW5kQ2hpbGQoYyl9KTt3LmJvZHkuYXBwZW5kQ2hpbGQocCk7ZS5zdWJtaXR0ZXI/ZS5zdWJtaXR0ZXIocCk6cC5zdWJtaXQoKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHApfSwwKX19fSgpO2EuYihcInV0aWxzXCIsYS5hKTthLmIoXCJ1dGlscy5hcnJheUZvckVhY2hcIixhLmEuRCk7YS5iKFwidXRpbHMuYXJyYXlGaXJzdFwiLGEuYS5MYik7YS5iKFwidXRpbHMuYXJyYXlGaWx0ZXJcIixhLmEuamIpO2EuYihcInV0aWxzLmFycmF5R2V0RGlzdGluY3RWYWx1ZXNcIixhLmEud2MpO2EuYihcInV0aWxzLmFycmF5SW5kZXhPZlwiLGEuYS5BKTthLmIoXCJ1dGlscy5hcnJheU1hcFwiLGEuYS5NYik7YS5iKFwidXRpbHMuYXJyYXlQdXNoQWxsXCIsYS5hLk5iKTthLmIoXCJ1dGlscy5hcnJheVJlbW92ZUl0ZW1cIixhLmEuUGEpO2EuYihcInV0aWxzLmNsb25lTm9kZXNcIixhLmEuQ2EpO2EuYihcInV0aWxzLmNyZWF0ZVN5bWJvbE9yU3RyaW5nXCIsXG5hLmEuRGEpO2EuYihcInV0aWxzLmV4dGVuZFwiLGEuYS5leHRlbmQpO2EuYihcInV0aWxzLmZpZWxkc0luY2x1ZGVkV2l0aEpzb25Qb3N0XCIsYS5hLkpjKTthLmIoXCJ1dGlscy5nZXRGb3JtRmllbGRzXCIsYS5hLkxjKTthLmIoXCJ1dGlscy5vYmplY3RNYXBcIixhLmEuR2EpO2EuYihcInV0aWxzLnBlZWtPYnNlcnZhYmxlXCIsYS5hLmJjKTthLmIoXCJ1dGlscy5wb3N0SnNvblwiLGEuYS5PZCk7YS5iKFwidXRpbHMucGFyc2VKc29uXCIsYS5hLk5kKTthLmIoXCJ1dGlscy5yZWdpc3RlckV2ZW50SGFuZGxlclwiLGEuYS5CKTthLmIoXCJ1dGlscy5zdHJpbmdpZnlKc29uXCIsYS5hLmhjKTthLmIoXCJ1dGlscy5yYW5nZVwiLGEuYS5QZCk7YS5iKFwidXRpbHMudG9nZ2xlRG9tTm9kZUNzc0NsYXNzXCIsYS5hLkViKTthLmIoXCJ1dGlscy50cmlnZ2VyRXZlbnRcIixhLmEuRmIpO2EuYihcInV0aWxzLnVud3JhcE9ic2VydmFibGVcIixhLmEuZik7YS5iKFwidXRpbHMub2JqZWN0Rm9yRWFjaFwiLGEuYS5QKTthLmIoXCJ1dGlscy5hZGRPclJlbW92ZUl0ZW1cIixcbmEuYS5OYSk7YS5iKFwidXRpbHMuc2V0VGV4dENvbnRlbnRcIixhLmEuQmIpO2EuYihcInVud3JhcFwiLGEuYS5mKTtGdW5jdGlvbi5wcm90b3R5cGUuYmluZHx8KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEpe3ZhciBjPXRoaXM7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGMuYXBwbHkoYSxhcmd1bWVudHMpfTt2YXIgZD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9ZC5zbGljZSgwKTtlLnB1c2guYXBwbHkoZSxhcmd1bWVudHMpO3JldHVybiBjLmFwcGx5KGEsZSl9fSk7YS5hLmc9bmV3IGZ1bmN0aW9uKCl7dmFyIGI9MCxjPVwiX19rb19fXCIrKG5ldyBEYXRlKS5nZXRUaW1lKCksZD17fSxlLGY7YS5hLlc/KGU9ZnVuY3Rpb24oYSxlKXt2YXIgZj1hW2NdO2lmKCFmfHxcIm51bGxcIj09PWZ8fCFkW2ZdKXtpZighZSlyZXR1cm4gbjtmPWFbY109XCJrb1wiK2IrKztkW2ZdPVxue319cmV0dXJuIGRbZl19LGY9ZnVuY3Rpb24oYSl7dmFyIGI9YVtjXTtyZXR1cm4gYj8oZGVsZXRlIGRbYl0sYVtjXT1udWxsLCEwKTohMX0pOihlPWZ1bmN0aW9uKGEsYil7dmFyIGQ9YVtjXTshZCYmYiYmKGQ9YVtjXT17fSk7cmV0dXJuIGR9LGY9ZnVuY3Rpb24oYSl7cmV0dXJuIGFbY10/KGRlbGV0ZSBhW2NdLCEwKTohMX0pO3JldHVybntnZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1lKGEsITEpO3JldHVybiBjJiZjW2JdfSxzZXQ6ZnVuY3Rpb24oYSxiLGMpeyhhPWUoYSxjIT09bikpJiYoYVtiXT1jKX0sVWI6ZnVuY3Rpb24oYSxiLGMpe2E9ZShhLCEwKTtyZXR1cm4gYVtiXXx8KGFbYl09Yyl9LGNsZWFyOmYsWjpmdW5jdGlvbigpe3JldHVybiBiKysgK2N9fX07YS5iKFwidXRpbHMuZG9tRGF0YVwiLGEuYS5nKTthLmIoXCJ1dGlscy5kb21EYXRhLmNsZWFyXCIsYS5hLmcuY2xlYXIpO2EuYS5LPW5ldyBmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYixjKXt2YXIgZD1hLmEuZy5nZXQoYixlKTtcbmQ9PT1uJiZjJiYoZD1bXSxhLmEuZy5zZXQoYixlLGQpKTtyZXR1cm4gZH1mdW5jdGlvbiBjKGMpe3ZhciBlPWIoYywhMSk7aWYoZSlmb3IodmFyIGU9ZS5zbGljZSgwKSxrPTA7azxlLmxlbmd0aDtrKyspZVtrXShjKTthLmEuZy5jbGVhcihjKTthLmEuSy5jbGVhbkV4dGVybmFsRGF0YShjKTtnW2Mubm9kZVR5cGVdJiZkKGMuY2hpbGROb2RlcywhMCl9ZnVuY3Rpb24gZChiLGQpe2Zvcih2YXIgZT1bXSxsLGY9MDtmPGIubGVuZ3RoO2YrKylpZighZHx8OD09PWJbZl0ubm9kZVR5cGUpaWYoYyhlW2UubGVuZ3RoXT1sPWJbZl0pLGJbZl0hPT1sKWZvcig7Zi0tJiYtMT09YS5hLkEoZSxiW2ZdKTspO312YXIgZT1hLmEuZy5aKCksZj17MTohMCw4OiEwLDk6ITB9LGc9ezE6ITAsOTohMH07cmV0dXJue3phOmZ1bmN0aW9uKGEsYyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYyl0aHJvdyBFcnJvcihcIkNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvblwiKTtiKGEsITApLnB1c2goYyl9LHliOmZ1bmN0aW9uKGMsXG5kKXt2YXIgZj1iKGMsITEpO2YmJihhLmEuUGEoZixkKSwwPT1mLmxlbmd0aCYmYS5hLmcuc2V0KGMsZSxuKSl9LG9hOmZ1bmN0aW9uKGIpe2EudS5HKGZ1bmN0aW9uKCl7ZltiLm5vZGVUeXBlXSYmKGMoYiksZ1tiLm5vZGVUeXBlXSYmZChiLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKSkpfSk7cmV0dXJuIGJ9LHJlbW92ZU5vZGU6ZnVuY3Rpb24oYil7YS5vYShiKTtiLnBhcmVudE5vZGUmJmIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKX0sY2xlYW5FeHRlcm5hbERhdGE6ZnVuY3Rpb24oYSl7diYmXCJmdW5jdGlvblwiPT10eXBlb2Ygdi5jbGVhbkRhdGEmJnYuY2xlYW5EYXRhKFthXSl9fX07YS5vYT1hLmEuSy5vYTthLnJlbW92ZU5vZGU9YS5hLksucmVtb3ZlTm9kZTthLmIoXCJjbGVhbk5vZGVcIixhLm9hKTthLmIoXCJyZW1vdmVOb2RlXCIsYS5yZW1vdmVOb2RlKTthLmIoXCJ1dGlscy5kb21Ob2RlRGlzcG9zYWxcIixhLmEuSyk7YS5iKFwidXRpbHMuZG9tTm9kZURpc3Bvc2FsLmFkZERpc3Bvc2VDYWxsYmFja1wiLFxuYS5hLksuemEpO2EuYihcInV0aWxzLmRvbU5vZGVEaXNwb3NhbC5yZW1vdmVEaXNwb3NlQ2FsbGJhY2tcIixhLmEuSy55Yik7KGZ1bmN0aW9uKCl7dmFyIGI9WzAsXCJcIixcIlwiXSxjPVsxLFwiPHRhYmxlPlwiLFwiPC90YWJsZT5cIl0sZD1bMyxcIjx0YWJsZT48dGJvZHk+PHRyPlwiLFwiPC90cj48L3Rib2R5PjwvdGFibGU+XCJdLGU9WzEsXCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+XCIsXCI8L3NlbGVjdD5cIl0sZj17dGhlYWQ6Yyx0Ym9keTpjLHRmb290OmMsdHI6WzIsXCI8dGFibGU+PHRib2R5PlwiLFwiPC90Ym9keT48L3RhYmxlPlwiXSx0ZDpkLHRoOmQsb3B0aW9uOmUsb3B0Z3JvdXA6ZX0sZz04Pj1hLmEuVzthLmEudWE9ZnVuY3Rpb24oYyxkKXt2YXIgZTtpZih2KWlmKHYucGFyc2VIVE1MKWU9di5wYXJzZUhUTUwoYyxkKXx8W107ZWxzZXtpZigoZT12LmNsZWFuKFtjXSxkKSkmJmVbMF0pe2Zvcih2YXIgbD1lWzBdO2wucGFyZW50Tm9kZSYmMTEhPT1sLnBhcmVudE5vZGUubm9kZVR5cGU7KWw9bC5wYXJlbnROb2RlO1xubC5wYXJlbnROb2RlJiZsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobCl9fWVsc2V7KGU9ZCl8fChlPXcpO3ZhciBsPWUucGFyZW50V2luZG93fHxlLmRlZmF1bHRWaWV3fHxBLHA9YS5hLkRiKGMpLnRvTG93ZXJDYXNlKCkscT1lLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdDt0PShwPXAubWF0Y2goL14oPzpcXHgzYyEtLS4qPy0tXFx4M2VcXHMqPykqPzwoW2Etel0rKVtcXHM+XS8pKSYmZltwWzFdXXx8YjtwPXRbMF07dD1cImlnbm9yZWQ8ZGl2PlwiK3RbMV0rYyt0WzJdK1wiPC9kaXY+XCI7XCJmdW5jdGlvblwiPT10eXBlb2YgbC5pbm5lclNoaXY/cS5hcHBlbmRDaGlsZChsLmlubmVyU2hpdih0KSk6KGcmJmUuYm9keS5hcHBlbmRDaGlsZChxKSxxLmlubmVySFRNTD10LGcmJnEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChxKSk7Zm9yKDtwLS07KXE9cS5sYXN0Q2hpbGQ7ZT1hLmEubGEocS5sYXN0Q2hpbGQuY2hpbGROb2Rlcyl9cmV0dXJuIGV9O2EuYS5NZD1mdW5jdGlvbihiLGMpe3ZhciBkPWEuYS51YShiLFxuYyk7cmV0dXJuIGQubGVuZ3RoJiZkWzBdLnBhcmVudEVsZW1lbnR8fGEuYS5ZYihkKX07YS5hLmZjPWZ1bmN0aW9uKGIsYyl7YS5hLlRiKGIpO2M9YS5hLmYoYyk7aWYobnVsbCE9PWMmJmMhPT1uKWlmKFwic3RyaW5nXCIhPXR5cGVvZiBjJiYoYz1jLnRvU3RyaW5nKCkpLHYpdihiKS5odG1sKGMpO2Vsc2UgZm9yKHZhciBkPWEuYS51YShjLGIub3duZXJEb2N1bWVudCksZT0wO2U8ZC5sZW5ndGg7ZSsrKWIuYXBwZW5kQ2hpbGQoZFtlXSl9fSkoKTthLmIoXCJ1dGlscy5wYXJzZUh0bWxGcmFnbWVudFwiLGEuYS51YSk7YS5iKFwidXRpbHMuc2V0SHRtbFwiLGEuYS5mYyk7YS5hYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoYyxlKXtpZihjKWlmKDg9PWMubm9kZVR5cGUpe3ZhciBmPWEuYWEuVWMoYy5ub2RlVmFsdWUpO251bGwhPWYmJmUucHVzaCh7dWQ6YyxLZDpmfSl9ZWxzZSBpZigxPT1jLm5vZGVUeXBlKWZvcih2YXIgZj0wLGc9Yy5jaGlsZE5vZGVzLGg9Zy5sZW5ndGg7ZjxoO2YrKyliKGdbZl0sXG5lKX12YXIgYz17fTtyZXR1cm57WGI6ZnVuY3Rpb24oYSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYSl0aHJvdyBFcnJvcihcIllvdSBjYW4gb25seSBwYXNzIGEgZnVuY3Rpb24gdG8ga28ubWVtb2l6YXRpb24ubWVtb2l6ZSgpXCIpO3ZhciBiPSg0Mjk0OTY3Mjk2KigxK01hdGgucmFuZG9tKCkpfDApLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSkrKDQyOTQ5NjcyOTYqKDErTWF0aC5yYW5kb20oKSl8MCkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygxKTtjW2JdPWE7cmV0dXJuXCJcXHgzYyEtLVtrb19tZW1vOlwiK2IrXCJdLS1cXHgzZVwifSxiZDpmdW5jdGlvbihhLGIpe3ZhciBmPWNbYV07aWYoZj09PW4pdGhyb3cgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGFueSBtZW1vIHdpdGggSUQgXCIrYStcIi4gUGVyaGFwcyBpdCdzIGFscmVhZHkgYmVlbiB1bm1lbW9pemVkLlwiKTt0cnl7cmV0dXJuIGYuYXBwbHkobnVsbCxifHxbXSksITB9ZmluYWxseXtkZWxldGUgY1thXX19LGNkOmZ1bmN0aW9uKGMsZSl7dmFyIGY9XG5bXTtiKGMsZik7Zm9yKHZhciBnPTAsaD1mLmxlbmd0aDtnPGg7ZysrKXt2YXIgbT1mW2ddLnVkLGs9W21dO2UmJmEuYS5OYihrLGUpO2EuYWEuYmQoZltnXS5LZCxrKTttLm5vZGVWYWx1ZT1cIlwiO20ucGFyZW50Tm9kZSYmbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG0pfX0sVWM6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9YS5tYXRjaCgvXlxcW2tvX21lbW9cXDooLio/KVxcXSQvKSk/YVsxXTpudWxsfX19KCk7YS5iKFwibWVtb2l6YXRpb25cIixhLmFhKTthLmIoXCJtZW1vaXphdGlvbi5tZW1vaXplXCIsYS5hYS5YYik7YS5iKFwibWVtb2l6YXRpb24udW5tZW1vaXplXCIsYS5hYS5iZCk7YS5iKFwibWVtb2l6YXRpb24ucGFyc2VNZW1vVGV4dFwiLGEuYWEuVWMpO2EuYihcIm1lbW9pemF0aW9uLnVubWVtb2l6ZURvbU5vZGVBbmREZXNjZW5kYW50c1wiLGEuYWEuY2QpO2EubmE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKCl7aWYoZilmb3IodmFyIGI9ZixjPTAsZDtoPGY7KWlmKGQ9ZVtoKytdKXtpZihoPmIpe2lmKDVFMzw9XG4rK2Mpe2g9ZjthLmEuR2MoRXJyb3IoXCInVG9vIG11Y2ggcmVjdXJzaW9uJyBhZnRlciBwcm9jZXNzaW5nIFwiK2MrXCIgdGFzayBncm91cHMuXCIpKTticmVha31iPWZ9dHJ5e2QoKX1jYXRjaChwKXthLmEuR2MocCl9fX1mdW5jdGlvbiBjKCl7YigpO2g9Zj1lLmxlbmd0aD0wfXZhciBkLGU9W10sZj0wLGc9MSxoPTA7QS5NdXRhdGlvbk9ic2VydmVyP2Q9ZnVuY3Rpb24oYSl7dmFyIGI9dy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpOyhuZXcgTXV0YXRpb25PYnNlcnZlcihhKSkub2JzZXJ2ZShiLHthdHRyaWJ1dGVzOiEwfSk7cmV0dXJuIGZ1bmN0aW9uKCl7Yi5jbGFzc0xpc3QudG9nZ2xlKFwiZm9vXCIpfX0oYyk6ZD13JiZcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiaW4gdy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpP2Z1bmN0aW9uKGEpe3ZhciBiPXcuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtiLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2Iub25yZWFkeXN0YXRlY2hhbmdlPW51bGw7dy5kb2N1bWVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoYik7XG5iPW51bGw7YSgpfTt3LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChiKX06ZnVuY3Rpb24oYSl7c2V0VGltZW91dChhLDApfTtyZXR1cm57c2NoZWR1bGVyOmQsemI6ZnVuY3Rpb24oYil7Znx8YS5uYS5zY2hlZHVsZXIoYyk7ZVtmKytdPWI7cmV0dXJuIGcrK30sY2FuY2VsOmZ1bmN0aW9uKGEpe2E9YS0oZy1mKTthPj1oJiZhPGYmJihlW2FdPW51bGwpfSxyZXNldEZvclRlc3Rpbmc6ZnVuY3Rpb24oKXt2YXIgYT1mLWg7aD1mPWUubGVuZ3RoPTA7cmV0dXJuIGF9LFNkOmJ9fSgpO2EuYihcInRhc2tzXCIsYS5uYSk7YS5iKFwidGFza3Muc2NoZWR1bGVcIixhLm5hLnpiKTthLmIoXCJ0YXNrcy5ydW5FYXJseVwiLGEubmEuU2QpO2EuVGE9e3Rocm90dGxlOmZ1bmN0aW9uKGIsYyl7Yi50aHJvdHRsZUV2YWx1YXRpb249Yzt2YXIgZD1udWxsO3JldHVybiBhLiQoe3JlYWQ6Yix3cml0ZTpmdW5jdGlvbihlKXtjbGVhclRpbWVvdXQoZCk7ZD1hLmEuc2V0VGltZW91dChmdW5jdGlvbigpe2IoZSl9LFxuYyl9fSl9LHJhdGVMaW1pdDpmdW5jdGlvbihhLGMpe3ZhciBkLGUsZjtcIm51bWJlclwiPT10eXBlb2YgYz9kPWM6KGQ9Yy50aW1lb3V0LGU9Yy5tZXRob2QpO2EuSGI9ITE7Zj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2U6XCJub3RpZnlXaGVuQ2hhbmdlc1N0b3BcIj09ZT9ZOlg7YS51YihmdW5jdGlvbihhKXtyZXR1cm4gZihhLGQsYyl9KX0sZGVmZXJyZWQ6ZnVuY3Rpb24oYixjKXtpZighMCE9PWMpdGhyb3cgRXJyb3IoXCJUaGUgJ2RlZmVycmVkJyBleHRlbmRlciBvbmx5IGFjY2VwdHMgdGhlIHZhbHVlICd0cnVlJywgYmVjYXVzZSBpdCBpcyBub3Qgc3VwcG9ydGVkIHRvIHR1cm4gZGVmZXJyYWwgb2ZmIG9uY2UgZW5hYmxlZC5cIik7Yi5IYnx8KGIuSGI9ITAsYi51YihmdW5jdGlvbihjKXt2YXIgZSxmPSExO3JldHVybiBmdW5jdGlvbigpe2lmKCFmKXthLm5hLmNhbmNlbChlKTtlPWEubmEuemIoYyk7dHJ5e2Y9ITAsYi5ub3RpZnlTdWJzY3JpYmVycyhuLFwiZGlydHlcIil9ZmluYWxseXtmPVxuITF9fX19KSl9LG5vdGlmeTpmdW5jdGlvbihhLGMpe2EuZXF1YWxpdHlDb21wYXJlcj1cImFsd2F5c1wiPT1jP251bGw6S319O3ZhciBXPXt1bmRlZmluZWQ6MSxcImJvb2xlYW5cIjoxLG51bWJlcjoxLHN0cmluZzoxfTthLmIoXCJleHRlbmRlcnNcIixhLlRhKTthLmljPWZ1bmN0aW9uKGIsYyxkKXt0aGlzLmRhPWI7dGhpcy5sYz1jO3RoaXMubWM9ZDt0aGlzLkliPSExO3RoaXMuZmI9dGhpcy5KYj1udWxsO2EuTCh0aGlzLFwiZGlzcG9zZVwiLHRoaXMucyk7YS5MKHRoaXMsXCJkaXNwb3NlV2hlbk5vZGVJc1JlbW92ZWRcIix0aGlzLmwpfTthLmljLnByb3RvdHlwZS5zPWZ1bmN0aW9uKCl7dGhpcy5JYnx8KHRoaXMuZmImJmEuYS5LLnliKHRoaXMuSmIsdGhpcy5mYiksdGhpcy5JYj0hMCx0aGlzLm1jKCksdGhpcy5kYT10aGlzLmxjPXRoaXMubWM9dGhpcy5KYj10aGlzLmZiPW51bGwpfTthLmljLnByb3RvdHlwZS5sPWZ1bmN0aW9uKGIpe3RoaXMuSmI9YjthLmEuSy56YShiLHRoaXMuZmI9dGhpcy5zLmJpbmQodGhpcykpfTtcbmEuVD1mdW5jdGlvbigpe2EuYS5BYih0aGlzLEQpO0QucWIodGhpcyl9O3ZhciBEPXtxYjpmdW5jdGlvbihhKXthLlU9e2NoYW5nZTpbXX07YS5zYz0xfSxzdWJzY3JpYmU6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPXRoaXM7ZD1kfHxcImNoYW5nZVwiO3ZhciBmPW5ldyBhLmljKGUsYz9iLmJpbmQoYyk6YixmdW5jdGlvbigpe2EuYS5QYShlLlVbZF0sZik7ZS5oYiYmZS5oYihkKX0pO2UuUWEmJmUuUWEoZCk7ZS5VW2RdfHwoZS5VW2RdPVtdKTtlLlVbZF0ucHVzaChmKTtyZXR1cm4gZn0sbm90aWZ5U3Vic2NyaWJlcnM6ZnVuY3Rpb24oYixjKXtjPWN8fFwiY2hhbmdlXCI7XCJjaGFuZ2VcIj09PWMmJnRoaXMuR2IoKTtpZih0aGlzLldhKGMpKXt2YXIgZD1cImNoYW5nZVwiPT09YyYmdGhpcy5lZHx8dGhpcy5VW2NdLnNsaWNlKDApO3RyeXthLnUueGMoKTtmb3IodmFyIGU9MCxmO2Y9ZFtlXTsrK2UpZi5JYnx8Zi5sYyhiKX1maW5hbGx5e2EudS5lbmQoKX19fSxvYjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNjfSxcbkRkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9iKCkhPT1hfSxHYjpmdW5jdGlvbigpeysrdGhpcy5zY30sdWI6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxkPWEuTyhjKSxlLGYsZyxoLG07Yy5nYnx8KGMuZ2I9Yy5ub3RpZnlTdWJzY3JpYmVycyxjLm5vdGlmeVN1YnNjcmliZXJzPVopO3ZhciBrPWIoZnVuY3Rpb24oKXtjLkphPSExO2QmJmg9PT1jJiYoaD1jLm5jP2MubmMoKTpjKCkpO3ZhciBhPWZ8fG0mJmMuc2IoZyxoKTttPWY9ZT0hMTthJiZjLmdiKGc9aCl9KTtjLnFjPWZ1bmN0aW9uKGEsYil7YiYmYy5KYXx8KG09IWIpO2MuZWQ9Yy5VLmNoYW5nZS5zbGljZSgwKTtjLkphPWU9ITA7aD1hO2soKX07Yy5wYz1mdW5jdGlvbihhKXtlfHwoZz1hLGMuZ2IoYSxcImJlZm9yZUNoYW5nZVwiKSl9O2MucmM9ZnVuY3Rpb24oKXttPSEwfTtjLmdkPWZ1bmN0aW9uKCl7Yy5zYihnLGMudighMCkpJiYoZj0hMCl9fSxXYTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5VW2FdJiZ0aGlzLlVbYV0ubGVuZ3RofSxcbkJkOmZ1bmN0aW9uKGIpe2lmKGIpcmV0dXJuIHRoaXMuVVtiXSYmdGhpcy5VW2JdLmxlbmd0aHx8MDt2YXIgYz0wO2EuYS5QKHRoaXMuVSxmdW5jdGlvbihhLGIpe1wiZGlydHlcIiE9PWEmJihjKz1iLmxlbmd0aCl9KTtyZXR1cm4gY30sc2I6ZnVuY3Rpb24oYSxjKXtyZXR1cm4hdGhpcy5lcXVhbGl0eUNvbXBhcmVyfHwhdGhpcy5lcXVhbGl0eUNvbXBhcmVyKGEsYyl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IE9iamVjdF1cIn0sZXh0ZW5kOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXM7YiYmYS5hLlAoYixmdW5jdGlvbihiLGUpe3ZhciBmPWEuVGFbYl07XCJmdW5jdGlvblwiPT10eXBlb2YgZiYmKGM9ZihjLGUpfHxjKX0pO3JldHVybiBjfX07YS5MKEQsXCJpbml0XCIsRC5xYik7YS5MKEQsXCJzdWJzY3JpYmVcIixELnN1YnNjcmliZSk7YS5MKEQsXCJleHRlbmRcIixELmV4dGVuZCk7YS5MKEQsXCJnZXRTdWJzY3JpcHRpb25zQ291bnRcIixELkJkKTthLmEuQmEmJmEuYS5zZXRQcm90b3R5cGVPZihELFxuRnVuY3Rpb24ucHJvdG90eXBlKTthLlQuZm49RDthLlFjPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLnN1YnNjcmliZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYS5ub3RpZnlTdWJzY3JpYmVyc307YS5iKFwic3Vic2NyaWJhYmxlXCIsYS5UKTthLmIoXCJpc1N1YnNjcmliYWJsZVwiLGEuUWMpO2EuUz1hLnU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEpe2QucHVzaChlKTtlPWF9ZnVuY3Rpb24gYygpe2U9ZC5wb3AoKX12YXIgZD1bXSxlLGY9MDtyZXR1cm57eGM6YixlbmQ6YyxjYzpmdW5jdGlvbihiKXtpZihlKXtpZighYS5RYyhiKSl0aHJvdyBFcnJvcihcIk9ubHkgc3Vic2NyaWJhYmxlIHRoaW5ncyBjYW4gYWN0IGFzIGRlcGVuZGVuY2llc1wiKTtlLm9kLmNhbGwoZS5wZCxiLGIuZmR8fChiLmZkPSsrZikpfX0sRzpmdW5jdGlvbihhLGQsZSl7dHJ5e3JldHVybiBiKCksYS5hcHBseShkLGV8fFtdKX1maW5hbGx5e2MoKX19LHFhOmZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4gZS5vLnFhKCl9LFxuVmE6ZnVuY3Rpb24oKXtpZihlKXJldHVybiBlLm8uVmEoKX0sWWE6ZnVuY3Rpb24oKXtpZihlKXJldHVybiBlLllhfSxvOmZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4gZS5vfX19KCk7YS5iKFwiY29tcHV0ZWRDb250ZXh0XCIsYS5TKTthLmIoXCJjb21wdXRlZENvbnRleHQuZ2V0RGVwZW5kZW5jaWVzQ291bnRcIixhLlMucWEpO2EuYihcImNvbXB1dGVkQ29udGV4dC5nZXREZXBlbmRlbmNpZXNcIixhLlMuVmEpO2EuYihcImNvbXB1dGVkQ29udGV4dC5pc0luaXRpYWxcIixhLlMuWWEpO2EuYihcImNvbXB1dGVkQ29udGV4dC5yZWdpc3RlckRlcGVuZGVuY3lcIixhLlMuY2MpO2EuYihcImlnbm9yZURlcGVuZGVuY2llc1wiLGEuWWQ9YS51LkcpO3ZhciBJPWEuYS5EYShcIl9sYXRlc3RWYWx1ZVwiKTthLnRhPWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoKXtpZigwPGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGMuc2IoY1tJXSxhcmd1bWVudHNbMF0pJiYoYy55YSgpLGNbSV09YXJndW1lbnRzWzBdLGMueGEoKSksdGhpcztcbmEudS5jYyhjKTtyZXR1cm4gY1tJXX1jW0ldPWI7YS5hLkJhfHxhLmEuZXh0ZW5kKGMsYS5ULmZuKTthLlQuZm4ucWIoYyk7YS5hLkFiKGMsRik7YS5vcHRpb25zLmRlZmVyVXBkYXRlcyYmYS5UYS5kZWZlcnJlZChjLCEwKTtyZXR1cm4gY307dmFyIEY9e2VxdWFsaXR5Q29tcGFyZXI6Syx2OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbSV19LHhhOmZ1bmN0aW9uKCl7dGhpcy5ub3RpZnlTdWJzY3JpYmVycyh0aGlzW0ldLFwic3BlY3RhdGVcIik7dGhpcy5ub3RpZnlTdWJzY3JpYmVycyh0aGlzW0ldKX0seWE6ZnVuY3Rpb24oKXt0aGlzLm5vdGlmeVN1YnNjcmliZXJzKHRoaXNbSV0sXCJiZWZvcmVDaGFuZ2VcIil9fTthLmEuQmEmJmEuYS5zZXRQcm90b3R5cGVPZihGLGEuVC5mbik7dmFyIEc9YS50YS5NYT1cIl9fa29fcHJvdG9fX1wiO0ZbR109YS50YTthLk89ZnVuY3Rpb24oYil7aWYoKGI9XCJmdW5jdGlvblwiPT10eXBlb2YgYiYmYltHXSkmJmIhPT1GW0ddJiZiIT09YS5vLmZuW0ddKXRocm93IEVycm9yKFwiSW52YWxpZCBvYmplY3QgdGhhdCBsb29rcyBsaWtlIGFuIG9ic2VydmFibGU7IHBvc3NpYmx5IGZyb20gYW5vdGhlciBLbm9ja291dCBpbnN0YW5jZVwiKTtcbnJldHVybiEhYn07YS5aYT1mdW5jdGlvbihiKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBiJiYoYltHXT09PUZbR118fGJbR109PT1hLm8uZm5bR10mJmIuTmMpfTthLmIoXCJvYnNlcnZhYmxlXCIsYS50YSk7YS5iKFwiaXNPYnNlcnZhYmxlXCIsYS5PKTthLmIoXCJpc1dyaXRlYWJsZU9ic2VydmFibGVcIixhLlphKTthLmIoXCJpc1dyaXRhYmxlT2JzZXJ2YWJsZVwiLGEuWmEpO2EuYihcIm9ic2VydmFibGUuZm5cIixGKTthLkwoRixcInBlZWtcIixGLnYpO2EuTChGLFwidmFsdWVIYXNNdXRhdGVkXCIsRi54YSk7YS5MKEYsXCJ2YWx1ZVdpbGxNdXRhdGVcIixGLnlhKTthLkhhPWZ1bmN0aW9uKGIpe2I9Ynx8W107aWYoXCJvYmplY3RcIiE9dHlwZW9mIGJ8fCEoXCJsZW5ndGhcImluIGIpKXRocm93IEVycm9yKFwiVGhlIGFyZ3VtZW50IHBhc3NlZCB3aGVuIGluaXRpYWxpemluZyBhbiBvYnNlcnZhYmxlIGFycmF5IG11c3QgYmUgYW4gYXJyYXksIG9yIG51bGwsIG9yIHVuZGVmaW5lZC5cIik7Yj1hLnRhKGIpO2EuYS5BYihiLFxuYS5IYS5mbik7cmV0dXJuIGIuZXh0ZW5kKHt0cmFja0FycmF5Q2hhbmdlczohMH0pfTthLkhhLmZuPXtyZW1vdmU6ZnVuY3Rpb24oYil7Zm9yKHZhciBjPXRoaXMudigpLGQ9W10sZT1cImZ1bmN0aW9uXCIhPXR5cGVvZiBifHxhLk8oYik/ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1ifTpiLGY9MDtmPGMubGVuZ3RoO2YrKyl7dmFyIGc9Y1tmXTtpZihlKGcpKXswPT09ZC5sZW5ndGgmJnRoaXMueWEoKTtpZihjW2ZdIT09Zyl0aHJvdyBFcnJvcihcIkFycmF5IG1vZGlmaWVkIGR1cmluZyByZW1vdmU7IGNhbm5vdCByZW1vdmUgaXRlbVwiKTtkLnB1c2goZyk7Yy5zcGxpY2UoZiwxKTtmLS19fWQubGVuZ3RoJiZ0aGlzLnhhKCk7cmV0dXJuIGR9LHJlbW92ZUFsbDpmdW5jdGlvbihiKXtpZihiPT09bil7dmFyIGM9dGhpcy52KCksZD1jLnNsaWNlKDApO3RoaXMueWEoKTtjLnNwbGljZSgwLGMubGVuZ3RoKTt0aGlzLnhhKCk7cmV0dXJuIGR9cmV0dXJuIGI/dGhpcy5yZW1vdmUoZnVuY3Rpb24oYyl7cmV0dXJuIDA8PVxuYS5hLkEoYixjKX0pOltdfSxkZXN0cm95OmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMudigpLGQ9XCJmdW5jdGlvblwiIT10eXBlb2YgYnx8YS5PKGIpP2Z1bmN0aW9uKGEpe3JldHVybiBhPT09Yn06Yjt0aGlzLnlhKCk7Zm9yKHZhciBlPWMubGVuZ3RoLTE7MDw9ZTtlLS0pe3ZhciBmPWNbZV07ZChmKSYmKGYuX2Rlc3Ryb3k9ITApfXRoaXMueGEoKX0sZGVzdHJveUFsbDpmdW5jdGlvbihiKXtyZXR1cm4gYj09PW4/dGhpcy5kZXN0cm95KGZ1bmN0aW9uKCl7cmV0dXJuITB9KTpiP3RoaXMuZGVzdHJveShmdW5jdGlvbihjKXtyZXR1cm4gMDw9YS5hLkEoYixjKX0pOltdfSxpbmRleE9mOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMoKTtyZXR1cm4gYS5hLkEoYyxiKX0scmVwbGFjZTpmdW5jdGlvbihhLGMpe3ZhciBkPXRoaXMuaW5kZXhPZihhKTswPD1kJiYodGhpcy55YSgpLHRoaXMudigpW2RdPWMsdGhpcy54YSgpKX0sc29ydGVkOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMoKS5zbGljZSgwKTtcbnJldHVybiBhP2Muc29ydChhKTpjLnNvcnQoKX0scmV2ZXJzZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcygpLnNsaWNlKDApLnJldmVyc2UoKX19O2EuYS5CYSYmYS5hLnNldFByb3RvdHlwZU9mKGEuSGEuZm4sYS50YS5mbik7YS5hLkQoXCJwb3AgcHVzaCByZXZlcnNlIHNoaWZ0IHNvcnQgc3BsaWNlIHVuc2hpZnRcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYil7YS5IYS5mbltiXT1mdW5jdGlvbigpe3ZhciBhPXRoaXMudigpO3RoaXMueWEoKTt0aGlzLnpjKGEsYixhcmd1bWVudHMpO3ZhciBkPWFbYl0uYXBwbHkoYSxhcmd1bWVudHMpO3RoaXMueGEoKTtyZXR1cm4gZD09PWE/dGhpczpkfX0pO2EuYS5EKFtcInNsaWNlXCJdLGZ1bmN0aW9uKGIpe2EuSGEuZm5bYl09ZnVuY3Rpb24oKXt2YXIgYT10aGlzKCk7cmV0dXJuIGFbYl0uYXBwbHkoYSxhcmd1bWVudHMpfX0pO2EuUGM9ZnVuY3Rpb24oYil7cmV0dXJuIGEuTyhiKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYi5yZW1vdmUmJlwiZnVuY3Rpb25cIj09XG50eXBlb2YgYi5wdXNofTthLmIoXCJvYnNlcnZhYmxlQXJyYXlcIixhLkhhKTthLmIoXCJpc09ic2VydmFibGVBcnJheVwiLGEuUGMpO2EuVGEudHJhY2tBcnJheUNoYW5nZXM9ZnVuY3Rpb24oYixjKXtmdW5jdGlvbiBkKCl7ZnVuY3Rpb24gYygpe2lmKG0pe3ZhciBkPVtdLmNvbmNhdChiLnYoKXx8W10pLGU7aWYoYi5XYShcImFycmF5Q2hhbmdlXCIpKXtpZighZnx8MTxtKWY9YS5hLlBiKGssZCxiLk9iKTtlPWZ9az1kO2Y9bnVsbDttPTA7ZSYmZS5sZW5ndGgmJmIubm90aWZ5U3Vic2NyaWJlcnMoZSxcImFycmF5Q2hhbmdlXCIpfX1lP2MoKTooZT0hMCxoPWIuc3Vic2NyaWJlKGZ1bmN0aW9uKCl7KyttfSxudWxsLFwic3BlY3RhdGVcIiksaz1bXS5jb25jYXQoYi52KCl8fFtdKSxmPW51bGwsZz1iLnN1YnNjcmliZShjKSl9Yi5PYj17fTtjJiZcIm9iamVjdFwiPT10eXBlb2YgYyYmYS5hLmV4dGVuZChiLk9iLGMpO2IuT2Iuc3BhcnNlPSEwO2lmKCFiLnpjKXt2YXIgZT0hMSxmPW51bGwsZyxoLG09MCxcbmssbD1iLlFhLHA9Yi5oYjtiLlFhPWZ1bmN0aW9uKGEpe2wmJmwuY2FsbChiLGEpO1wiYXJyYXlDaGFuZ2VcIj09PWEmJmQoKX07Yi5oYj1mdW5jdGlvbihhKXtwJiZwLmNhbGwoYixhKTtcImFycmF5Q2hhbmdlXCIhPT1hfHxiLldhKFwiYXJyYXlDaGFuZ2VcIil8fChnJiZnLnMoKSxoJiZoLnMoKSxoPWc9bnVsbCxlPSExLGs9bil9O2IuemM9ZnVuY3Rpb24oYixjLGQpe2Z1bmN0aW9uIGwoYSxiLGMpe3JldHVybiBrW2subGVuZ3RoXT17c3RhdHVzOmEsdmFsdWU6YixpbmRleDpjfX1pZihlJiYhbSl7dmFyIGs9W10scD1iLmxlbmd0aCxnPWQubGVuZ3RoLGg9MDtzd2l0Y2goYyl7Y2FzZSBcInB1c2hcIjpoPXA7Y2FzZSBcInVuc2hpZnRcIjpmb3IoYz0wO2M8ZztjKyspbChcImFkZGVkXCIsZFtjXSxoK2MpO2JyZWFrO2Nhc2UgXCJwb3BcIjpoPXAtMTtjYXNlIFwic2hpZnRcIjpwJiZsKFwiZGVsZXRlZFwiLGJbaF0saCk7YnJlYWs7Y2FzZSBcInNwbGljZVwiOmM9TWF0aC5taW4oTWF0aC5tYXgoMCwwPmRbMF0/cCtkWzBdOlxuZFswXSkscCk7Zm9yKHZhciBwPTE9PT1nP3A6TWF0aC5taW4oYysoZFsxXXx8MCkscCksZz1jK2ctMixoPU1hdGgubWF4KHAsZyksVT1bXSxMPVtdLG49MjtjPGg7KytjLCsrbiljPHAmJkwucHVzaChsKFwiZGVsZXRlZFwiLGJbY10sYykpLGM8ZyYmVS5wdXNoKGwoXCJhZGRlZFwiLGRbbl0sYykpO2EuYS5LYyhMLFUpO2JyZWFrO2RlZmF1bHQ6cmV0dXJufWY9a319fX07dmFyIHI9YS5hLkRhKFwiX3N0YXRlXCIpO2Eubz1hLiQ9ZnVuY3Rpb24oYixjLGQpe2Z1bmN0aW9uIGUoKXtpZigwPGFyZ3VtZW50cy5sZW5ndGgpe2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBmKWYuYXBwbHkoZy5uYixhcmd1bWVudHMpO2Vsc2UgdGhyb3cgRXJyb3IoXCJDYW5ub3Qgd3JpdGUgYSB2YWx1ZSB0byBhIGtvLmNvbXB1dGVkIHVubGVzcyB5b3Ugc3BlY2lmeSBhICd3cml0ZScgb3B0aW9uLiBJZiB5b3Ugd2lzaCB0byByZWFkIHRoZSBjdXJyZW50IHZhbHVlLCBkb24ndCBwYXNzIGFueSBwYXJhbWV0ZXJzLlwiKTtyZXR1cm4gdGhpc31nLnJhfHxcbmEudS5jYyhlKTsoZy5rYXx8Zy5KJiZlLlhhKCkpJiZlLmhhKCk7cmV0dXJuIGcuWH1cIm9iamVjdFwiPT09dHlwZW9mIGI/ZD1iOihkPWR8fHt9LGImJihkLnJlYWQ9YikpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGQucmVhZCl0aHJvdyBFcnJvcihcIlBhc3MgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBrby5jb21wdXRlZFwiKTt2YXIgZj1kLndyaXRlLGc9e1g6bixzYTohMCxrYTohMCxyYjohMSxqYzohMSxyYTohMSx3YjohMSxKOiExLFdjOmQucmVhZCxuYjpjfHxkLm93bmVyLGw6ZC5kaXNwb3NlV2hlbk5vZGVJc1JlbW92ZWR8fGQubHx8bnVsbCxTYTpkLmRpc3Bvc2VXaGVufHxkLlNhLFJiOm51bGwsSTp7fSxWOjAsSWM6bnVsbH07ZVtyXT1nO2UuTmM9XCJmdW5jdGlvblwiPT09dHlwZW9mIGY7YS5hLkJhfHxhLmEuZXh0ZW5kKGUsYS5ULmZuKTthLlQuZm4ucWIoZSk7YS5hLkFiKGUsQyk7ZC5wdXJlPyhnLndiPSEwLGcuSj0hMCxhLmEuZXh0ZW5kKGUsZGEpKTpcbmQuZGVmZXJFdmFsdWF0aW9uJiZhLmEuZXh0ZW5kKGUsZWEpO2Eub3B0aW9ucy5kZWZlclVwZGF0ZXMmJmEuVGEuZGVmZXJyZWQoZSwhMCk7Zy5sJiYoZy5qYz0hMCxnLmwubm9kZVR5cGV8fChnLmw9bnVsbCkpO2cuSnx8ZC5kZWZlckV2YWx1YXRpb258fGUuaGEoKTtnLmwmJmUuamEoKSYmYS5hLksuemEoZy5sLGcuUmI9ZnVuY3Rpb24oKXtlLnMoKX0pO3JldHVybiBlfTt2YXIgQz17ZXF1YWxpdHlDb21wYXJlcjpLLHFhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbcl0uVn0sVmE6ZnVuY3Rpb24oKXt2YXIgYj1bXTthLmEuUCh0aGlzW3JdLkksZnVuY3Rpb24oYSxkKXtiW2QuS2FdPWQuZGF9KTtyZXR1cm4gYn0sVmI6ZnVuY3Rpb24oYil7aWYoIXRoaXNbcl0uVilyZXR1cm4hMTt2YXIgYz10aGlzLlZhKCk7cmV0dXJuLTEhPT1hLmEuQShjLGIpPyEwOiEhYS5hLkxiKGMsZnVuY3Rpb24oYSl7cmV0dXJuIGEuVmImJmEuVmIoYil9KX0sdWM6ZnVuY3Rpb24oYSxjLGQpe2lmKHRoaXNbcl0ud2ImJlxuYz09PXRoaXMpdGhyb3cgRXJyb3IoXCJBICdwdXJlJyBjb21wdXRlZCBtdXN0IG5vdCBiZSBjYWxsZWQgcmVjdXJzaXZlbHlcIik7dGhpc1tyXS5JW2FdPWQ7ZC5LYT10aGlzW3JdLlYrKztkLkxhPWMub2IoKX0sWGE6ZnVuY3Rpb24oKXt2YXIgYSxjLGQ9dGhpc1tyXS5JO2ZvcihhIGluIGQpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGQsYSkmJihjPWRbYV0sdGhpcy5JYSYmYy5kYS5KYXx8Yy5kYS5EZChjLkxhKSkpcmV0dXJuITB9LEpkOmZ1bmN0aW9uKCl7dGhpcy5JYSYmIXRoaXNbcl0ucmImJnRoaXMuSWEoITEpfSxqYTpmdW5jdGlvbigpe3ZhciBhPXRoaXNbcl07cmV0dXJuIGEua2F8fDA8YS5WfSxSZDpmdW5jdGlvbigpe3RoaXMuSmE/dGhpc1tyXS5rYSYmKHRoaXNbcl0uc2E9ITApOnRoaXMuSGMoKX0sJGM6ZnVuY3Rpb24oYSl7aWYoYS5IYil7dmFyIGM9YS5zdWJzY3JpYmUodGhpcy5KZCx0aGlzLFwiZGlydHlcIiksZD1hLnN1YnNjcmliZSh0aGlzLlJkLFxudGhpcyk7cmV0dXJue2RhOmEsczpmdW5jdGlvbigpe2MucygpO2QucygpfX19cmV0dXJuIGEuc3Vic2NyaWJlKHRoaXMuSGMsdGhpcyl9LEhjOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWIudGhyb3R0bGVFdmFsdWF0aW9uO2MmJjA8PWM/KGNsZWFyVGltZW91dCh0aGlzW3JdLkljKSx0aGlzW3JdLkljPWEuYS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5oYSghMCl9LGMpKTpiLklhP2IuSWEoITApOmIuaGEoITApfSxoYTpmdW5jdGlvbihiKXt2YXIgYz10aGlzW3JdLGQ9Yy5TYSxlPSExO2lmKCFjLnJiJiYhYy5yYSl7aWYoYy5sJiYhYS5hLlNiKGMubCl8fGQmJmQoKSl7aWYoIWMuamMpe3RoaXMucygpO3JldHVybn19ZWxzZSBjLmpjPSExO2MucmI9ITA7dHJ5e2U9dGhpcy56ZChiKX1maW5hbGx5e2MucmI9ITF9cmV0dXJuIGV9fSx6ZDpmdW5jdGlvbihiKXt2YXIgYz10aGlzW3JdLGQ9ITEsZT1jLndiP246IWMuVixkPXtxZDp0aGlzLG1iOmMuSSxRYjpjLlZ9O2EudS54Yyh7cGQ6ZCxcbm9kOmJhLG86dGhpcyxZYTplfSk7Yy5JPXt9O2MuVj0wO3ZhciBmPXRoaXMueWQoYyxkKTtjLlY/ZD10aGlzLnNiKGMuWCxmKToodGhpcy5zKCksZD0hMCk7ZCYmKGMuSj90aGlzLkdiKCk6dGhpcy5ub3RpZnlTdWJzY3JpYmVycyhjLlgsXCJiZWZvcmVDaGFuZ2VcIiksYy5YPWYsdGhpcy5ub3RpZnlTdWJzY3JpYmVycyhjLlgsXCJzcGVjdGF0ZVwiKSwhYy5KJiZiJiZ0aGlzLm5vdGlmeVN1YnNjcmliZXJzKGMuWCksdGhpcy5yYyYmdGhpcy5yYygpKTtlJiZ0aGlzLm5vdGlmeVN1YnNjcmliZXJzKGMuWCxcImF3YWtlXCIpO3JldHVybiBkfSx5ZDpmdW5jdGlvbihiLGMpe3RyeXt2YXIgZD1iLldjO3JldHVybiBiLm5iP2QuY2FsbChiLm5iKTpkKCl9ZmluYWxseXthLnUuZW5kKCksYy5RYiYmIWIuSiYmYS5hLlAoYy5tYixhYSksYi5zYT1iLmthPSExfX0sdjpmdW5jdGlvbihhKXt2YXIgYz10aGlzW3JdOyhjLmthJiYoYXx8IWMuVil8fGMuSiYmdGhpcy5YYSgpKSYmdGhpcy5oYSgpO3JldHVybiBjLlh9LFxudWI6ZnVuY3Rpb24oYil7YS5ULmZuLnViLmNhbGwodGhpcyxiKTt0aGlzLm5jPWZ1bmN0aW9uKCl7dGhpc1tyXS5KfHwodGhpc1tyXS5zYT90aGlzLmhhKCk6dGhpc1tyXS5rYT0hMSk7cmV0dXJuIHRoaXNbcl0uWH07dGhpcy5JYT1mdW5jdGlvbihhKXt0aGlzLnBjKHRoaXNbcl0uWCk7dGhpc1tyXS5rYT0hMDthJiYodGhpc1tyXS5zYT0hMCk7dGhpcy5xYyh0aGlzLCFhKX19LHM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzW3JdOyFiLkomJmIuSSYmYS5hLlAoYi5JLGZ1bmN0aW9uKGEsYil7Yi5zJiZiLnMoKX0pO2IubCYmYi5SYiYmYS5hLksueWIoYi5sLGIuUmIpO2IuST1uO2IuVj0wO2IucmE9ITA7Yi5zYT0hMTtiLmthPSExO2IuSj0hMTtiLmw9bjtiLlNhPW47Yi5XYz1uO3RoaXMuTmN8fChiLm5iPW4pfX0sZGE9e1FhOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMsZD1jW3JdO2lmKCFkLnJhJiZkLkomJlwiY2hhbmdlXCI9PWIpe2QuSj0hMTtpZihkLnNhfHxjLlhhKCkpZC5JPW51bGwsZC5WPVxuMCxjLmhhKCkmJmMuR2IoKTtlbHNle3ZhciBlPVtdO2EuYS5QKGQuSSxmdW5jdGlvbihhLGIpe2VbYi5LYV09YX0pO2EuYS5EKGUsZnVuY3Rpb24oYSxiKXt2YXIgZT1kLklbYV0sbT1jLiRjKGUuZGEpO20uS2E9YjttLkxhPWUuTGE7ZC5JW2FdPW19KTtjLlhhKCkmJmMuaGEoKSYmYy5HYigpfWQucmF8fGMubm90aWZ5U3Vic2NyaWJlcnMoZC5YLFwiYXdha2VcIil9fSxoYjpmdW5jdGlvbihiKXt2YXIgYz10aGlzW3JdO2MucmF8fFwiY2hhbmdlXCIhPWJ8fHRoaXMuV2EoXCJjaGFuZ2VcIil8fChhLmEuUChjLkksZnVuY3Rpb24oYSxiKXtiLnMmJihjLklbYV09e2RhOmIuZGEsS2E6Yi5LYSxMYTpiLkxhfSxiLnMoKSl9KSxjLko9ITAsdGhpcy5ub3RpZnlTdWJzY3JpYmVycyhuLFwiYXNsZWVwXCIpKX0sb2I6ZnVuY3Rpb24oKXt2YXIgYj10aGlzW3JdO2IuSiYmKGIuc2F8fHRoaXMuWGEoKSkmJnRoaXMuaGEoKTtyZXR1cm4gYS5ULmZuLm9iLmNhbGwodGhpcyl9fSxlYT17UWE6ZnVuY3Rpb24oYSl7XCJjaGFuZ2VcIiE9XG5hJiZcImJlZm9yZUNoYW5nZVwiIT1hfHx0aGlzLnYoKX19O2EuYS5CYSYmYS5hLnNldFByb3RvdHlwZU9mKEMsYS5ULmZuKTt2YXIgTj1hLnRhLk1hO0NbTl09YS5vO2EuT2M9ZnVuY3Rpb24oYSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgYSYmYVtOXT09PUNbTl19O2EuRmQ9ZnVuY3Rpb24oYil7cmV0dXJuIGEuT2MoYikmJmJbcl0mJmJbcl0ud2J9O2EuYihcImNvbXB1dGVkXCIsYS5vKTthLmIoXCJkZXBlbmRlbnRPYnNlcnZhYmxlXCIsYS5vKTthLmIoXCJpc0NvbXB1dGVkXCIsYS5PYyk7YS5iKFwiaXNQdXJlQ29tcHV0ZWRcIixhLkZkKTthLmIoXCJjb21wdXRlZC5mblwiLEMpO2EuTChDLFwicGVla1wiLEMudik7YS5MKEMsXCJkaXNwb3NlXCIsQy5zKTthLkwoQyxcImlzQWN0aXZlXCIsQy5qYSk7YS5MKEMsXCJnZXREZXBlbmRlbmNpZXNDb3VudFwiLEMucWEpO2EuTChDLFwiZ2V0RGVwZW5kZW5jaWVzXCIsQy5WYSk7YS54Yj1mdW5jdGlvbihiLGMpe2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBiKXJldHVybiBhLm8oYixcbmMse3B1cmU6ITB9KTtiPWEuYS5leHRlbmQoe30sYik7Yi5wdXJlPSEwO3JldHVybiBhLm8oYixjKX07YS5iKFwicHVyZUNvbXB1dGVkXCIsYS54Yik7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhLGYsZyl7Zz1nfHxuZXcgZDthPWYoYSk7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGF8fG51bGw9PT1hfHxhPT09bnx8YSBpbnN0YW5jZW9mIFJlZ0V4cHx8YSBpbnN0YW5jZW9mIERhdGV8fGEgaW5zdGFuY2VvZiBTdHJpbmd8fGEgaW5zdGFuY2VvZiBOdW1iZXJ8fGEgaW5zdGFuY2VvZiBCb29sZWFuKXJldHVybiBhO3ZhciBoPWEgaW5zdGFuY2VvZiBBcnJheT9bXTp7fTtnLnNhdmUoYSxoKTtjKGEsZnVuY3Rpb24oYyl7dmFyIGQ9ZihhW2NdKTtzd2l0Y2godHlwZW9mIGQpe2Nhc2UgXCJib29sZWFuXCI6Y2FzZSBcIm51bWJlclwiOmNhc2UgXCJzdHJpbmdcIjpjYXNlIFwiZnVuY3Rpb25cIjpoW2NdPWQ7YnJlYWs7Y2FzZSBcIm9iamVjdFwiOmNhc2UgXCJ1bmRlZmluZWRcIjp2YXIgbD1nLmdldChkKTtoW2NdPWwhPT1cbm4/bDpiKGQsZixnKX19KTtyZXR1cm4gaH1mdW5jdGlvbiBjKGEsYil7aWYoYSBpbnN0YW5jZW9mIEFycmF5KXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliKGMpO1wiZnVuY3Rpb25cIj09dHlwZW9mIGEudG9KU09OJiZiKFwidG9KU09OXCIpfWVsc2UgZm9yKGMgaW4gYSliKGMpfWZ1bmN0aW9uIGQoKXt0aGlzLmtleXM9W107dGhpcy52YWx1ZXM9W119YS5hZD1mdW5jdGlvbihjKXtpZigwPT1hcmd1bWVudHMubGVuZ3RoKXRocm93IEVycm9yKFwiV2hlbiBjYWxsaW5nIGtvLnRvSlMsIHBhc3MgdGhlIG9iamVjdCB5b3Ugd2FudCB0byBjb252ZXJ0LlwiKTtyZXR1cm4gYihjLGZ1bmN0aW9uKGIpe2Zvcih2YXIgYz0wO2EuTyhiKSYmMTA+YztjKyspYj1iKCk7cmV0dXJuIGJ9KX07YS50b0pTT049ZnVuY3Rpb24oYixjLGQpe2I9YS5hZChiKTtyZXR1cm4gYS5hLmhjKGIsYyxkKX07ZC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmQsc2F2ZTpmdW5jdGlvbihiLGMpe3ZhciBkPWEuYS5BKHRoaXMua2V5cyxcbmIpOzA8PWQ/dGhpcy52YWx1ZXNbZF09YzoodGhpcy5rZXlzLnB1c2goYiksdGhpcy52YWx1ZXMucHVzaChjKSl9LGdldDpmdW5jdGlvbihiKXtiPWEuYS5BKHRoaXMua2V5cyxiKTtyZXR1cm4gMDw9Yj90aGlzLnZhbHVlc1tiXTpufX19KSgpO2EuYihcInRvSlNcIixhLmFkKTthLmIoXCJ0b0pTT05cIixhLnRvSlNPTik7YS5XZD1mdW5jdGlvbihiLGMsZCl7ZnVuY3Rpb24gZShjKXt2YXIgZT1hLnhiKGIsZCkuZXh0ZW5kKHttYTpcImFsd2F5c1wifSksaD1lLnN1YnNjcmliZShmdW5jdGlvbihhKXthJiYoaC5zKCksYyhhKSl9KTtlLm5vdGlmeVN1YnNjcmliZXJzKGUudigpKTtyZXR1cm4gaH1yZXR1cm5cImZ1bmN0aW9uXCIhPT10eXBlb2YgUHJvbWlzZXx8Yz9lKGMuYmluZChkKSk6bmV3IFByb21pc2UoZSl9O2EuYihcIndoZW5cIixhLldkKTsoZnVuY3Rpb24oKXthLnc9e006ZnVuY3Rpb24oYil7c3dpdGNoKGEuYS5SKGIpKXtjYXNlIFwib3B0aW9uXCI6cmV0dXJuITA9PT1iLl9fa29fX2hhc0RvbURhdGFPcHRpb25WYWx1ZV9fP1xuYS5hLmcuZ2V0KGIsYS5jLm9wdGlvbnMuJGIpOjc+PWEuYS5XP2IuZ2V0QXR0cmlidXRlTm9kZShcInZhbHVlXCIpJiZiLmdldEF0dHJpYnV0ZU5vZGUoXCJ2YWx1ZVwiKS5zcGVjaWZpZWQ/Yi52YWx1ZTpiLnRleHQ6Yi52YWx1ZTtjYXNlIFwic2VsZWN0XCI6cmV0dXJuIDA8PWIuc2VsZWN0ZWRJbmRleD9hLncuTShiLm9wdGlvbnNbYi5zZWxlY3RlZEluZGV4XSk6bjtkZWZhdWx0OnJldHVybiBiLnZhbHVlfX0sY2I6ZnVuY3Rpb24oYixjLGQpe3N3aXRjaChhLmEuUihiKSl7Y2FzZSBcIm9wdGlvblwiOlwic3RyaW5nXCI9PT10eXBlb2YgYz8oYS5hLmcuc2V0KGIsYS5jLm9wdGlvbnMuJGIsbiksXCJfX2tvX19oYXNEb21EYXRhT3B0aW9uVmFsdWVfX1wiaW4gYiYmZGVsZXRlIGIuX19rb19faGFzRG9tRGF0YU9wdGlvblZhbHVlX18sYi52YWx1ZT1jKTooYS5hLmcuc2V0KGIsYS5jLm9wdGlvbnMuJGIsYyksYi5fX2tvX19oYXNEb21EYXRhT3B0aW9uVmFsdWVfXz0hMCxiLnZhbHVlPVwibnVtYmVyXCI9PT1cbnR5cGVvZiBjP2M6XCJcIik7YnJlYWs7Y2FzZSBcInNlbGVjdFwiOmlmKFwiXCI9PT1jfHxudWxsPT09YyljPW47Zm9yKHZhciBlPS0xLGY9MCxnPWIub3B0aW9ucy5sZW5ndGgsaDtmPGc7KytmKWlmKGg9YS53Lk0oYi5vcHRpb25zW2ZdKSxoPT1jfHxcIlwiPT09aCYmYz09PW4pe2U9ZjticmVha31pZihkfHwwPD1lfHxjPT09biYmMTxiLnNpemUpYi5zZWxlY3RlZEluZGV4PWUsNj09PWEuYS5XJiZhLmEuc2V0VGltZW91dChmdW5jdGlvbigpe2Iuc2VsZWN0ZWRJbmRleD1lfSwwKTticmVhaztkZWZhdWx0OmlmKG51bGw9PT1jfHxjPT09biljPVwiXCI7Yi52YWx1ZT1jfX19fSkoKTthLmIoXCJzZWxlY3RFeHRlbnNpb25zXCIsYS53KTthLmIoXCJzZWxlY3RFeHRlbnNpb25zLnJlYWRWYWx1ZVwiLGEudy5NKTthLmIoXCJzZWxlY3RFeHRlbnNpb25zLndyaXRlVmFsdWVcIixhLncuY2IpO2EubT1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoYil7Yj1hLmEuRGIoYik7MTIzPT09Yi5jaGFyQ29kZUF0KDApJiYoYj1iLnNsaWNlKDEsXG4tMSkpO2IrPVwiXFxuLFwiO3ZhciBjPVtdLGQ9Yi5tYXRjaChlKSxwLHE9W10saD0wO2lmKDE8ZC5sZW5ndGgpe2Zvcih2YXIgeD0wLEI7Qj1kW3hdOysreCl7dmFyIHU9Qi5jaGFyQ29kZUF0KDApO2lmKDQ0PT09dSl7aWYoMD49aCl7Yy5wdXNoKHAmJnEubGVuZ3RoP3trZXk6cCx2YWx1ZTpxLmpvaW4oXCJcIil9Ont1bmtub3duOnB8fHEuam9pbihcIlwiKX0pO3A9aD0wO3E9W107Y29udGludWV9fWVsc2UgaWYoNTg9PT11KXtpZighaCYmIXAmJjE9PT1xLmxlbmd0aCl7cD1xLnBvcCgpO2NvbnRpbnVlfX1lbHNlIGlmKDQ3PT09dSYmMTxCLmxlbmd0aCYmKDQ3PT09Qi5jaGFyQ29kZUF0KDEpfHw0Mj09PUIuY2hhckNvZGVBdCgxKSkpY29udGludWU7ZWxzZSA0Nz09PXUmJngmJjE8Qi5sZW5ndGg/KHU9ZFt4LTFdLm1hdGNoKGYpKSYmIWdbdVswXV0mJihiPWIuc3Vic3RyKGIuaW5kZXhPZihCKSsxKSxkPWIubWF0Y2goZSkseD0tMSxCPVwiL1wiKTo0MD09PXV8fDEyMz09PXV8fDkxPT09dT8rK2g6XG40MT09PXV8fDEyNT09PXV8fDkzPT09dT8tLWg6cHx8cS5sZW5ndGh8fDM0IT09dSYmMzkhPT11fHwoQj1CLnNsaWNlKDEsLTEpKTtxLnB1c2goQil9aWYoMDxoKXRocm93IEVycm9yKFwiVW5iYWxhbmNlZCBwYXJlbnRoZXNlcywgYnJhY2VzLCBvciBicmFja2V0c1wiKTt9cmV0dXJuIGN9dmFyIGM9W1widHJ1ZVwiLFwiZmFsc2VcIixcIm51bGxcIixcInVuZGVmaW5lZFwiXSxkPS9eKD86WyRfYS16XVskXFx3XSp8KC4rKShcXC5cXHMqWyRfYS16XVskXFx3XSp8XFxbLitcXF0pKSQvaSxlPVJlZ0V4cChcIlxcXCIoPzpcXFxcXFxcXC58W15cXFwiXSkqXFxcInwnKD86XFxcXFxcXFwufFteJ10pKid8YCg/OlxcXFxcXFxcLnxbXmBdKSpgfC9cXFxcKig/OlteKl18XFxcXCorW14qL10pKlxcXFwqKy98Ly8uKlxcbnwvKD86XFxcXFxcXFwufFteL10pKy93KnxbXlxcXFxzOiwvXVteLFxcXCInYHt9KCkvOltcXFxcXV0qW15cXFxccyxcXFwiJ2B7fSgpLzpbXFxcXF1dfFteXFxcXHNdXCIsXCJnXCIpLGY9L1tcXF0pXCInQS1aYS16MC05XyRdKyQvLGc9e1wiaW5cIjoxLFwicmV0dXJuXCI6MSxcInR5cGVvZlwiOjF9LFxuaD17fTtyZXR1cm57UmE6W10sd2E6aCxhYzpiLHZiOmZ1bmN0aW9uKGUsZil7ZnVuY3Rpb24gbChiLGUpe3ZhciBmO2lmKCF4KXt2YXIgaz1hLmdldEJpbmRpbmdIYW5kbGVyKGIpO2lmKGsmJmsucHJlcHJvY2VzcyYmIShlPWsucHJlcHJvY2VzcyhlLGIsbCkpKXJldHVybjtpZihrPWhbYl0pZj1lLDA8PWEuYS5BKGMsZik/Zj0hMTooaz1mLm1hdGNoKGQpLGY9bnVsbD09PWs/ITE6a1sxXT9cIk9iamVjdChcIitrWzFdK1wiKVwiK2tbMl06Ziksaz1mO2smJnEucHVzaChcIidcIisoXCJzdHJpbmdcIj09dHlwZW9mIGhbYl0/aFtiXTpiKStcIic6ZnVuY3Rpb24oX3ope1wiK2YrXCI9X3p9XCIpfWcmJihlPVwiZnVuY3Rpb24oKXtyZXR1cm4gXCIrZStcIiB9XCIpO3AucHVzaChcIidcIitiK1wiJzpcIitlKX1mPWZ8fHt9O3ZhciBwPVtdLHE9W10sZz1mLnZhbHVlQWNjZXNzb3JzLHg9Zi5iaW5kaW5nUGFyYW1zLEI9XCJzdHJpbmdcIj09PXR5cGVvZiBlP2IoZSk6ZTthLmEuRChCLGZ1bmN0aW9uKGEpe2woYS5rZXl8fGEudW5rbm93bixcbmEudmFsdWUpfSk7cS5sZW5ndGgmJmwoXCJfa29fcHJvcGVydHlfd3JpdGVyc1wiLFwie1wiK3Euam9pbihcIixcIikrXCIgfVwiKTtyZXR1cm4gcC5qb2luKFwiLFwiKX0sSWQ6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKylpZihhW2NdLmtleT09YilyZXR1cm4hMDtyZXR1cm4hMX0sZWI6ZnVuY3Rpb24oYixjLGQsZSxmKXtpZihiJiZhLk8oYikpIWEuWmEoYil8fGYmJmIudigpPT09ZXx8YihlKTtlbHNlIGlmKChiPWMuZ2V0KFwiX2tvX3Byb3BlcnR5X3dyaXRlcnNcIikpJiZiW2RdKWJbZF0oZSl9fX0oKTthLmIoXCJleHByZXNzaW9uUmV3cml0aW5nXCIsYS5tKTthLmIoXCJleHByZXNzaW9uUmV3cml0aW5nLmJpbmRpbmdSZXdyaXRlVmFsaWRhdG9yc1wiLGEubS5SYSk7YS5iKFwiZXhwcmVzc2lvblJld3JpdGluZy5wYXJzZU9iamVjdExpdGVyYWxcIixhLm0uYWMpO2EuYihcImV4cHJlc3Npb25SZXdyaXRpbmcucHJlUHJvY2Vzc0JpbmRpbmdzXCIsYS5tLnZiKTthLmIoXCJleHByZXNzaW9uUmV3cml0aW5nLl90d29XYXlCaW5kaW5nc1wiLFxuYS5tLndhKTthLmIoXCJqc29uRXhwcmVzc2lvblJld3JpdGluZ1wiLGEubSk7YS5iKFwianNvbkV4cHJlc3Npb25SZXdyaXRpbmcuaW5zZXJ0UHJvcGVydHlBY2Nlc3NvcnNJbnRvSnNvblwiLGEubS52Yik7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhKXtyZXR1cm4gOD09YS5ub2RlVHlwZSYmZy50ZXN0KGY/YS50ZXh0OmEubm9kZVZhbHVlKX1mdW5jdGlvbiBjKGEpe3JldHVybiA4PT1hLm5vZGVUeXBlJiZoLnRlc3QoZj9hLnRleHQ6YS5ub2RlVmFsdWUpfWZ1bmN0aW9uIGQoZCxlKXtmb3IodmFyIGY9ZCxoPTEsZz1bXTtmPWYubmV4dFNpYmxpbmc7KXtpZihjKGYpJiYoYS5hLmcuc2V0KGYsaywhMCksaC0tLDA9PT1oKSlyZXR1cm4gZztnLnB1c2goZik7YihmKSYmaCsrfWlmKCFlKXRocm93IEVycm9yKFwiQ2Fubm90IGZpbmQgY2xvc2luZyBjb21tZW50IHRhZyB0byBtYXRjaDogXCIrZC5ub2RlVmFsdWUpO3JldHVybiBudWxsfWZ1bmN0aW9uIGUoYSxiKXt2YXIgYz1kKGEsYik7cmV0dXJuIGM/XG4wPGMubGVuZ3RoP2NbYy5sZW5ndGgtMV0ubmV4dFNpYmxpbmc6YS5uZXh0U2libGluZzpudWxsfXZhciBmPXcmJlwiXFx4M2MhLS10ZXN0LS1cXHgzZVwiPT09dy5jcmVhdGVDb21tZW50KFwidGVzdFwiKS50ZXh0LGc9Zj8vXlxceDNjIS0tXFxzKmtvKD86XFxzKyhbXFxzXFxTXSspKT9cXHMqLS1cXHgzZSQvOi9eXFxzKmtvKD86XFxzKyhbXFxzXFxTXSspKT9cXHMqJC8saD1mPy9eXFx4M2MhLS1cXHMqXFwva29cXHMqLS1cXHgzZSQvOi9eXFxzKlxcL2tvXFxzKiQvLG09e3VsOiEwLG9sOiEwfSxrPVwiX19rb19tYXRjaGVkRW5kQ29tbWVudF9fXCI7YS5oPXtlYTp7fSxjaGlsZE5vZGVzOmZ1bmN0aW9uKGEpe3JldHVybiBiKGEpP2QoYSk6YS5jaGlsZE5vZGVzfSxFYTpmdW5jdGlvbihjKXtpZihiKGMpKXtjPWEuaC5jaGlsZE5vZGVzKGMpO2Zvcih2YXIgZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKylhLnJlbW92ZU5vZGUoY1tkXSl9ZWxzZSBhLmEuVGIoYyl9LHZhOmZ1bmN0aW9uKGMsZCl7aWYoYihjKSl7YS5oLkVhKGMpO2Zvcih2YXIgZT1cbmMubmV4dFNpYmxpbmcsZj0wLGs9ZC5sZW5ndGg7ZjxrO2YrKyllLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGRbZl0sZSl9ZWxzZSBhLmEudmEoYyxkKX0sVmM6ZnVuY3Rpb24oYSxjKXt2YXIgZDtiKGEpPyhkPWEubmV4dFNpYmxpbmcsYT1hLnBhcmVudE5vZGUpOmQ9YS5maXJzdENoaWxkO2Q/YyE9PWQmJmEuaW5zZXJ0QmVmb3JlKGMsZCk6YS5hcHBlbmRDaGlsZChjKX0sV2I6ZnVuY3Rpb24oYyxkLGUpe2U/KGU9ZS5uZXh0U2libGluZyxiKGMpJiYoYz1jLnBhcmVudE5vZGUpLGU/ZCE9PWUmJmMuaW5zZXJ0QmVmb3JlKGQsZSk6Yy5hcHBlbmRDaGlsZChkKSk6YS5oLlZjKGMsZCl9LGZpcnN0Q2hpbGQ6ZnVuY3Rpb24oYSl7aWYoYihhKSlyZXR1cm4hYS5uZXh0U2libGluZ3x8YyhhLm5leHRTaWJsaW5nKT9udWxsOmEubmV4dFNpYmxpbmc7aWYoYS5maXJzdENoaWxkJiZjKGEuZmlyc3RDaGlsZCkpdGhyb3cgRXJyb3IoXCJGb3VuZCBpbnZhbGlkIGVuZCBjb21tZW50LCBhcyB0aGUgZmlyc3QgY2hpbGQgb2YgXCIrXG5hKTtyZXR1cm4gYS5maXJzdENoaWxkfSxuZXh0U2libGluZzpmdW5jdGlvbihkKXtiKGQpJiYoZD1lKGQpKTtpZihkLm5leHRTaWJsaW5nJiZjKGQubmV4dFNpYmxpbmcpKXt2YXIgZj1kLm5leHRTaWJsaW5nO2lmKGMoZikmJiFhLmEuZy5nZXQoZixrKSl0aHJvdyBFcnJvcihcIkZvdW5kIGVuZCBjb21tZW50IHdpdGhvdXQgYSBtYXRjaGluZyBvcGVuaW5nIGNvbW1lbnQsIGFzIGNoaWxkIG9mIFwiK2QpO3JldHVybiBudWxsfXJldHVybiBkLm5leHRTaWJsaW5nfSxDZDpiLFZkOmZ1bmN0aW9uKGEpe3JldHVybihhPShmP2EudGV4dDphLm5vZGVWYWx1ZSkubWF0Y2goZykpP2FbMV06bnVsbH0sU2M6ZnVuY3Rpb24oZCl7aWYobVthLmEuUihkKV0pe3ZhciBmPWQuZmlyc3RDaGlsZDtpZihmKXtkbyBpZigxPT09Zi5ub2RlVHlwZSl7dmFyIGs7az1mLmZpcnN0Q2hpbGQ7dmFyIGg9bnVsbDtpZihrKXtkbyBpZihoKWgucHVzaChrKTtlbHNlIGlmKGIoaykpe3ZhciBnPWUoaywhMCk7Zz9rPVxuZzpoPVtrXX1lbHNlIGMoaykmJihoPVtrXSk7d2hpbGUoaz1rLm5leHRTaWJsaW5nKX1pZihrPWgpZm9yKGg9Zi5uZXh0U2libGluZyxnPTA7ZzxrLmxlbmd0aDtnKyspaD9kLmluc2VydEJlZm9yZShrW2ddLGgpOmQuYXBwZW5kQ2hpbGQoa1tnXSl9d2hpbGUoZj1mLm5leHRTaWJsaW5nKX19fX19KSgpO2EuYihcInZpcnR1YWxFbGVtZW50c1wiLGEuaCk7YS5iKFwidmlydHVhbEVsZW1lbnRzLmFsbG93ZWRCaW5kaW5nc1wiLGEuaC5lYSk7YS5iKFwidmlydHVhbEVsZW1lbnRzLmVtcHR5Tm9kZVwiLGEuaC5FYSk7YS5iKFwidmlydHVhbEVsZW1lbnRzLmluc2VydEFmdGVyXCIsYS5oLldiKTthLmIoXCJ2aXJ0dWFsRWxlbWVudHMucHJlcGVuZFwiLGEuaC5WYyk7YS5iKFwidmlydHVhbEVsZW1lbnRzLnNldERvbU5vZGVDaGlsZHJlblwiLGEuaC52YSk7KGZ1bmN0aW9uKCl7YS5nYT1mdW5jdGlvbigpe3RoaXMubmQ9e319O2EuYS5leHRlbmQoYS5nYS5wcm90b3R5cGUse25vZGVIYXNCaW5kaW5nczpmdW5jdGlvbihiKXtzd2l0Y2goYi5ub2RlVHlwZSl7Y2FzZSAxOnJldHVybiBudWxsIT1cbmIuZ2V0QXR0cmlidXRlKFwiZGF0YS1iaW5kXCIpfHxhLmouZ2V0Q29tcG9uZW50TmFtZUZvck5vZGUoYik7Y2FzZSA4OnJldHVybiBhLmguQ2QoYik7ZGVmYXVsdDpyZXR1cm4hMX19LGdldEJpbmRpbmdzOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy5nZXRCaW5kaW5nc1N0cmluZyhiLGMpLGQ9ZD90aGlzLnBhcnNlQmluZGluZ3NTdHJpbmcoZCxjLGIpOm51bGw7cmV0dXJuIGEuai50YyhkLGIsYywhMSl9LGdldEJpbmRpbmdBY2Nlc3NvcnM6ZnVuY3Rpb24oYixjKXt2YXIgZD10aGlzLmdldEJpbmRpbmdzU3RyaW5nKGIsYyksZD1kP3RoaXMucGFyc2VCaW5kaW5nc1N0cmluZyhkLGMsYix7dmFsdWVBY2Nlc3NvcnM6ITB9KTpudWxsO3JldHVybiBhLmoudGMoZCxiLGMsITApfSxnZXRCaW5kaW5nc1N0cmluZzpmdW5jdGlvbihiKXtzd2l0Y2goYi5ub2RlVHlwZSl7Y2FzZSAxOnJldHVybiBiLmdldEF0dHJpYnV0ZShcImRhdGEtYmluZFwiKTtjYXNlIDg6cmV0dXJuIGEuaC5WZChiKTtkZWZhdWx0OnJldHVybiBudWxsfX0sXG5wYXJzZUJpbmRpbmdzU3RyaW5nOmZ1bmN0aW9uKGIsYyxkLGUpe3RyeXt2YXIgZj10aGlzLm5kLGc9YisoZSYmZS52YWx1ZUFjY2Vzc29yc3x8XCJcIiksaDtpZighKGg9ZltnXSkpe3ZhciBtLGs9XCJ3aXRoKCRjb250ZXh0KXt3aXRoKCRkYXRhfHx7fSl7cmV0dXJue1wiK2EubS52YihiLGUpK1wifX19XCI7bT1uZXcgRnVuY3Rpb24oXCIkY29udGV4dFwiLFwiJGVsZW1lbnRcIixrKTtoPWZbZ109bX1yZXR1cm4gaChjLGQpfWNhdGNoKGwpe3Rocm93IGwubWVzc2FnZT1cIlVuYWJsZSB0byBwYXJzZSBiaW5kaW5ncy5cXG5CaW5kaW5ncyB2YWx1ZTogXCIrYitcIlxcbk1lc3NhZ2U6IFwiK2wubWVzc2FnZSxsO319fSk7YS5nYS5pbnN0YW5jZT1uZXcgYS5nYX0pKCk7YS5iKFwiYmluZGluZ1Byb3ZpZGVyXCIsYS5nYSk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiKXt2YXIgYz0oYj1hLmEuZy5nZXQoYix6KSkmJmIuTjtjJiYoYi5OPW51bGwsYy5UYygpKX1mdW5jdGlvbiBjKGMsZCxlKXt0aGlzLm5vZGU9Yzt0aGlzLnljPVxuZDt0aGlzLmtiPVtdO3RoaXMuSD0hMTtkLk58fGEuYS5LLnphKGMsYik7ZSYmZS5OJiYoZS5OLmtiLnB1c2goYyksdGhpcy5LYj1lKX1mdW5jdGlvbiBkKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhfX1mdW5jdGlvbiBlKGEpe3JldHVybiBhKCl9ZnVuY3Rpb24gZihiKXtyZXR1cm4gYS5hLkdhKGEudS5HKGIpLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGIoKVtjXX19KX1mdW5jdGlvbiBnKGIsYyxlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PT10eXBlb2YgYj9mKGIuYmluZChudWxsLGMsZSkpOmEuYS5HYShiLGQpfWZ1bmN0aW9uIGgoYSxiKXtyZXR1cm4gZih0aGlzLmdldEJpbmRpbmdzLmJpbmQodGhpcyxhLGIpKX1mdW5jdGlvbiBtKGIsYyl7dmFyIGQ9YS5oLmZpcnN0Q2hpbGQoYyk7aWYoZCl7dmFyIGUsZj1hLmdhLmluc3RhbmNlLGw9Zi5wcmVwcm9jZXNzTm9kZTtpZihsKXtmb3IoO2U9ZDspZD1hLmgubmV4dFNpYmxpbmcoZSksbC5jYWxsKGYsZSk7XG5kPWEuaC5maXJzdENoaWxkKGMpfWZvcig7ZT1kOylkPWEuaC5uZXh0U2libGluZyhlKSxrKGIsZSl9YS5pLm1hKGMsYS5pLkgpfWZ1bmN0aW9uIGsoYixjKXt2YXIgZD1iLGU9MT09PWMubm9kZVR5cGU7ZSYmYS5oLlNjKGMpO2lmKGV8fGEuZ2EuaW5zdGFuY2Uubm9kZUhhc0JpbmRpbmdzKGMpKWQ9cChjLG51bGwsYikuYmluZGluZ0NvbnRleHRGb3JEZXNjZW5kYW50cztkJiYhdVthLmEuUihjKV0mJm0oZCxjKX1mdW5jdGlvbiBsKGIpe3ZhciBjPVtdLGQ9e30sZT1bXTthLmEuUChiLGZ1bmN0aW9uIGNhKGYpe2lmKCFkW2ZdKXt2YXIgaz1hLmdldEJpbmRpbmdIYW5kbGVyKGYpO2smJihrLmFmdGVyJiYoZS5wdXNoKGYpLGEuYS5EKGsuYWZ0ZXIsZnVuY3Rpb24oYyl7aWYoYltjXSl7aWYoLTEhPT1hLmEuQShlLGMpKXRocm93IEVycm9yKFwiQ2Fubm90IGNvbWJpbmUgdGhlIGZvbGxvd2luZyBiaW5kaW5ncywgYmVjYXVzZSB0aGV5IGhhdmUgYSBjeWNsaWMgZGVwZW5kZW5jeTogXCIrZS5qb2luKFwiLCBcIikpO1xuY2EoYyl9fSksZS5sZW5ndGgtLSksYy5wdXNoKHtrZXk6ZixNYzprfSkpO2RbZl09ITB9fSk7cmV0dXJuIGN9ZnVuY3Rpb24gcChiLGMsZCl7dmFyIGY9YS5hLmcuVWIoYix6LHt9KSxrPWYuaGQ7aWYoIWMpe2lmKGspdGhyb3cgRXJyb3IoXCJZb3UgY2Fubm90IGFwcGx5IGJpbmRpbmdzIG11bHRpcGxlIHRpbWVzIHRvIHRoZSBzYW1lIGVsZW1lbnQuXCIpO2YuaGQ9ITB9a3x8KGYuY29udGV4dD1kKTtmLlpifHwoZi5aYj17fSk7dmFyIGc7aWYoYyYmXCJmdW5jdGlvblwiIT09dHlwZW9mIGMpZz1jO2Vsc2V7dmFyIHA9YS5nYS5pbnN0YW5jZSxxPXAuZ2V0QmluZGluZ0FjY2Vzc29yc3x8aCxtPWEuJChmdW5jdGlvbigpe2lmKGc9Yz9jKGQsYik6cS5jYWxsKHAsYixkKSl7aWYoZFt0XSlkW3RdKCk7aWYoZFtCXSlkW0JdKCl9cmV0dXJuIGd9LG51bGwse2w6Yn0pO2cmJm0uamEoKXx8KG09bnVsbCl9dmFyIHg9ZCx1O2lmKGcpe3ZhciBKPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYS5HYShtP20oKTpcbmcsZSl9LHI9bT9mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZShtKClbYV0pfX06ZnVuY3Rpb24oYSl7cmV0dXJuIGdbYV19O0ouZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiBnW2FdJiZlKHIoYSkpfTtKLmhhcz1mdW5jdGlvbihhKXtyZXR1cm4gYSBpbiBnfTthLmkuSCBpbiBnJiZhLmkuc3Vic2NyaWJlKGIsYS5pLkgsZnVuY3Rpb24oKXt2YXIgYz0oMCxnW2EuaS5IXSkoKTtpZihjKXt2YXIgZD1hLmguY2hpbGROb2RlcyhiKTtkLmxlbmd0aCYmYyhkLGEuRWMoZFswXSkpfX0pO2EuaS5wYSBpbiBnJiYoeD1hLmkuQ2IoYixkKSxhLmkuc3Vic2NyaWJlKGIsYS5pLnBhLGZ1bmN0aW9uKCl7dmFyIGM9KDAsZ1thLmkucGFdKSgpO2MmJmEuaC5maXJzdENoaWxkKGIpJiZjKGIpfSkpO2Y9bChnKTthLmEuRChmLGZ1bmN0aW9uKGMpe3ZhciBkPWMuTWMuaW5pdCxlPWMuTWMudXBkYXRlLGY9Yy5rZXk7aWYoOD09PWIubm9kZVR5cGUmJiFhLmguZWFbZl0pdGhyb3cgRXJyb3IoXCJUaGUgYmluZGluZyAnXCIrXG5mK1wiJyBjYW5ub3QgYmUgdXNlZCB3aXRoIHZpcnR1YWwgZWxlbWVudHNcIik7dHJ5e1wiZnVuY3Rpb25cIj09dHlwZW9mIGQmJmEudS5HKGZ1bmN0aW9uKCl7dmFyIGE9ZChiLHIoZiksSix4LiRkYXRhLHgpO2lmKGEmJmEuY29udHJvbHNEZXNjZW5kYW50QmluZGluZ3Mpe2lmKHUhPT1uKXRocm93IEVycm9yKFwiTXVsdGlwbGUgYmluZGluZ3MgKFwiK3UrXCIgYW5kIFwiK2YrXCIpIGFyZSB0cnlpbmcgdG8gY29udHJvbCBkZXNjZW5kYW50IGJpbmRpbmdzIG9mIHRoZSBzYW1lIGVsZW1lbnQuIFlvdSBjYW5ub3QgdXNlIHRoZXNlIGJpbmRpbmdzIHRvZ2V0aGVyIG9uIHRoZSBzYW1lIGVsZW1lbnQuXCIpO3U9Zn19KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZhLiQoZnVuY3Rpb24oKXtlKGIscihmKSxKLHguJGRhdGEseCl9LG51bGwse2w6Yn0pfWNhdGNoKGspe3Rocm93IGsubWVzc2FnZT0nVW5hYmxlIHRvIHByb2Nlc3MgYmluZGluZyBcIicrZitcIjogXCIrZ1tmXSsnXCJcXG5NZXNzYWdlOiAnK2subWVzc2FnZSxcbms7fX0pfWY9dT09PW47cmV0dXJue3Nob3VsZEJpbmREZXNjZW5kYW50czpmLGJpbmRpbmdDb250ZXh0Rm9yRGVzY2VuZGFudHM6ZiYmeH19ZnVuY3Rpb24gcShiLGMpe3JldHVybiBiJiZiIGluc3RhbmNlb2YgYS5mYT9iOm5ldyBhLmZhKGIsbixuLGMpfXZhciB0PWEuYS5EYShcIl9zdWJzY3JpYmFibGVcIikseD1hLmEuRGEoXCJfYW5jZXN0b3JCaW5kaW5nSW5mb1wiKSxCPWEuYS5EYShcIl9kYXRhRGVwZW5kZW5jeVwiKTthLmM9e307dmFyIHU9e3NjcmlwdDohMCx0ZXh0YXJlYTohMCx0ZW1wbGF0ZTohMH07YS5nZXRCaW5kaW5nSGFuZGxlcj1mdW5jdGlvbihiKXtyZXR1cm4gYS5jW2JdfTt2YXIgSj17fTthLmZhPWZ1bmN0aW9uKGIsYyxkLGUsZil7ZnVuY3Rpb24gaygpe3ZhciBiPXA/aCgpOmgsZj1hLmEuZihiKTtjPyhhLmEuZXh0ZW5kKGwsYykseCBpbiBjJiYobFt4XT1jW3hdKSk6KGwuJHBhcmVudHM9W10sbC4kcm9vdD1mLGwua289YSk7bFt0XT1xO2c/Zj1sLiRkYXRhOihsLiRyYXdEYXRhPVxuYixsLiRkYXRhPWYpO2QmJihsW2RdPWYpO2UmJmUobCxjLGYpO2lmKGMmJmNbdF0mJiFhLlMubygpLlZiKGNbdF0pKWNbdF0oKTttJiYobFtCXT1tKTtyZXR1cm4gbC4kZGF0YX12YXIgbD10aGlzLGc9Yj09PUosaD1nP246YixwPVwiZnVuY3Rpb25cIj09dHlwZW9mIGgmJiFhLk8oaCkscSxtPWYmJmYuZGF0YURlcGVuZGVuY3k7ZiYmZi5leHBvcnREZXBlbmRlbmNpZXM/aygpOihxPWEueGIoaykscS52KCkscS5qYSgpP3EuZXF1YWxpdHlDb21wYXJlcj1udWxsOmxbdF09bil9O2EuZmEucHJvdG90eXBlLmNyZWF0ZUNoaWxkQ29udGV4dD1mdW5jdGlvbihiLGMsZCxlKXshZSYmYyYmXCJvYmplY3RcIj09dHlwZW9mIGMmJihlPWMsYz1lLmFzLGQ9ZS5leHRlbmQpO2lmKGMmJmUmJmUubm9DaGlsZENvbnRleHQpe3ZhciBmPVwiZnVuY3Rpb25cIj09dHlwZW9mIGImJiFhLk8oYik7cmV0dXJuIG5ldyBhLmZhKEosdGhpcyxudWxsLGZ1bmN0aW9uKGEpe2QmJmQoYSk7YVtjXT1mP2IoKTpifSxlKX1yZXR1cm4gbmV3IGEuZmEoYixcbnRoaXMsYyxmdW5jdGlvbihhLGIpe2EuJHBhcmVudENvbnRleHQ9YjthLiRwYXJlbnQ9Yi4kZGF0YTthLiRwYXJlbnRzPShiLiRwYXJlbnRzfHxbXSkuc2xpY2UoMCk7YS4kcGFyZW50cy51bnNoaWZ0KGEuJHBhcmVudCk7ZCYmZChhKX0sZSl9O2EuZmEucHJvdG90eXBlLmV4dGVuZD1mdW5jdGlvbihiLGMpe3JldHVybiBuZXcgYS5mYShKLHRoaXMsbnVsbCxmdW5jdGlvbihjKXthLmEuZXh0ZW5kKGMsXCJmdW5jdGlvblwiPT10eXBlb2YgYj9iKGMpOmIpfSxjKX07dmFyIHo9YS5hLmcuWigpO2MucHJvdG90eXBlLlRjPWZ1bmN0aW9uKCl7dGhpcy5LYiYmdGhpcy5LYi5OJiZ0aGlzLktiLk4uc2QodGhpcy5ub2RlKX07Yy5wcm90b3R5cGUuc2Q9ZnVuY3Rpb24oYil7YS5hLlBhKHRoaXMua2IsYik7IXRoaXMua2IubGVuZ3RoJiZ0aGlzLkgmJnRoaXMuQ2MoKX07Yy5wcm90b3R5cGUuQ2M9ZnVuY3Rpb24oKXt0aGlzLkg9ITA7dGhpcy55Yy5OJiYhdGhpcy5rYi5sZW5ndGgmJih0aGlzLnljLk49XG5udWxsLGEuYS5LLnliKHRoaXMubm9kZSxiKSxhLmkubWEodGhpcy5ub2RlLGEuaS5wYSksdGhpcy5UYygpKX07YS5pPXtIOlwiY2hpbGRyZW5Db21wbGV0ZVwiLHBhOlwiZGVzY2VuZGFudHNDb21wbGV0ZVwiLHN1YnNjcmliZTpmdW5jdGlvbihiLGMsZCxlLGYpe3ZhciBrPWEuYS5nLlViKGIseix7fSk7ay5GYXx8KGsuRmE9bmV3IGEuVCk7ZiYmZi5ub3RpZnlJbW1lZGlhdGVseSYmay5aYltjXSYmYS51LkcoZCxlLFtiXSk7cmV0dXJuIGsuRmEuc3Vic2NyaWJlKGQsZSxjKX0sbWE6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuZy5nZXQoYix6KTtpZihkJiYoZC5aYltjXT0hMCxkLkZhJiZkLkZhLm5vdGlmeVN1YnNjcmliZXJzKGIsYyksYz09YS5pLkgpKWlmKGQuTilkLk4uQ2MoKTtlbHNlIGlmKGQuTj09PW4mJmQuRmEmJmQuRmEuV2EoYS5pLnBhKSl0aHJvdyBFcnJvcihcImRlc2NlbmRhbnRzQ29tcGxldGUgZXZlbnQgbm90IHN1cHBvcnRlZCBmb3IgYmluZGluZ3Mgb24gdGhpcyBub2RlXCIpO1xufSxDYjpmdW5jdGlvbihiLGQpe3ZhciBlPWEuYS5nLlViKGIseix7fSk7ZS5OfHwoZS5OPW5ldyBjKGIsZSxkW3hdKSk7cmV0dXJuIGRbeF09PWU/ZDpkLmV4dGVuZChmdW5jdGlvbihhKXthW3hdPWV9KX19O2EuVGQ9ZnVuY3Rpb24oYil7cmV0dXJuKGI9YS5hLmcuZ2V0KGIseikpJiZiLmNvbnRleHR9O2EuaWI9ZnVuY3Rpb24oYixjLGQpezE9PT1iLm5vZGVUeXBlJiZhLmguU2MoYik7cmV0dXJuIHAoYixjLHEoZCkpfTthLmxkPWZ1bmN0aW9uKGIsYyxkKXtkPXEoZCk7cmV0dXJuIGEuaWIoYixnKGMsZCxiKSxkKX07YS5PYT1mdW5jdGlvbihhLGIpezEhPT1iLm5vZGVUeXBlJiY4IT09Yi5ub2RlVHlwZXx8bShxKGEpLGIpfTthLnZjPWZ1bmN0aW9uKGEsYixjKXshdiYmQS5qUXVlcnkmJih2PUEualF1ZXJ5KTtpZigyPmFyZ3VtZW50cy5sZW5ndGgpe2lmKGI9dy5ib2R5LCFiKXRocm93IEVycm9yKFwia28uYXBwbHlCaW5kaW5nczogY291bGQgbm90IGZpbmQgZG9jdW1lbnQuYm9keTsgaGFzIHRoZSBkb2N1bWVudCBiZWVuIGxvYWRlZD9cIik7XG59ZWxzZSBpZighYnx8MSE9PWIubm9kZVR5cGUmJjghPT1iLm5vZGVUeXBlKXRocm93IEVycm9yKFwia28uYXBwbHlCaW5kaW5nczogZmlyc3QgcGFyYW1ldGVyIHNob3VsZCBiZSB5b3VyIHZpZXcgbW9kZWw7IHNlY29uZCBwYXJhbWV0ZXIgc2hvdWxkIGJlIGEgRE9NIG5vZGVcIik7ayhxKGEsYyksYil9O2EuRGM9ZnVuY3Rpb24oYil7cmV0dXJuIWJ8fDEhPT1iLm5vZGVUeXBlJiY4IT09Yi5ub2RlVHlwZT9uOmEuVGQoYil9O2EuRWM9ZnVuY3Rpb24oYil7cmV0dXJuKGI9YS5EYyhiKSk/Yi4kZGF0YTpufTthLmIoXCJiaW5kaW5nSGFuZGxlcnNcIixhLmMpO2EuYihcImJpbmRpbmdFdmVudFwiLGEuaSk7YS5iKFwiYmluZGluZ0V2ZW50LnN1YnNjcmliZVwiLGEuaS5zdWJzY3JpYmUpO2EuYihcImJpbmRpbmdFdmVudC5zdGFydFBvc3NpYmx5QXN5bmNDb250ZW50QmluZGluZ1wiLGEuaS5DYik7YS5iKFwiYXBwbHlCaW5kaW5nc1wiLGEudmMpO2EuYihcImFwcGx5QmluZGluZ3NUb0Rlc2NlbmRhbnRzXCIsYS5PYSk7XG5hLmIoXCJhcHBseUJpbmRpbmdBY2Nlc3NvcnNUb05vZGVcIixhLmliKTthLmIoXCJhcHBseUJpbmRpbmdzVG9Ob2RlXCIsYS5sZCk7YS5iKFwiY29udGV4dEZvclwiLGEuRGMpO2EuYihcImRhdGFGb3JcIixhLkVjKX0pKCk7KGZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoYyxlKXt2YXIgaz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZixjKT9mW2NdOmIsbDtrP2suc3Vic2NyaWJlKGUpOihrPWZbY109bmV3IGEuVCxrLnN1YnNjcmliZShlKSxkKGMsZnVuY3Rpb24oYixkKXt2YXIgZT0hKCFkfHwhZC5zeW5jaHJvbm91cyk7Z1tjXT17ZGVmaW5pdGlvbjpiLEdkOmV9O2RlbGV0ZSBmW2NdO2x8fGU/ay5ub3RpZnlTdWJzY3JpYmVycyhiKTphLm5hLnpiKGZ1bmN0aW9uKCl7ay5ub3RpZnlTdWJzY3JpYmVycyhiKX0pfSksbD0hMCl9ZnVuY3Rpb24gZChhLGIpe2UoXCJnZXRDb25maWdcIixbYV0sZnVuY3Rpb24oYyl7Yz9lKFwibG9hZENvbXBvbmVudFwiLFthLGNdLGZ1bmN0aW9uKGEpe2IoYSxcbmMpfSk6YihudWxsLG51bGwpfSl9ZnVuY3Rpb24gZShjLGQsZixsKXtsfHwobD1hLmoubG9hZGVycy5zbGljZSgwKSk7dmFyIGc9bC5zaGlmdCgpO2lmKGcpe3ZhciBxPWdbY107aWYocSl7dmFyIHQ9ITE7aWYocS5hcHBseShnLGQuY29uY2F0KGZ1bmN0aW9uKGEpe3Q/ZihudWxsKTpudWxsIT09YT9mKGEpOmUoYyxkLGYsbCl9KSkhPT1iJiYodD0hMCwhZy5zdXBwcmVzc0xvYWRlckV4Y2VwdGlvbnMpKXRocm93IEVycm9yKFwiQ29tcG9uZW50IGxvYWRlcnMgbXVzdCBzdXBwbHkgdmFsdWVzIGJ5IGludm9raW5nIHRoZSBjYWxsYmFjaywgbm90IGJ5IHJldHVybmluZyB2YWx1ZXMgc3luY2hyb25vdXNseS5cIik7fWVsc2UgZShjLGQsZixsKX1lbHNlIGYobnVsbCl9dmFyIGY9e30sZz17fTthLmo9e2dldDpmdW5jdGlvbihkLGUpe3ZhciBmPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChnLGQpP2dbZF06YjtmP2YuR2Q/YS51LkcoZnVuY3Rpb24oKXtlKGYuZGVmaW5pdGlvbil9KTpcbmEubmEuemIoZnVuY3Rpb24oKXtlKGYuZGVmaW5pdGlvbil9KTpjKGQsZSl9LEJjOmZ1bmN0aW9uKGEpe2RlbGV0ZSBnW2FdfSxvYzplfTthLmoubG9hZGVycz1bXTthLmIoXCJjb21wb25lbnRzXCIsYS5qKTthLmIoXCJjb21wb25lbnRzLmdldFwiLGEuai5nZXQpO2EuYihcImNvbXBvbmVudHMuY2xlYXJDYWNoZWREZWZpbml0aW9uXCIsYS5qLkJjKX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiLGMsZCxlKXtmdW5jdGlvbiBnKCl7MD09PS0tQiYmZShoKX12YXIgaD17fSxCPTIsdT1kLnRlbXBsYXRlO2Q9ZC52aWV3TW9kZWw7dT9mKGMsdSxmdW5jdGlvbihjKXthLmoub2MoXCJsb2FkVGVtcGxhdGVcIixbYixjXSxmdW5jdGlvbihhKXtoLnRlbXBsYXRlPWE7ZygpfSl9KTpnKCk7ZD9mKGMsZCxmdW5jdGlvbihjKXthLmoub2MoXCJsb2FkVmlld01vZGVsXCIsW2IsY10sZnVuY3Rpb24oYSl7aFttXT1hO2coKX0pfSk6ZygpfWZ1bmN0aW9uIGMoYSxiLGQpe2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBiKWQoZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBiKGEpfSk7XG5lbHNlIGlmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBiW21dKWQoYlttXSk7ZWxzZSBpZihcImluc3RhbmNlXCJpbiBiKXt2YXIgZT1iLmluc3RhbmNlO2QoZnVuY3Rpb24oKXtyZXR1cm4gZX0pfWVsc2VcInZpZXdNb2RlbFwiaW4gYj9jKGEsYi52aWV3TW9kZWwsZCk6YShcIlVua25vd24gdmlld01vZGVsIHZhbHVlOiBcIitiKX1mdW5jdGlvbiBkKGIpe3N3aXRjaChhLmEuUihiKSl7Y2FzZSBcInNjcmlwdFwiOnJldHVybiBhLmEudWEoYi50ZXh0KTtjYXNlIFwidGV4dGFyZWFcIjpyZXR1cm4gYS5hLnVhKGIudmFsdWUpO2Nhc2UgXCJ0ZW1wbGF0ZVwiOmlmKGUoYi5jb250ZW50KSlyZXR1cm4gYS5hLkNhKGIuY29udGVudC5jaGlsZE5vZGVzKX1yZXR1cm4gYS5hLkNhKGIuY2hpbGROb2Rlcyl9ZnVuY3Rpb24gZShhKXtyZXR1cm4gQS5Eb2N1bWVudEZyYWdtZW50P2EgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50OmEmJjExPT09YS5ub2RlVHlwZX1mdW5jdGlvbiBmKGEsYixjKXtcInN0cmluZ1wiPT09dHlwZW9mIGIucmVxdWlyZT9cblR8fEEucmVxdWlyZT8oVHx8QS5yZXF1aXJlKShbYi5yZXF1aXJlXSxmdW5jdGlvbihhKXthJiZcIm9iamVjdFwiPT09dHlwZW9mIGEmJmEuWGQmJmFbXCJkZWZhdWx0XCJdJiYoYT1hW1wiZGVmYXVsdFwiXSk7YyhhKX0pOmEoXCJVc2VzIHJlcXVpcmUsIGJ1dCBubyBBTUQgbG9hZGVyIGlzIHByZXNlbnRcIik6YyhiKX1mdW5jdGlvbiBnKGEpe3JldHVybiBmdW5jdGlvbihiKXt0aHJvdyBFcnJvcihcIkNvbXBvbmVudCAnXCIrYStcIic6IFwiK2IpO319dmFyIGg9e307YS5qLnJlZ2lzdGVyPWZ1bmN0aW9uKGIsYyl7aWYoIWMpdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGNvbmZpZ3VyYXRpb24gZm9yIFwiK2IpO2lmKGEuai50YihiKSl0aHJvdyBFcnJvcihcIkNvbXBvbmVudCBcIitiK1wiIGlzIGFscmVhZHkgcmVnaXN0ZXJlZFwiKTtoW2JdPWN9O2Euai50Yj1mdW5jdGlvbihhKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGgsYSl9O2Euai51bnJlZ2lzdGVyPWZ1bmN0aW9uKGIpe2RlbGV0ZSBoW2JdO1xuYS5qLkJjKGIpfTthLmouRmM9e2dldENvbmZpZzpmdW5jdGlvbihiLGMpe2MoYS5qLnRiKGIpP2hbYl06bnVsbCl9LGxvYWRDb21wb25lbnQ6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPWcoYSk7ZihlLGMsZnVuY3Rpb24oYyl7YihhLGUsYyxkKX0pfSxsb2FkVGVtcGxhdGU6ZnVuY3Rpb24oYixjLGYpe2I9ZyhiKTtpZihcInN0cmluZ1wiPT09dHlwZW9mIGMpZihhLmEudWEoYykpO2Vsc2UgaWYoYyBpbnN0YW5jZW9mIEFycmF5KWYoYyk7ZWxzZSBpZihlKGMpKWYoYS5hLmxhKGMuY2hpbGROb2RlcykpO2Vsc2UgaWYoYy5lbGVtZW50KWlmKGM9Yy5lbGVtZW50LEEuSFRNTEVsZW1lbnQ/YyBpbnN0YW5jZW9mIEhUTUxFbGVtZW50OmMmJmMudGFnTmFtZSYmMT09PWMubm9kZVR5cGUpZihkKGMpKTtlbHNlIGlmKFwic3RyaW5nXCI9PT10eXBlb2YgYyl7dmFyIGg9dy5nZXRFbGVtZW50QnlJZChjKTtoP2YoZChoKSk6YihcIkNhbm5vdCBmaW5kIGVsZW1lbnQgd2l0aCBJRCBcIitjKX1lbHNlIGIoXCJVbmtub3duIGVsZW1lbnQgdHlwZTogXCIrXG5jKTtlbHNlIGIoXCJVbmtub3duIHRlbXBsYXRlIHZhbHVlOiBcIitjKX0sbG9hZFZpZXdNb2RlbDpmdW5jdGlvbihhLGIsZCl7YyhnKGEpLGIsZCl9fTt2YXIgbT1cImNyZWF0ZVZpZXdNb2RlbFwiO2EuYihcImNvbXBvbmVudHMucmVnaXN0ZXJcIixhLmoucmVnaXN0ZXIpO2EuYihcImNvbXBvbmVudHMuaXNSZWdpc3RlcmVkXCIsYS5qLnRiKTthLmIoXCJjb21wb25lbnRzLnVucmVnaXN0ZXJcIixhLmoudW5yZWdpc3Rlcik7YS5iKFwiY29tcG9uZW50cy5kZWZhdWx0TG9hZGVyXCIsYS5qLkZjKTthLmoubG9hZGVycy5wdXNoKGEuai5GYyk7YS5qLmRkPWh9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYixlKXt2YXIgZj1iLmdldEF0dHJpYnV0ZShcInBhcmFtc1wiKTtpZihmKXt2YXIgZj1jLnBhcnNlQmluZGluZ3NTdHJpbmcoZixlLGIse3ZhbHVlQWNjZXNzb3JzOiEwLGJpbmRpbmdQYXJhbXM6ITB9KSxmPWEuYS5HYShmLGZ1bmN0aW9uKGMpe3JldHVybiBhLm8oYyxudWxsLHtsOmJ9KX0pLGc9YS5hLkdhKGYsXG5mdW5jdGlvbihjKXt2YXIgZT1jLnYoKTtyZXR1cm4gYy5qYSgpP2Eubyh7cmVhZDpmdW5jdGlvbigpe3JldHVybiBhLmEuZihjKCkpfSx3cml0ZTphLlphKGUpJiZmdW5jdGlvbihhKXtjKCkoYSl9LGw6Yn0pOmV9KTtPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZyxcIiRyYXdcIil8fChnLiRyYXc9Zik7cmV0dXJuIGd9cmV0dXJueyRyYXc6e319fWEuai5nZXRDb21wb25lbnROYW1lRm9yTm9kZT1mdW5jdGlvbihiKXt2YXIgYz1hLmEuUihiKTtpZihhLmoudGIoYykmJigtMSE9Yy5pbmRleE9mKFwiLVwiKXx8XCJbb2JqZWN0IEhUTUxVbmtub3duRWxlbWVudF1cIj09XCJcIitifHw4Pj1hLmEuVyYmYi50YWdOYW1lPT09YykpcmV0dXJuIGN9O2Euai50Yz1mdW5jdGlvbihjLGUsZixnKXtpZigxPT09ZS5ub2RlVHlwZSl7dmFyIGg9YS5qLmdldENvbXBvbmVudE5hbWVGb3JOb2RlKGUpO2lmKGgpe2M9Y3x8e307aWYoYy5jb21wb25lbnQpdGhyb3cgRXJyb3IoJ0Nhbm5vdCB1c2UgdGhlIFwiY29tcG9uZW50XCIgYmluZGluZyBvbiBhIGN1c3RvbSBlbGVtZW50IG1hdGNoaW5nIGEgY29tcG9uZW50Jyk7XG52YXIgbT17bmFtZTpoLHBhcmFtczpiKGUsZil9O2MuY29tcG9uZW50PWc/ZnVuY3Rpb24oKXtyZXR1cm4gbX06bX19cmV0dXJuIGN9O3ZhciBjPW5ldyBhLmdhOzk+YS5hLlcmJihhLmoucmVnaXN0ZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KGEuai5yZWdpc3Rlciksdy5jcmVhdGVEb2N1bWVudEZyYWdtZW50PWZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBjPWIoKSxmPWEuai5kZCxnO2ZvcihnIGluIGYpO3JldHVybiBjfX0ody5jcmVhdGVEb2N1bWVudEZyYWdtZW50KSl9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYixjLGQpe2M9Yy50ZW1wbGF0ZTtpZighYyl0aHJvdyBFcnJvcihcIkNvbXBvbmVudCAnXCIrYitcIicgaGFzIG5vIHRlbXBsYXRlXCIpO2I9YS5hLkNhKGMpO2EuaC52YShkLGIpfWZ1bmN0aW9uIGMoYSxiLGMpe3ZhciBkPWEuY3JlYXRlVmlld01vZGVsO3JldHVybiBkP2QuY2FsbChhLFxuYixjKTpifXZhciBkPTA7YS5jLmNvbXBvbmVudD17aW5pdDpmdW5jdGlvbihlLGYsZyxoLG0pe2Z1bmN0aW9uIGsoKXt2YXIgYT1sJiZsLmRpc3Bvc2U7XCJmdW5jdGlvblwiPT09dHlwZW9mIGEmJmEuY2FsbChsKTtxJiZxLnMoKTtwPWw9cT1udWxsfXZhciBsLHAscSx0PWEuYS5sYShhLmguY2hpbGROb2RlcyhlKSk7YS5oLkVhKGUpO2EuYS5LLnphKGUsayk7YS5vKGZ1bmN0aW9uKCl7dmFyIGc9YS5hLmYoZigpKSxoLHU7XCJzdHJpbmdcIj09PXR5cGVvZiBnP2g9ZzooaD1hLmEuZihnLm5hbWUpLHU9YS5hLmYoZy5wYXJhbXMpKTtpZighaCl0aHJvdyBFcnJvcihcIk5vIGNvbXBvbmVudCBuYW1lIHNwZWNpZmllZFwiKTt2YXIgbj1hLmkuQ2IoZSxtKSx6PXA9KytkO2Euai5nZXQoaCxmdW5jdGlvbihkKXtpZihwPT09eil7aygpO2lmKCFkKXRocm93IEVycm9yKFwiVW5rbm93biBjb21wb25lbnQgJ1wiK2grXCInXCIpO2IoaCxkLGUpO3ZhciBmPWMoZCx1LHtlbGVtZW50OmUsdGVtcGxhdGVOb2Rlczp0fSk7XG5kPW4uY3JlYXRlQ2hpbGRDb250ZXh0KGYse2V4dGVuZDpmdW5jdGlvbihhKXthLiRjb21wb25lbnQ9ZjthLiRjb21wb25lbnRUZW1wbGF0ZU5vZGVzPXR9fSk7ZiYmZi5rb0Rlc2NlbmRhbnRzQ29tcGxldGUmJihxPWEuaS5zdWJzY3JpYmUoZSxhLmkucGEsZi5rb0Rlc2NlbmRhbnRzQ29tcGxldGUsZikpO2w9ZjthLk9hKGQsZSl9fSl9LG51bGwse2w6ZX0pO3JldHVybntjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczohMH19fTthLmguZWEuY29tcG9uZW50PSEwfSkoKTt2YXIgVj17XCJjbGFzc1wiOlwiY2xhc3NOYW1lXCIsXCJmb3JcIjpcImh0bWxGb3JcIn07YS5jLmF0dHI9e3VwZGF0ZTpmdW5jdGlvbihiLGMpe3ZhciBkPWEuYS5mKGMoKSl8fHt9O2EuYS5QKGQsZnVuY3Rpb24oYyxkKXtkPWEuYS5mKGQpO3ZhciBnPWMuaW5kZXhPZihcIjpcIiksZz1cImxvb2t1cE5hbWVzcGFjZVVSSVwiaW4gYiYmMDxnJiZiLmxvb2t1cE5hbWVzcGFjZVVSSShjLnN1YnN0cigwLGcpKSxoPSExPT09ZHx8bnVsbD09PVxuZHx8ZD09PW47aD9nP2IucmVtb3ZlQXR0cmlidXRlTlMoZyxjKTpiLnJlbW92ZUF0dHJpYnV0ZShjKTpkPWQudG9TdHJpbmcoKTs4Pj1hLmEuVyYmYyBpbiBWPyhjPVZbY10saD9iLnJlbW92ZUF0dHJpYnV0ZShjKTpiW2NdPWQpOmh8fChnP2Iuc2V0QXR0cmlidXRlTlMoZyxjLGQpOmIuc2V0QXR0cmlidXRlKGMsZCkpO1wibmFtZVwiPT09YyYmYS5hLlljKGIsaD9cIlwiOmQpfSl9fTsoZnVuY3Rpb24oKXthLmMuY2hlY2tlZD17YWZ0ZXI6W1widmFsdWVcIixcImF0dHJcIl0saW5pdDpmdW5jdGlvbihiLGMsZCl7ZnVuY3Rpb24gZSgpe3ZhciBlPWIuY2hlY2tlZCxmPWcoKTtpZighYS5TLllhKCkmJihlfHwhbSYmIWEuUy5xYSgpKSl7dmFyIGs9YS51LkcoYyk7aWYobCl7dmFyIHE9cD9rLnYoKTprLHo9dDt0PWY7eiE9PWY/ZSYmKGEuYS5OYShxLGYsITApLGEuYS5OYShxLHosITEpKTphLmEuTmEocSxmLGUpO3AmJmEuWmEoaykmJmsocSl9ZWxzZSBoJiYoZj09PW4/Zj1lOmV8fChmPW4pKSxhLm0uZWIoayxcbmQsXCJjaGVja2VkXCIsZiwhMCl9fWZ1bmN0aW9uIGYoKXt2YXIgZD1hLmEuZihjKCkpLGU9ZygpO2w/KGIuY2hlY2tlZD0wPD1hLmEuQShkLGUpLHQ9ZSk6Yi5jaGVja2VkPWgmJmU9PT1uPyEhZDpnKCk9PT1kfXZhciBnPWEueGIoZnVuY3Rpb24oKXtpZihkLmhhcyhcImNoZWNrZWRWYWx1ZVwiKSlyZXR1cm4gYS5hLmYoZC5nZXQoXCJjaGVja2VkVmFsdWVcIikpO2lmKHEpcmV0dXJuIGQuaGFzKFwidmFsdWVcIik/YS5hLmYoZC5nZXQoXCJ2YWx1ZVwiKSk6Yi52YWx1ZX0pLGg9XCJjaGVja2JveFwiPT1iLnR5cGUsbT1cInJhZGlvXCI9PWIudHlwZTtpZihofHxtKXt2YXIgaz1jKCksbD1oJiZhLmEuZihrKWluc3RhbmNlb2YgQXJyYXkscD0hKGwmJmsucHVzaCYmay5zcGxpY2UpLHE9bXx8bCx0PWw/ZygpOm47bSYmIWIubmFtZSYmYS5jLnVuaXF1ZU5hbWUuaW5pdChiLGZ1bmN0aW9uKCl7cmV0dXJuITB9KTthLm8oZSxudWxsLHtsOmJ9KTthLmEuQihiLFwiY2xpY2tcIixlKTthLm8oZixudWxsLHtsOmJ9KTtcbms9bn19fTthLm0ud2EuY2hlY2tlZD0hMDthLmMuY2hlY2tlZFZhbHVlPXt1cGRhdGU6ZnVuY3Rpb24oYixjKXtiLnZhbHVlPWEuYS5mKGMoKSl9fX0pKCk7YS5jW1wiY2xhc3NcIl09e3VwZGF0ZTpmdW5jdGlvbihiLGMpe3ZhciBkPWEuYS5EYihhLmEuZihjKCkpKTthLmEuRWIoYixiLl9fa29fX2Nzc1ZhbHVlLCExKTtiLl9fa29fX2Nzc1ZhbHVlPWQ7YS5hLkViKGIsZCwhMCl9fTthLmMuY3NzPXt1cGRhdGU6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuZihjKCkpO251bGwhPT1kJiZcIm9iamVjdFwiPT10eXBlb2YgZD9hLmEuUChkLGZ1bmN0aW9uKGMsZCl7ZD1hLmEuZihkKTthLmEuRWIoYixjLGQpfSk6YS5jW1wiY2xhc3NcIl0udXBkYXRlKGIsYyl9fTthLmMuZW5hYmxlPXt1cGRhdGU6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuZihjKCkpO2QmJmIuZGlzYWJsZWQ/Yi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTpkfHxiLmRpc2FibGVkfHwoYi5kaXNhYmxlZD0hMCl9fTthLmMuZGlzYWJsZT1cbnt1cGRhdGU6ZnVuY3Rpb24oYixjKXthLmMuZW5hYmxlLnVwZGF0ZShiLGZ1bmN0aW9uKCl7cmV0dXJuIWEuYS5mKGMoKSl9KX19O2EuYy5ldmVudD17aW5pdDpmdW5jdGlvbihiLGMsZCxlLGYpe3ZhciBnPWMoKXx8e307YS5hLlAoZyxmdW5jdGlvbihnKXtcInN0cmluZ1wiPT10eXBlb2YgZyYmYS5hLkIoYixnLGZ1bmN0aW9uKGIpe3ZhciBrLGw9YygpW2ddO2lmKGwpe3RyeXt2YXIgcD1hLmEubGEoYXJndW1lbnRzKTtlPWYuJGRhdGE7cC51bnNoaWZ0KGUpO2s9bC5hcHBseShlLHApfWZpbmFsbHl7ITAhPT1rJiYoYi5wcmV2ZW50RGVmYXVsdD9iLnByZXZlbnREZWZhdWx0KCk6Yi5yZXR1cm5WYWx1ZT0hMSl9ITE9PT1kLmdldChnK1wiQnViYmxlXCIpJiYoYi5jYW5jZWxCdWJibGU9ITAsYi5zdG9wUHJvcGFnYXRpb24mJmIuc3RvcFByb3BhZ2F0aW9uKCkpfX0pfSl9fTthLmMuZm9yZWFjaD17UmM6ZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9YigpLGQ9YS5hLmJjKGMpO1xuaWYoIWR8fFwibnVtYmVyXCI9PXR5cGVvZiBkLmxlbmd0aClyZXR1cm57Zm9yZWFjaDpjLHRlbXBsYXRlRW5naW5lOmEuYmEuTWF9O2EuYS5mKGMpO3JldHVybntmb3JlYWNoOmQuZGF0YSxhczpkLmFzLG5vQ2hpbGRDb250ZXh0OmQubm9DaGlsZENvbnRleHQsaW5jbHVkZURlc3Ryb3llZDpkLmluY2x1ZGVEZXN0cm95ZWQsYWZ0ZXJBZGQ6ZC5hZnRlckFkZCxiZWZvcmVSZW1vdmU6ZC5iZWZvcmVSZW1vdmUsYWZ0ZXJSZW5kZXI6ZC5hZnRlclJlbmRlcixiZWZvcmVNb3ZlOmQuYmVmb3JlTW92ZSxhZnRlck1vdmU6ZC5hZnRlck1vdmUsdGVtcGxhdGVFbmdpbmU6YS5iYS5NYX19fSxpbml0OmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuYy50ZW1wbGF0ZS5pbml0KGIsYS5jLmZvcmVhY2guUmMoYykpfSx1cGRhdGU6ZnVuY3Rpb24oYixjLGQsZSxmKXtyZXR1cm4gYS5jLnRlbXBsYXRlLnVwZGF0ZShiLGEuYy5mb3JlYWNoLlJjKGMpLGQsZSxmKX19O2EubS5SYS5mb3JlYWNoPSExO2EuaC5lYS5mb3JlYWNoPVxuITA7YS5jLmhhc2ZvY3VzPXtpbml0OmZ1bmN0aW9uKGIsYyxkKXtmdW5jdGlvbiBlKGUpe2IuX19rb19oYXNmb2N1c1VwZGF0aW5nPSEwO3ZhciBmPWIub3duZXJEb2N1bWVudDtpZihcImFjdGl2ZUVsZW1lbnRcImluIGYpe3ZhciBnO3RyeXtnPWYuYWN0aXZlRWxlbWVudH1jYXRjaChsKXtnPWYuYm9keX1lPWc9PT1ifWY9YygpO2EubS5lYihmLGQsXCJoYXNmb2N1c1wiLGUsITApO2IuX19rb19oYXNmb2N1c0xhc3RWYWx1ZT1lO2IuX19rb19oYXNmb2N1c1VwZGF0aW5nPSExfXZhciBmPWUuYmluZChudWxsLCEwKSxnPWUuYmluZChudWxsLCExKTthLmEuQihiLFwiZm9jdXNcIixmKTthLmEuQihiLFwiZm9jdXNpblwiLGYpO2EuYS5CKGIsXCJibHVyXCIsZyk7YS5hLkIoYixcImZvY3Vzb3V0XCIsZyk7Yi5fX2tvX2hhc2ZvY3VzTGFzdFZhbHVlPSExfSx1cGRhdGU6ZnVuY3Rpb24oYixjKXt2YXIgZD0hIWEuYS5mKGMoKSk7Yi5fX2tvX2hhc2ZvY3VzVXBkYXRpbmd8fGIuX19rb19oYXNmb2N1c0xhc3RWYWx1ZT09PVxuZHx8KGQ/Yi5mb2N1cygpOmIuYmx1cigpLCFkJiZiLl9fa29faGFzZm9jdXNMYXN0VmFsdWUmJmIub3duZXJEb2N1bWVudC5ib2R5LmZvY3VzKCksYS51LkcoYS5hLkZiLG51bGwsW2IsZD9cImZvY3VzaW5cIjpcImZvY3Vzb3V0XCJdKSl9fTthLm0ud2EuaGFzZm9jdXM9ITA7YS5jLmhhc0ZvY3VzPWEuYy5oYXNmb2N1czthLm0ud2EuaGFzRm9jdXM9XCJoYXNmb2N1c1wiO2EuYy5odG1sPXtpbml0OmZ1bmN0aW9uKCl7cmV0dXJue2NvbnRyb2xzRGVzY2VuZGFudEJpbmRpbmdzOiEwfX0sdXBkYXRlOmZ1bmN0aW9uKGIsYyl7YS5hLmZjKGIsYygpKX19OyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYixkLGUpe2EuY1tiXT17aW5pdDpmdW5jdGlvbihiLGMsaCxtLGspe3ZhciBsLHAscT17fSx0LHgsbjtpZihkKXttPWguZ2V0KFwiYXNcIik7dmFyIHU9aC5nZXQoXCJub0NoaWxkQ29udGV4dFwiKTtuPSEobSYmdSk7cT17YXM6bSxub0NoaWxkQ29udGV4dDp1LGV4cG9ydERlcGVuZGVuY2llczpufX14PSh0PVxuXCJyZW5kZXJcIj09aC5nZXQoXCJjb21wbGV0ZU9uXCIpKXx8aC5oYXMoYS5pLnBhKTthLm8oZnVuY3Rpb24oKXt2YXIgaD1hLmEuZihjKCkpLG09IWUhPT0haCx1PSFwLHI7aWYobnx8bSE9PWwpe3gmJihrPWEuaS5DYihiLGspKTtpZihtKXtpZighZHx8bilxLmRhdGFEZXBlbmRlbmN5PWEuUy5vKCk7cj1kP2suY3JlYXRlQ2hpbGRDb250ZXh0KFwiZnVuY3Rpb25cIj09dHlwZW9mIGg/aDpjLHEpOmEuUy5xYSgpP2suZXh0ZW5kKG51bGwscSk6a311JiZhLlMucWEoKSYmKHA9YS5hLkNhKGEuaC5jaGlsZE5vZGVzKGIpLCEwKSk7bT8odXx8YS5oLnZhKGIsYS5hLkNhKHApKSxhLk9hKHIsYikpOihhLmguRWEoYiksdHx8YS5pLm1hKGIsYS5pLkgpKTtsPW19fSxudWxsLHtsOmJ9KTtyZXR1cm57Y29udHJvbHNEZXNjZW5kYW50QmluZGluZ3M6ITB9fX07YS5tLlJhW2JdPSExO2EuaC5lYVtiXT0hMH1iKFwiaWZcIik7YihcImlmbm90XCIsITEsITApO2IoXCJ3aXRoXCIsITApfSkoKTthLmMubGV0PXtpbml0OmZ1bmN0aW9uKGIsXG5jLGQsZSxmKXtjPWYuZXh0ZW5kKGMpO2EuT2EoYyxiKTtyZXR1cm57Y29udHJvbHNEZXNjZW5kYW50QmluZGluZ3M6ITB9fX07YS5oLmVhLmxldD0hMDt2YXIgUT17fTthLmMub3B0aW9ucz17aW5pdDpmdW5jdGlvbihiKXtpZihcInNlbGVjdFwiIT09YS5hLlIoYikpdGhyb3cgRXJyb3IoXCJvcHRpb25zIGJpbmRpbmcgYXBwbGllcyBvbmx5IHRvIFNFTEVDVCBlbGVtZW50c1wiKTtmb3IoOzA8Yi5sZW5ndGg7KWIucmVtb3ZlKDApO3JldHVybntjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczohMH19LHVwZGF0ZTpmdW5jdGlvbihiLGMsZCl7ZnVuY3Rpb24gZSgpe3JldHVybiBhLmEuamIoYi5vcHRpb25zLGZ1bmN0aW9uKGEpe3JldHVybiBhLnNlbGVjdGVkfSl9ZnVuY3Rpb24gZihhLGIsYyl7dmFyIGQ9dHlwZW9mIGI7cmV0dXJuXCJmdW5jdGlvblwiPT1kP2IoYSk6XCJzdHJpbmdcIj09ZD9hW2JdOmN9ZnVuY3Rpb24gZyhjLGQpe2lmKHgmJmwpYS5pLm1hKGIsYS5pLkgpO2Vsc2UgaWYodC5sZW5ndGgpe3ZhciBlPVxuMDw9YS5hLkEodCxhLncuTShkWzBdKSk7YS5hLlpjKGRbMF0sZSk7eCYmIWUmJmEudS5HKGEuYS5GYixudWxsLFtiLFwiY2hhbmdlXCJdKX19dmFyIGg9Yi5tdWx0aXBsZSxtPTAhPWIubGVuZ3RoJiZoP2Iuc2Nyb2xsVG9wOm51bGwsaz1hLmEuZihjKCkpLGw9ZC5nZXQoXCJ2YWx1ZUFsbG93VW5zZXRcIikmJmQuaGFzKFwidmFsdWVcIikscD1kLmdldChcIm9wdGlvbnNJbmNsdWRlRGVzdHJveWVkXCIpO2M9e307dmFyIHEsdD1bXTtsfHwoaD90PWEuYS5NYihlKCksYS53Lk0pOjA8PWIuc2VsZWN0ZWRJbmRleCYmdC5wdXNoKGEudy5NKGIub3B0aW9uc1tiLnNlbGVjdGVkSW5kZXhdKSkpO2smJihcInVuZGVmaW5lZFwiPT10eXBlb2Ygay5sZW5ndGgmJihrPVtrXSkscT1hLmEuamIoayxmdW5jdGlvbihiKXtyZXR1cm4gcHx8Yj09PW58fG51bGw9PT1ifHwhYS5hLmYoYi5fZGVzdHJveSl9KSxkLmhhcyhcIm9wdGlvbnNDYXB0aW9uXCIpJiYoaz1hLmEuZihkLmdldChcIm9wdGlvbnNDYXB0aW9uXCIpKSxudWxsIT09XG5rJiZrIT09biYmcS51bnNoaWZ0KFEpKSk7dmFyIHg9ITE7Yy5iZWZvcmVSZW1vdmU9ZnVuY3Rpb24oYSl7Yi5yZW1vdmVDaGlsZChhKX07az1nO2QuaGFzKFwib3B0aW9uc0FmdGVyUmVuZGVyXCIpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBkLmdldChcIm9wdGlvbnNBZnRlclJlbmRlclwiKSYmKGs9ZnVuY3Rpb24oYixjKXtnKDAsYyk7YS51LkcoZC5nZXQoXCJvcHRpb25zQWZ0ZXJSZW5kZXJcIiksbnVsbCxbY1swXSxiIT09UT9iOm5dKX0pO2EuYS5lYyhiLHEsZnVuY3Rpb24oYyxlLGcpe2cubGVuZ3RoJiYodD0hbCYmZ1swXS5zZWxlY3RlZD9bYS53Lk0oZ1swXSldOltdLHg9ITApO2U9Yi5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7Yz09PVE/KGEuYS5CYihlLGQuZ2V0KFwib3B0aW9uc0NhcHRpb25cIikpLGEudy5jYihlLG4pKTooZz1mKGMsZC5nZXQoXCJvcHRpb25zVmFsdWVcIiksYyksYS53LmNiKGUsYS5hLmYoZykpLGM9ZihjLGQuZ2V0KFwib3B0aW9uc1RleHRcIiksZyksXG5hLmEuQmIoZSxjKSk7cmV0dXJuW2VdfSxjLGspO2lmKCFsKXt2YXIgQjtoP0I9dC5sZW5ndGgmJmUoKS5sZW5ndGg8dC5sZW5ndGg6Qj10Lmxlbmd0aCYmMDw9Yi5zZWxlY3RlZEluZGV4P2Eudy5NKGIub3B0aW9uc1tiLnNlbGVjdGVkSW5kZXhdKSE9PXRbMF06dC5sZW5ndGh8fDA8PWIuc2VsZWN0ZWRJbmRleDtCJiZhLnUuRyhhLmEuRmIsbnVsbCxbYixcImNoYW5nZVwiXSl9KGx8fGEuUy5ZYSgpKSYmYS5pLm1hKGIsYS5pLkgpO2EuYS53ZChiKTttJiYyMDxNYXRoLmFicyhtLWIuc2Nyb2xsVG9wKSYmKGIuc2Nyb2xsVG9wPW0pfX07YS5jLm9wdGlvbnMuJGI9YS5hLmcuWigpO2EuYy5zZWxlY3RlZE9wdGlvbnM9e2luaXQ6ZnVuY3Rpb24oYixjLGQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1jKCksZj1bXTthLmEuRChiLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwib3B0aW9uXCIpLGZ1bmN0aW9uKGIpe2Iuc2VsZWN0ZWQmJmYucHVzaChhLncuTShiKSl9KTthLm0uZWIoZSxkLFwic2VsZWN0ZWRPcHRpb25zXCIsXG5mKX1mdW5jdGlvbiBmKCl7dmFyIGQ9YS5hLmYoYygpKSxlPWIuc2Nyb2xsVG9wO2QmJlwibnVtYmVyXCI9PXR5cGVvZiBkLmxlbmd0aCYmYS5hLkQoYi5nZXRFbGVtZW50c0J5VGFnTmFtZShcIm9wdGlvblwiKSxmdW5jdGlvbihiKXt2YXIgYz0wPD1hLmEuQShkLGEudy5NKGIpKTtiLnNlbGVjdGVkIT1jJiZhLmEuWmMoYixjKX0pO2Iuc2Nyb2xsVG9wPWV9aWYoXCJzZWxlY3RcIiE9YS5hLlIoYikpdGhyb3cgRXJyb3IoXCJzZWxlY3RlZE9wdGlvbnMgYmluZGluZyBhcHBsaWVzIG9ubHkgdG8gU0VMRUNUIGVsZW1lbnRzXCIpO3ZhciBnO2EuaS5zdWJzY3JpYmUoYixhLmkuSCxmdW5jdGlvbigpe2c/ZSgpOihhLmEuQihiLFwiY2hhbmdlXCIsZSksZz1hLm8oZixudWxsLHtsOmJ9KSl9LG51bGwse25vdGlmeUltbWVkaWF0ZWx5OiEwfSl9LHVwZGF0ZTpmdW5jdGlvbigpe319O2EubS53YS5zZWxlY3RlZE9wdGlvbnM9ITA7YS5jLnN0eWxlPXt1cGRhdGU6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuZihjKCl8fFxue30pO2EuYS5QKGQsZnVuY3Rpb24oYyxkKXtkPWEuYS5mKGQpO2lmKG51bGw9PT1kfHxkPT09bnx8ITE9PT1kKWQ9XCJcIjtpZih2KXYoYikuY3NzKGMsZCk7ZWxzZSBpZigvXi0tLy50ZXN0KGMpKWIuc3R5bGUuc2V0UHJvcGVydHkoYyxkKTtlbHNle2M9Yy5yZXBsYWNlKC8tKFxcdykvZyxmdW5jdGlvbihhLGIpe3JldHVybiBiLnRvVXBwZXJDYXNlKCl9KTt2YXIgZz1iLnN0eWxlW2NdO2Iuc3R5bGVbY109ZDtkPT09Z3x8Yi5zdHlsZVtjXSE9Z3x8aXNOYU4oZCl8fChiLnN0eWxlW2NdPWQrXCJweFwiKX19KX19O2EuYy5zdWJtaXQ9e2luaXQ6ZnVuY3Rpb24oYixjLGQsZSxmKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBjKCkpdGhyb3cgRXJyb3IoXCJUaGUgdmFsdWUgZm9yIGEgc3VibWl0IGJpbmRpbmcgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO2EuYS5CKGIsXCJzdWJtaXRcIixmdW5jdGlvbihhKXt2YXIgZCxlPWMoKTt0cnl7ZD1lLmNhbGwoZi4kZGF0YSxiKX1maW5hbGx5eyEwIT09ZCYmKGEucHJldmVudERlZmF1bHQ/XG5hLnByZXZlbnREZWZhdWx0KCk6YS5yZXR1cm5WYWx1ZT0hMSl9fSl9fTthLmMudGV4dD17aW5pdDpmdW5jdGlvbigpe3JldHVybntjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczohMH19LHVwZGF0ZTpmdW5jdGlvbihiLGMpe2EuYS5CYihiLGMoKSl9fTthLmguZWEudGV4dD0hMDsoZnVuY3Rpb24oKXtpZihBJiZBLm5hdmlnYXRvcil7dmFyIGI9ZnVuY3Rpb24oYSl7aWYoYSlyZXR1cm4gcGFyc2VGbG9hdChhWzFdKX0sYz1BLm5hdmlnYXRvci51c2VyQWdlbnQsZCxlLGYsZyxoOyhkPUEub3BlcmEmJkEub3BlcmEudmVyc2lvbiYmcGFyc2VJbnQoQS5vcGVyYS52ZXJzaW9uKCkpKXx8KGg9YihjLm1hdGNoKC9FZGdlXFwvKFteIF0rKSQvKSkpfHxiKGMubWF0Y2goL0Nocm9tZVxcLyhbXiBdKykvKSl8fChlPWIoYy5tYXRjaCgvVmVyc2lvblxcLyhbXiBdKykgU2FmYXJpLykpKXx8KGY9YihjLm1hdGNoKC9GaXJlZm94XFwvKFteIF0rKS8pKSl8fChnPWEuYS5XfHxiKGMubWF0Y2goL01TSUUgKFteIF0rKS8pKSl8fFxuKGc9YihjLm1hdGNoKC9ydjooW14gKV0rKS8pKSl9aWYoODw9ZyYmMTA+Zyl2YXIgbT1hLmEuZy5aKCksaz1hLmEuZy5aKCksbD1mdW5jdGlvbihiKXt2YXIgYz10aGlzLmFjdGl2ZUVsZW1lbnQ7KGM9YyYmYS5hLmcuZ2V0KGMsaykpJiZjKGIpfSxwPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yi5vd25lckRvY3VtZW50O2EuYS5nLmdldChkLG0pfHwoYS5hLmcuc2V0KGQsbSwhMCksYS5hLkIoZCxcInNlbGVjdGlvbmNoYW5nZVwiLGwpKTthLmEuZy5zZXQoYixrLGMpfTthLmMudGV4dElucHV0PXtpbml0OmZ1bmN0aW9uKGIsYyxrKXtmdW5jdGlvbiBsKGMsZCl7YS5hLkIoYixjLGQpfWZ1bmN0aW9uIG0oKXt2YXIgZD1hLmEuZihjKCkpO2lmKG51bGw9PT1kfHxkPT09bilkPVwiXCI7TCE9PW4mJmQ9PT1MP2EuYS5zZXRUaW1lb3V0KG0sNCk6Yi52YWx1ZSE9PWQmJih5PSEwLGIudmFsdWU9ZCx5PSExLHY9Yi52YWx1ZSl9ZnVuY3Rpb24gcigpe3d8fChMPWIudmFsdWUsdz1hLmEuc2V0VGltZW91dCh6LFxuNCkpfWZ1bmN0aW9uIHooKXtjbGVhclRpbWVvdXQodyk7TD13PW47dmFyIGQ9Yi52YWx1ZTt2IT09ZCYmKHY9ZCxhLm0uZWIoYygpLGssXCJ0ZXh0SW5wdXRcIixkKSl9dmFyIHY9Yi52YWx1ZSx3LEwsQT05PT1hLmEuVz9yOnoseT0hMTtnJiZsKFwia2V5cHJlc3NcIix6KTsxMT5nJiZsKFwicHJvcGVydHljaGFuZ2VcIixmdW5jdGlvbihhKXt5fHxcInZhbHVlXCIhPT1hLnByb3BlcnR5TmFtZXx8QShhKX0pOzg9PWcmJihsKFwia2V5dXBcIix6KSxsKFwia2V5ZG93blwiLHopKTtwJiYocChiLEEpLGwoXCJkcmFnZW5kXCIscikpOyghZ3x8OTw9ZykmJmwoXCJpbnB1dFwiLEEpOzU+ZSYmXCJ0ZXh0YXJlYVwiPT09YS5hLlIoYik/KGwoXCJrZXlkb3duXCIsciksbChcInBhc3RlXCIsciksbChcImN1dFwiLHIpKToxMT5kP2woXCJrZXlkb3duXCIscik6ND5mPyhsKFwiRE9NQXV0b0NvbXBsZXRlXCIseiksbChcImRyYWdkcm9wXCIseiksbChcImRyb3BcIix6KSk6aCYmXCJudW1iZXJcIj09PWIudHlwZSYmbChcImtleWRvd25cIixyKTtsKFwiY2hhbmdlXCIsXG56KTtsKFwiYmx1clwiLHopO2EubyhtLG51bGwse2w6Yn0pfX07YS5tLndhLnRleHRJbnB1dD0hMDthLmMudGV4dGlucHV0PXtwcmVwcm9jZXNzOmZ1bmN0aW9uKGEsYixjKXtjKFwidGV4dElucHV0XCIsYSl9fX0pKCk7YS5jLnVuaXF1ZU5hbWU9e2luaXQ6ZnVuY3Rpb24oYixjKXtpZihjKCkpe3ZhciBkPVwia29fdW5pcXVlX1wiKyArK2EuYy51bmlxdWVOYW1lLnJkO2EuYS5ZYyhiLGQpfX19O2EuYy51bmlxdWVOYW1lLnJkPTA7YS5jLnVzaW5nPXtpbml0OmZ1bmN0aW9uKGIsYyxkLGUsZil7dmFyIGc7ZC5oYXMoXCJhc1wiKSYmKGc9e2FzOmQuZ2V0KFwiYXNcIiksbm9DaGlsZENvbnRleHQ6ZC5nZXQoXCJub0NoaWxkQ29udGV4dFwiKX0pO2M9Zi5jcmVhdGVDaGlsZENvbnRleHQoYyxnKTthLk9hKGMsYik7cmV0dXJue2NvbnRyb2xzRGVzY2VuZGFudEJpbmRpbmdzOiEwfX19O2EuaC5lYS51c2luZz0hMDthLmMudmFsdWU9e2luaXQ6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEuYS5SKGIpLGY9XCJpbnB1dFwiPT1cbmU7aWYoIWZ8fFwiY2hlY2tib3hcIiE9Yi50eXBlJiZcInJhZGlvXCIhPWIudHlwZSl7dmFyIGc9W10saD1kLmdldChcInZhbHVlVXBkYXRlXCIpLG09ITEsaz1udWxsO2gmJihcInN0cmluZ1wiPT10eXBlb2YgaD9nPVtoXTpnPWEuYS53YyhoKSxhLmEuUGEoZyxcImNoYW5nZVwiKSk7dmFyIGw9ZnVuY3Rpb24oKXtrPW51bGw7bT0hMTt2YXIgZT1jKCksZj1hLncuTShiKTthLm0uZWIoZSxkLFwidmFsdWVcIixmKX07IWEuYS5XfHwhZnx8XCJ0ZXh0XCIhPWIudHlwZXx8XCJvZmZcIj09Yi5hdXRvY29tcGxldGV8fGIuZm9ybSYmXCJvZmZcIj09Yi5mb3JtLmF1dG9jb21wbGV0ZXx8LTEhPWEuYS5BKGcsXCJwcm9wZXJ0eWNoYW5nZVwiKXx8KGEuYS5CKGIsXCJwcm9wZXJ0eWNoYW5nZVwiLGZ1bmN0aW9uKCl7bT0hMH0pLGEuYS5CKGIsXCJmb2N1c1wiLGZ1bmN0aW9uKCl7bT0hMX0pLGEuYS5CKGIsXCJibHVyXCIsZnVuY3Rpb24oKXttJiZsKCl9KSk7YS5hLkQoZyxmdW5jdGlvbihjKXt2YXIgZD1sO2EuYS5VZChjLFwiYWZ0ZXJcIikmJlxuKGQ9ZnVuY3Rpb24oKXtrPWEudy5NKGIpO2EuYS5zZXRUaW1lb3V0KGwsMCl9LGM9Yy5zdWJzdHJpbmcoNSkpO2EuYS5CKGIsYyxkKX0pO3ZhciBwO3A9ZiYmXCJmaWxlXCI9PWIudHlwZT9mdW5jdGlvbigpe3ZhciBkPWEuYS5mKGMoKSk7bnVsbD09PWR8fGQ9PT1ufHxcIlwiPT09ZD9iLnZhbHVlPVwiXCI6YS51LkcobCl9OmZ1bmN0aW9uKCl7dmFyIGY9YS5hLmYoYygpKSxnPWEudy5NKGIpO2lmKG51bGwhPT1rJiZmPT09aylhLmEuc2V0VGltZW91dChwLDApO2Vsc2UgaWYoZiE9PWd8fGc9PT1uKVwic2VsZWN0XCI9PT1lPyhnPWQuZ2V0KFwidmFsdWVBbGxvd1Vuc2V0XCIpLGEudy5jYihiLGYsZyksZ3x8Zj09PWEudy5NKGIpfHxhLnUuRyhsKSk6YS53LmNiKGIsZil9O2lmKFwic2VsZWN0XCI9PT1lKXt2YXIgcTthLmkuc3Vic2NyaWJlKGIsYS5pLkgsZnVuY3Rpb24oKXtxP2QuZ2V0KFwidmFsdWVBbGxvd1Vuc2V0XCIpP3AoKTpsKCk6KGEuYS5CKGIsXCJjaGFuZ2VcIixsKSxxPWEubyhwLG51bGwse2w6Yn0pKX0sXG5udWxsLHtub3RpZnlJbW1lZGlhdGVseTohMH0pfWVsc2UgYS5hLkIoYixcImNoYW5nZVwiLGwpLGEubyhwLG51bGwse2w6Yn0pfWVsc2UgYS5pYihiLHtjaGVja2VkVmFsdWU6Y30pfSx1cGRhdGU6ZnVuY3Rpb24oKXt9fTthLm0ud2EudmFsdWU9ITA7YS5jLnZpc2libGU9e3VwZGF0ZTpmdW5jdGlvbihiLGMpe3ZhciBkPWEuYS5mKGMoKSksZT1cIm5vbmVcIiE9Yi5zdHlsZS5kaXNwbGF5O2QmJiFlP2Iuc3R5bGUuZGlzcGxheT1cIlwiOiFkJiZlJiYoYi5zdHlsZS5kaXNwbGF5PVwibm9uZVwiKX19O2EuYy5oaWRkZW49e3VwZGF0ZTpmdW5jdGlvbihiLGMpe2EuYy52aXNpYmxlLnVwZGF0ZShiLGZ1bmN0aW9uKCl7cmV0dXJuIWEuYS5mKGMoKSl9KX19OyhmdW5jdGlvbihiKXthLmNbYl09e2luaXQ6ZnVuY3Rpb24oYyxkLGUsZixnKXtyZXR1cm4gYS5jLmV2ZW50LmluaXQuY2FsbCh0aGlzLGMsZnVuY3Rpb24oKXt2YXIgYT17fTthW2JdPWQoKTtyZXR1cm4gYX0sZSxmLGcpfX19KShcImNsaWNrXCIpO1xuYS5jYT1mdW5jdGlvbigpe307YS5jYS5wcm90b3R5cGUucmVuZGVyVGVtcGxhdGVTb3VyY2U9ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcihcIk92ZXJyaWRlIHJlbmRlclRlbXBsYXRlU291cmNlXCIpO307YS5jYS5wcm90b3R5cGUuY3JlYXRlSmF2YVNjcmlwdEV2YWx1YXRvckJsb2NrPWZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoXCJPdmVycmlkZSBjcmVhdGVKYXZhU2NyaXB0RXZhbHVhdG9yQmxvY2tcIik7fTthLmNhLnByb3RvdHlwZS5tYWtlVGVtcGxhdGVTb3VyY2U9ZnVuY3Rpb24oYixjKXtpZihcInN0cmluZ1wiPT10eXBlb2YgYil7Yz1jfHx3O3ZhciBkPWMuZ2V0RWxlbWVudEJ5SWQoYik7aWYoIWQpdGhyb3cgRXJyb3IoXCJDYW5ub3QgZmluZCB0ZW1wbGF0ZSB3aXRoIElEIFwiK2IpO3JldHVybiBuZXcgYS5DLkYoZCl9aWYoMT09Yi5ub2RlVHlwZXx8OD09Yi5ub2RlVHlwZSlyZXR1cm4gbmV3IGEuQy5pYShiKTt0aHJvdyBFcnJvcihcIlVua25vd24gdGVtcGxhdGUgdHlwZTogXCIrYik7fTthLmNhLnByb3RvdHlwZS5yZW5kZXJUZW1wbGF0ZT1cbmZ1bmN0aW9uKGEsYyxkLGUpe2E9dGhpcy5tYWtlVGVtcGxhdGVTb3VyY2UoYSxlKTtyZXR1cm4gdGhpcy5yZW5kZXJUZW1wbGF0ZVNvdXJjZShhLGMsZCxlKX07YS5jYS5wcm90b3R5cGUuaXNUZW1wbGF0ZVJld3JpdHRlbj1mdW5jdGlvbihhLGMpe3JldHVybiExPT09dGhpcy5hbGxvd1RlbXBsYXRlUmV3cml0aW5nPyEwOnRoaXMubWFrZVRlbXBsYXRlU291cmNlKGEsYykuZGF0YShcImlzUmV3cml0dGVuXCIpfTthLmNhLnByb3RvdHlwZS5yZXdyaXRlVGVtcGxhdGU9ZnVuY3Rpb24oYSxjLGQpe2E9dGhpcy5tYWtlVGVtcGxhdGVTb3VyY2UoYSxkKTtjPWMoYS50ZXh0KCkpO2EudGV4dChjKTthLmRhdGEoXCJpc1Jld3JpdHRlblwiLCEwKX07YS5iKFwidGVtcGxhdGVFbmdpbmVcIixhLmNhKTthLmtjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiLGMsZCxoKXtiPWEubS5hYyhiKTtmb3IodmFyIG09YS5tLlJhLGs9MDtrPGIubGVuZ3RoO2srKyl7dmFyIGw9YltrXS5rZXk7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG0sXG5sKSl7dmFyIHA9bVtsXTtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgcCl7aWYobD1wKGJba10udmFsdWUpKXRocm93IEVycm9yKGwpO31lbHNlIGlmKCFwKXRocm93IEVycm9yKFwiVGhpcyB0ZW1wbGF0ZSBlbmdpbmUgZG9lcyBub3Qgc3VwcG9ydCB0aGUgJ1wiK2wrXCInIGJpbmRpbmcgd2l0aGluIGl0cyB0ZW1wbGF0ZXNcIik7fX1kPVwia28uX190cl9hbWJ0bnMoZnVuY3Rpb24oJGNvbnRleHQsJGVsZW1lbnQpe3JldHVybihmdW5jdGlvbigpe3JldHVybnsgXCIrYS5tLnZiKGIse3ZhbHVlQWNjZXNzb3JzOiEwfSkrXCIgfSB9KSgpfSwnXCIrZC50b0xvd2VyQ2FzZSgpK1wiJylcIjtyZXR1cm4gaC5jcmVhdGVKYXZhU2NyaXB0RXZhbHVhdG9yQmxvY2soZCkrY312YXIgYz0vKDwoW2Etel0rXFxkKikoPzpcXHMrKD8hZGF0YS1iaW5kXFxzKj1cXHMqKVthLXowLTlcXC1dKyg/Oj0oPzpcXFwiW15cXFwiXSpcXFwifFxcJ1teXFwnXSpcXCd8W14+XSopKT8pKlxccyspZGF0YS1iaW5kXFxzKj1cXHMqKFtcIiddKShbXFxzXFxTXSo/KVxcMy9naSxcbmQ9L1xceDNjIS0tXFxzKmtvXFxiXFxzKihbXFxzXFxTXSo/KVxccyotLVxceDNlL2c7cmV0dXJue3hkOmZ1bmN0aW9uKGIsYyxkKXtjLmlzVGVtcGxhdGVSZXdyaXR0ZW4oYixkKXx8Yy5yZXdyaXRlVGVtcGxhdGUoYixmdW5jdGlvbihiKXtyZXR1cm4gYS5rYy5MZChiLGMpfSxkKX0sTGQ6ZnVuY3Rpb24oYSxmKXtyZXR1cm4gYS5yZXBsYWNlKGMsZnVuY3Rpb24oYSxjLGQsZSxsKXtyZXR1cm4gYihsLGMsZCxmKX0pLnJlcGxhY2UoZCxmdW5jdGlvbihhLGMpe3JldHVybiBiKGMsXCJcXHgzYyEtLSBrbyAtLVxceDNlXCIsXCIjY29tbWVudFwiLGYpfSl9LG1kOmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuYWEuWGIoZnVuY3Rpb24oZCxoKXt2YXIgbT1kLm5leHRTaWJsaW5nO20mJm0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWMmJmEuaWIobSxiLGgpfSl9fX0oKTthLmIoXCJfX3RyX2FtYnRuc1wiLGEua2MubWQpOyhmdW5jdGlvbigpe2EuQz17fTthLkMuRj1mdW5jdGlvbihiKXtpZih0aGlzLkY9Yil7dmFyIGM9XG5hLmEuUihiKTt0aGlzLmFiPVwic2NyaXB0XCI9PT1jPzE6XCJ0ZXh0YXJlYVwiPT09Yz8yOlwidGVtcGxhdGVcIj09YyYmYi5jb250ZW50JiYxMT09PWIuY29udGVudC5ub2RlVHlwZT8zOjR9fTthLkMuRi5wcm90b3R5cGUudGV4dD1mdW5jdGlvbigpe3ZhciBiPTE9PT10aGlzLmFiP1widGV4dFwiOjI9PT10aGlzLmFiP1widmFsdWVcIjpcImlubmVySFRNTFwiO2lmKDA9PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuRltiXTt2YXIgYz1hcmd1bWVudHNbMF07XCJpbm5lckhUTUxcIj09PWI/YS5hLmZjKHRoaXMuRixjKTp0aGlzLkZbYl09Y307dmFyIGI9YS5hLmcuWigpK1wiX1wiO2EuQy5GLnByb3RvdHlwZS5kYXRhPWZ1bmN0aW9uKGMpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBhLmEuZy5nZXQodGhpcy5GLGIrYyk7YS5hLmcuc2V0KHRoaXMuRixiK2MsYXJndW1lbnRzWzFdKX07dmFyIGM9YS5hLmcuWigpO2EuQy5GLnByb3RvdHlwZS5ub2Rlcz1mdW5jdGlvbigpe3ZhciBiPXRoaXMuRjtcbmlmKDA9PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWEuYS5nLmdldChiLGMpfHx7fSxmPWUubGJ8fCgzPT09dGhpcy5hYj9iLmNvbnRlbnQ6ND09PXRoaXMuYWI/YjpuKTtpZighZnx8ZS5qZCl7dmFyIGc9dGhpcy50ZXh0KCk7ZyYmZyE9PWUuYmImJihmPWEuYS5NZChnLGIub3duZXJEb2N1bWVudCksYS5hLmcuc2V0KGIsYyx7bGI6ZixiYjpnLGpkOiEwfSkpfXJldHVybiBmfWU9YXJndW1lbnRzWzBdO3RoaXMuYWIhPT1uJiZ0aGlzLnRleHQoXCJcIik7YS5hLmcuc2V0KGIsYyx7bGI6ZX0pfTthLkMuaWE9ZnVuY3Rpb24oYSl7dGhpcy5GPWF9O2EuQy5pYS5wcm90b3R5cGU9bmV3IGEuQy5GO2EuQy5pYS5wcm90b3R5cGUuY29uc3RydWN0b3I9YS5DLmlhO2EuQy5pYS5wcm90b3R5cGUudGV4dD1mdW5jdGlvbigpe2lmKDA9PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBiPWEuYS5nLmdldCh0aGlzLkYsYyl8fHt9O2IuYmI9PT1uJiZiLmxiJiYoYi5iYj1iLmxiLmlubmVySFRNTCk7cmV0dXJuIGIuYmJ9YS5hLmcuc2V0KHRoaXMuRixcbmMse2JiOmFyZ3VtZW50c1swXX0pfTthLmIoXCJ0ZW1wbGF0ZVNvdXJjZXNcIixhLkMpO2EuYihcInRlbXBsYXRlU291cmNlcy5kb21FbGVtZW50XCIsYS5DLkYpO2EuYihcInRlbXBsYXRlU291cmNlcy5hbm9ueW1vdXNUZW1wbGF0ZVwiLGEuQy5pYSl9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYixjLGQpe3ZhciBlO2ZvcihjPWEuaC5uZXh0U2libGluZyhjKTtiJiYoZT1iKSE9PWM7KWI9YS5oLm5leHRTaWJsaW5nKGUpLGQoZSxiKX1mdW5jdGlvbiBjKGMsZCl7aWYoYy5sZW5ndGgpe3ZhciBlPWNbMF0sZj1jW2MubGVuZ3RoLTFdLGc9ZS5wYXJlbnROb2RlLGg9YS5nYS5pbnN0YW5jZSxtPWgucHJlcHJvY2Vzc05vZGU7aWYobSl7YihlLGYsZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnByZXZpb3VzU2libGluZyxkPW0uY2FsbChoLGEpO2QmJihhPT09ZSYmKGU9ZFswXXx8YiksYT09PWYmJihmPWRbZC5sZW5ndGgtMV18fGMpKX0pO2MubGVuZ3RoPTA7aWYoIWUpcmV0dXJuO2U9PT1mP2MucHVzaChlKTpcbihjLnB1c2goZSxmKSxhLmEuVWEoYyxnKSl9YihlLGYsZnVuY3Rpb24oYil7MSE9PWIubm9kZVR5cGUmJjghPT1iLm5vZGVUeXBlfHxhLnZjKGQsYil9KTtiKGUsZixmdW5jdGlvbihiKXsxIT09Yi5ub2RlVHlwZSYmOCE9PWIubm9kZVR5cGV8fGEuYWEuY2QoYixbZF0pfSk7YS5hLlVhKGMsZyl9fWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGEubm9kZVR5cGU/YTowPGEubGVuZ3RoP2FbMF06bnVsbH1mdW5jdGlvbiBlKGIsZSxmLGgsbSl7bT1tfHx7fTt2YXIgbj0oYiYmZChiKXx8Znx8e30pLm93bmVyRG9jdW1lbnQsQj1tLnRlbXBsYXRlRW5naW5lfHxnO2Eua2MueGQoZixCLG4pO2Y9Qi5yZW5kZXJUZW1wbGF0ZShmLGgsbSxuKTtpZihcIm51bWJlclwiIT10eXBlb2YgZi5sZW5ndGh8fDA8Zi5sZW5ndGgmJlwibnVtYmVyXCIhPXR5cGVvZiBmWzBdLm5vZGVUeXBlKXRocm93IEVycm9yKFwiVGVtcGxhdGUgZW5naW5lIG11c3QgcmV0dXJuIGFuIGFycmF5IG9mIERPTSBub2Rlc1wiKTtuPSExO3N3aXRjaChlKXtjYXNlIFwicmVwbGFjZUNoaWxkcmVuXCI6YS5oLnZhKGIsXG5mKTtuPSEwO2JyZWFrO2Nhc2UgXCJyZXBsYWNlTm9kZVwiOmEuYS5YYyhiLGYpO249ITA7YnJlYWs7Y2FzZSBcImlnbm9yZVRhcmdldE5vZGVcIjpicmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiVW5rbm93biByZW5kZXJNb2RlOiBcIitlKTt9biYmKGMoZixoKSxtLmFmdGVyUmVuZGVyJiZhLnUuRyhtLmFmdGVyUmVuZGVyLG51bGwsW2YsaFttLmFzfHxcIiRkYXRhXCJdXSksXCJyZXBsYWNlQ2hpbGRyZW5cIj09ZSYmYS5pLm1hKGIsYS5pLkgpKTtyZXR1cm4gZn1mdW5jdGlvbiBmKGIsYyxkKXtyZXR1cm4gYS5PKGIpP2IoKTpcImZ1bmN0aW9uXCI9PT10eXBlb2YgYj9iKGMsZCk6Yn12YXIgZzthLmdjPWZ1bmN0aW9uKGIpe2lmKGIhPW4mJiEoYiBpbnN0YW5jZW9mIGEuY2EpKXRocm93IEVycm9yKFwidGVtcGxhdGVFbmdpbmUgbXVzdCBpbmhlcml0IGZyb20ga28udGVtcGxhdGVFbmdpbmVcIik7Zz1ifTthLmRjPWZ1bmN0aW9uKGIsYyxoLG0sdCl7aD1ofHx7fTtpZigoaC50ZW1wbGF0ZUVuZ2luZXx8Zyk9PVxubil0aHJvdyBFcnJvcihcIlNldCBhIHRlbXBsYXRlIGVuZ2luZSBiZWZvcmUgY2FsbGluZyByZW5kZXJUZW1wbGF0ZVwiKTt0PXR8fFwicmVwbGFjZUNoaWxkcmVuXCI7aWYobSl7dmFyIHg9ZChtKTtyZXR1cm4gYS4kKGZ1bmN0aW9uKCl7dmFyIGc9YyYmYyBpbnN0YW5jZW9mIGEuZmE/YzpuZXcgYS5mYShjLG51bGwsbnVsbCxudWxsLHtleHBvcnREZXBlbmRlbmNpZXM6ITB9KSxuPWYoYixnLiRkYXRhLGcpLGc9ZShtLHQsbixnLGgpO1wicmVwbGFjZU5vZGVcIj09dCYmKG09Zyx4PWQobSkpfSxudWxsLHtTYTpmdW5jdGlvbigpe3JldHVybiF4fHwhYS5hLlNiKHgpfSxsOngmJlwicmVwbGFjZU5vZGVcIj09dD94LnBhcmVudE5vZGU6eH0pfXJldHVybiBhLmFhLlhiKGZ1bmN0aW9uKGQpe2EuZGMoYixjLGgsZCxcInJlcGxhY2VOb2RlXCIpfSl9O2EuUWQ9ZnVuY3Rpb24oYixkLGcsaCxtKXtmdW5jdGlvbiB4KGIsYyl7YS51LkcoYS5hLmVjLG51bGwsW2gsYix1LGcscixjXSk7YS5pLm1hKGgsYS5pLkgpfVxuZnVuY3Rpb24gcihhLGIpe2MoYix2KTtnLmFmdGVyUmVuZGVyJiZnLmFmdGVyUmVuZGVyKGIsYSk7dj1udWxsfWZ1bmN0aW9uIHUoYSxjKXt2PW0uY3JlYXRlQ2hpbGRDb250ZXh0KGEse2FzOnosbm9DaGlsZENvbnRleHQ6Zy5ub0NoaWxkQ29udGV4dCxleHRlbmQ6ZnVuY3Rpb24oYSl7YS4kaW5kZXg9Yzt6JiYoYVt6K1wiSW5kZXhcIl09Yyl9fSk7dmFyIGQ9ZihiLGEsdik7cmV0dXJuIGUoaCxcImlnbm9yZVRhcmdldE5vZGVcIixkLHYsZyl9dmFyIHYsej1nLmFzLHc9ITE9PT1nLmluY2x1ZGVEZXN0cm95ZWR8fGEub3B0aW9ucy5mb3JlYWNoSGlkZXNEZXN0cm95ZWQmJiFnLmluY2x1ZGVEZXN0cm95ZWQ7aWYod3x8Zy5iZWZvcmVSZW1vdmV8fCFhLlBjKGQpKXJldHVybiBhLiQoZnVuY3Rpb24oKXt2YXIgYj1hLmEuZihkKXx8W107XCJ1bmRlZmluZWRcIj09dHlwZW9mIGIubGVuZ3RoJiYoYj1bYl0pO3cmJihiPWEuYS5qYihiLGZ1bmN0aW9uKGIpe3JldHVybiBiPT09bnx8bnVsbD09PWJ8fFxuIWEuYS5mKGIuX2Rlc3Ryb3kpfSkpO3goYil9LG51bGwse2w6aH0pO3goZC52KCkpO3ZhciBBPWQuc3Vic2NyaWJlKGZ1bmN0aW9uKGEpe3goZCgpLGEpfSxudWxsLFwiYXJyYXlDaGFuZ2VcIik7QS5sKGgpO3JldHVybiBBfTt2YXIgaD1hLmEuZy5aKCksbT1hLmEuZy5aKCk7YS5jLnRlbXBsYXRlPXtpbml0OmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLmYoYygpKTtpZihcInN0cmluZ1wiPT10eXBlb2YgZHx8XCJuYW1lXCJpbiBkKWEuaC5FYShiKTtlbHNlIGlmKFwibm9kZXNcImluIGQpe2Q9ZC5ub2Rlc3x8W107aWYoYS5PKGQpKXRocm93IEVycm9yKCdUaGUgXCJub2Rlc1wiIG9wdGlvbiBtdXN0IGJlIGEgcGxhaW4sIG5vbi1vYnNlcnZhYmxlIGFycmF5LicpO3ZhciBlPWRbMF0mJmRbMF0ucGFyZW50Tm9kZTtlJiZhLmEuZy5nZXQoZSxtKXx8KGU9YS5hLlliKGQpLGEuYS5nLnNldChlLG0sITApKTsobmV3IGEuQy5pYShiKSkubm9kZXMoZSl9ZWxzZSBpZihkPWEuaC5jaGlsZE5vZGVzKGIpLDA8ZC5sZW5ndGgpZT1cbmEuYS5ZYihkKSwobmV3IGEuQy5pYShiKSkubm9kZXMoZSk7ZWxzZSB0aHJvdyBFcnJvcihcIkFub255bW91cyB0ZW1wbGF0ZSBkZWZpbmVkLCBidXQgbm8gdGVtcGxhdGUgY29udGVudCB3YXMgcHJvdmlkZWRcIik7cmV0dXJue2NvbnRyb2xzRGVzY2VuZGFudEJpbmRpbmdzOiEwfX0sdXBkYXRlOmZ1bmN0aW9uKGIsYyxkLGUsZil7dmFyIGc9YygpO2M9YS5hLmYoZyk7ZD0hMDtlPW51bGw7XCJzdHJpbmdcIj09dHlwZW9mIGM/Yz17fTooZz1cIm5hbWVcImluIGM/Yy5uYW1lOmIsXCJpZlwiaW4gYyYmKGQ9YS5hLmYoY1tcImlmXCJdKSksZCYmXCJpZm5vdFwiaW4gYyYmKGQ9IWEuYS5mKGMuaWZub3QpKSxkJiYhZyYmKGQ9ITEpKTtcImZvcmVhY2hcImluIGM/ZT1hLlFkKGcsZCYmYy5mb3JlYWNofHxbXSxjLGIsZik6ZD8oZD1mLFwiZGF0YVwiaW4gYyYmKGQ9Zi5jcmVhdGVDaGlsZENvbnRleHQoYy5kYXRhLHthczpjLmFzLG5vQ2hpbGRDb250ZXh0OmMubm9DaGlsZENvbnRleHQsZXhwb3J0RGVwZW5kZW5jaWVzOiEwfSkpLFxuZT1hLmRjKGcsZCxjLGIpKTphLmguRWEoYik7Zj1lOyhjPWEuYS5nLmdldChiLGgpKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYy5zJiZjLnMoKTthLmEuZy5zZXQoYixoLCFmfHxmLmphJiYhZi5qYSgpP246Zil9fTthLm0uUmEudGVtcGxhdGU9ZnVuY3Rpb24oYil7Yj1hLm0uYWMoYik7cmV0dXJuIDE9PWIubGVuZ3RoJiZiWzBdLnVua25vd258fGEubS5JZChiLFwibmFtZVwiKT9udWxsOlwiVGhpcyB0ZW1wbGF0ZSBlbmdpbmUgZG9lcyBub3Qgc3VwcG9ydCBhbm9ueW1vdXMgdGVtcGxhdGVzIG5lc3RlZCB3aXRoaW4gaXRzIHRlbXBsYXRlc1wifTthLmguZWEudGVtcGxhdGU9ITB9KSgpO2EuYihcInNldFRlbXBsYXRlRW5naW5lXCIsYS5nYyk7YS5iKFwicmVuZGVyVGVtcGxhdGVcIixhLmRjKTthLmEuS2M9ZnVuY3Rpb24oYSxjLGQpe2lmKGEubGVuZ3RoJiZjLmxlbmd0aCl7dmFyIGUsZixnLGgsbTtmb3IoZT1mPTA7KCFkfHxlPGQpJiYoaD1hW2ZdKTsrK2Ype2ZvcihnPTA7bT1jW2ddOysrZylpZihoLnZhbHVlPT09XG5tLnZhbHVlKXtoLm1vdmVkPW0uaW5kZXg7bS5tb3ZlZD1oLmluZGV4O2Muc3BsaWNlKGcsMSk7ZT1nPTA7YnJlYWt9ZSs9Z319fTthLmEuUGI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsZCxlLGYsZyl7dmFyIGg9TWF0aC5taW4sbT1NYXRoLm1heCxrPVtdLGwscD1iLmxlbmd0aCxxLG49ZC5sZW5ndGgscj1uLXB8fDEsdj1wK24rMSx1LHcsejtmb3IobD0wO2w8PXA7bCsrKWZvcih3PXUsay5wdXNoKHU9W10pLHo9aChuLGwrcikscT1tKDAsbC0xKTtxPD16O3ErKyl1W3FdPXE/bD9iW2wtMV09PT1kW3EtMV0/d1txLTFdOmgod1txXXx8dix1W3EtMV18fHYpKzE6cSsxOmwrMTtoPVtdO209W107cj1bXTtsPXA7Zm9yKHE9bjtsfHxxOyluPWtbbF1bcV0tMSxxJiZuPT09a1tsXVtxLTFdP20ucHVzaChoW2gubGVuZ3RoXT17c3RhdHVzOmUsdmFsdWU6ZFstLXFdLGluZGV4OnF9KTpsJiZuPT09a1tsLTFdW3FdP3IucHVzaChoW2gubGVuZ3RoXT17c3RhdHVzOmYsdmFsdWU6YlstLWxdLGluZGV4Omx9KTpcbigtLXEsLS1sLGcuc3BhcnNlfHxoLnB1c2goe3N0YXR1czpcInJldGFpbmVkXCIsdmFsdWU6ZFtxXX0pKTthLmEuS2MocixtLCFnLmRvbnRMaW1pdE1vdmVzJiYxMCpwKTtyZXR1cm4gaC5yZXZlcnNlKCl9cmV0dXJuIGZ1bmN0aW9uKGEsZCxlKXtlPVwiYm9vbGVhblwiPT09dHlwZW9mIGU/e2RvbnRMaW1pdE1vdmVzOmV9OmV8fHt9O2E9YXx8W107ZD1kfHxbXTtyZXR1cm4gYS5sZW5ndGg8ZC5sZW5ndGg/YihhLGQsXCJhZGRlZFwiLFwiZGVsZXRlZFwiLGUpOmIoZCxhLFwiZGVsZXRlZFwiLFwiYWRkZWRcIixlKX19KCk7YS5iKFwidXRpbHMuY29tcGFyZUFycmF5c1wiLGEuYS5QYik7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiLGMsZCxoLG0pe3ZhciBrPVtdLGw9YS4kKGZ1bmN0aW9uKCl7dmFyIGw9YyhkLG0sYS5hLlVhKGssYikpfHxbXTswPGsubGVuZ3RoJiYoYS5hLlhjKGssbCksaCYmYS51LkcoaCxudWxsLFtkLGwsbV0pKTtrLmxlbmd0aD0wO2EuYS5OYihrLGwpfSxudWxsLHtsOmIsU2E6ZnVuY3Rpb24oKXtyZXR1cm4hYS5hLmtkKGspfX0pO1xucmV0dXJue1k6aywkOmwuamEoKT9sOm59fXZhciBjPWEuYS5nLlooKSxkPWEuYS5nLlooKTthLmEuZWM9ZnVuY3Rpb24oZSxmLGcsaCxtLGspe2Z1bmN0aW9uIGwoYil7eT17QWE6YixwYjphLnRhKHcrKyl9O3YucHVzaCh5KTtyfHxGLnB1c2goeSl9ZnVuY3Rpb24gcChiKXt5PXRbYl07dyE9PXkucGIudigpJiZELnB1c2goeSk7eS5wYih3KyspO2EuYS5VYSh5LlksZSk7di5wdXNoKHkpfWZ1bmN0aW9uIHEoYixjKXtpZihiKWZvcih2YXIgZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKylhLmEuRChjW2RdLlksZnVuY3Rpb24oYSl7YihhLGQsY1tkXS5BYSl9KX1mPWZ8fFtdO1widW5kZWZpbmVkXCI9PXR5cGVvZiBmLmxlbmd0aCYmKGY9W2ZdKTtoPWh8fHt9O3ZhciB0PWEuYS5nLmdldChlLGMpLHI9IXQsdj1bXSx1PTAsdz0wLHo9W10sQT1bXSxDPVtdLEQ9W10sRj1bXSx5LEk9MDtpZihyKWEuYS5EKGYsbCk7ZWxzZXtpZigha3x8dCYmdC5fY291bnRXYWl0aW5nRm9yUmVtb3ZlKXt2YXIgRT1cbmEuYS5NYih0LGZ1bmN0aW9uKGEpe3JldHVybiBhLkFhfSk7az1hLmEuUGIoRSxmLHtkb250TGltaXRNb3ZlczpoLmRvbnRMaW1pdE1vdmVzLHNwYXJzZTohMH0pfWZvcih2YXIgRT0wLEcsSCxLO0c9a1tFXTtFKyspc3dpdGNoKEg9Ry5tb3ZlZCxLPUcuaW5kZXgsRy5zdGF0dXMpe2Nhc2UgXCJkZWxldGVkXCI6Zm9yKDt1PEs7KXAodSsrKTtIPT09biYmKHk9dFt1XSx5LiQmJih5LiQucygpLHkuJD1uKSxhLmEuVWEoeS5ZLGUpLmxlbmd0aCYmKGguYmVmb3JlUmVtb3ZlJiYodi5wdXNoKHkpLEkrKyx5LkFhPT09ZD95PW51bGw6Qy5wdXNoKHkpKSx5JiZ6LnB1c2guYXBwbHkoeix5LlkpKSk7dSsrO2JyZWFrO2Nhc2UgXCJhZGRlZFwiOmZvcig7dzxLOylwKHUrKyk7SCE9PW4/KEEucHVzaCh2Lmxlbmd0aCkscChIKSk6bChHLnZhbHVlKX1mb3IoO3c8Zi5sZW5ndGg7KXAodSsrKTt2Ll9jb3VudFdhaXRpbmdGb3JSZW1vdmU9SX1hLmEuZy5zZXQoZSxjLHYpO3EoaC5iZWZvcmVNb3ZlLEQpO2EuYS5EKHosXG5oLmJlZm9yZVJlbW92ZT9hLm9hOmEucmVtb3ZlTm9kZSk7dmFyIE0sTyxQO3RyeXtQPWUub3duZXJEb2N1bWVudC5hY3RpdmVFbGVtZW50fWNhdGNoKE4pe31pZihBLmxlbmd0aClmb3IoOyhFPUEuc2hpZnQoKSkhPW47KXt5PXZbRV07Zm9yKE09bjtFOylpZigoTz12Wy0tRV0uWSkmJk8ubGVuZ3RoKXtNPU9bTy5sZW5ndGgtMV07YnJlYWt9Zm9yKGY9MDt1PXkuWVtmXTtNPXUsZisrKWEuaC5XYihlLHUsTSl9Zm9yKEU9MDt5PXZbRV07RSsrKXt5Lll8fGEuYS5leHRlbmQoeSxiKGUsZyx5LkFhLG0seS5wYikpO2ZvcihmPTA7dT15LllbZl07TT11LGYrKylhLmguV2IoZSx1LE0pOyF5LkVkJiZtJiYobSh5LkFhLHkuWSx5LnBiKSx5LkVkPSEwLE09eS5ZW3kuWS5sZW5ndGgtMV0pfVAmJmUub3duZXJEb2N1bWVudC5hY3RpdmVFbGVtZW50IT1QJiZQLmZvY3VzKCk7cShoLmJlZm9yZVJlbW92ZSxDKTtmb3IoRT0wO0U8Qy5sZW5ndGg7KytFKUNbRV0uQWE9ZDtxKGguYWZ0ZXJNb3ZlLEQpO1xucShoLmFmdGVyQWRkLEYpfX0pKCk7YS5iKFwidXRpbHMuc2V0RG9tTm9kZUNoaWxkcmVuRnJvbUFycmF5TWFwcGluZ1wiLGEuYS5lYyk7YS5iYT1mdW5jdGlvbigpe3RoaXMuYWxsb3dUZW1wbGF0ZVJld3JpdGluZz0hMX07YS5iYS5wcm90b3R5cGU9bmV3IGEuY2E7YS5iYS5wcm90b3R5cGUuY29uc3RydWN0b3I9YS5iYTthLmJhLnByb3RvdHlwZS5yZW5kZXJUZW1wbGF0ZVNvdXJjZT1mdW5jdGlvbihiLGMsZCxlKXtpZihjPSg5PmEuYS5XPzA6Yi5ub2Rlcyk/Yi5ub2RlcygpOm51bGwpcmV0dXJuIGEuYS5sYShjLmNsb25lTm9kZSghMCkuY2hpbGROb2Rlcyk7Yj1iLnRleHQoKTtyZXR1cm4gYS5hLnVhKGIsZSl9O2EuYmEuTWE9bmV3IGEuYmE7YS5nYyhhLmJhLk1hKTthLmIoXCJuYXRpdmVUZW1wbGF0ZUVuZ2luZVwiLGEuYmEpOyhmdW5jdGlvbigpe2EuJGE9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLkhkPWZ1bmN0aW9uKCl7aWYoIXZ8fCF2LnRtcGwpcmV0dXJuIDA7dHJ5e2lmKDA8PXYudG1wbC50YWcudG1wbC5vcGVuLnRvU3RyaW5nKCkuaW5kZXhPZihcIl9fXCIpKXJldHVybiAyfWNhdGNoKGEpe31yZXR1cm4gMX0oKTtcbnRoaXMucmVuZGVyVGVtcGxhdGVTb3VyY2U9ZnVuY3Rpb24oYixlLGYsZyl7Zz1nfHx3O2Y9Znx8e307aWYoMj5hKXRocm93IEVycm9yKFwiWW91ciB2ZXJzaW9uIG9mIGpRdWVyeS50bXBsIGlzIHRvbyBvbGQuIFBsZWFzZSB1cGdyYWRlIHRvIGpRdWVyeS50bXBsIDEuMC4wcHJlIG9yIGxhdGVyLlwiKTt2YXIgaD1iLmRhdGEoXCJwcmVjb21waWxlZFwiKTtofHwoaD1iLnRleHQoKXx8XCJcIixoPXYudGVtcGxhdGUobnVsbCxcInt7a29fd2l0aCAkaXRlbS5rb0JpbmRpbmdDb250ZXh0fX1cIitoK1wie3sva29fd2l0aH19XCIpLGIuZGF0YShcInByZWNvbXBpbGVkXCIsaCkpO2I9W2UuJGRhdGFdO2U9di5leHRlbmQoe2tvQmluZGluZ0NvbnRleHQ6ZX0sZi50ZW1wbGF0ZU9wdGlvbnMpO2U9di50bXBsKGgsYixlKTtlLmFwcGVuZFRvKGcuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7di5mcmFnbWVudHM9e307cmV0dXJuIGV9O3RoaXMuY3JlYXRlSmF2YVNjcmlwdEV2YWx1YXRvckJsb2NrPWZ1bmN0aW9uKGEpe3JldHVyblwie3trb19jb2RlICgoZnVuY3Rpb24oKSB7IHJldHVybiBcIitcbmErXCIgfSkoKSkgfX1cIn07dGhpcy5hZGRUZW1wbGF0ZT1mdW5jdGlvbihhLGIpe3cud3JpdGUoXCI8c2NyaXB0IHR5cGU9J3RleHQvaHRtbCcgaWQ9J1wiK2ErXCInPlwiK2IrXCJcXHgzYy9zY3JpcHQ+XCIpfTswPGEmJih2LnRtcGwudGFnLmtvX2NvZGU9e29wZW46XCJfXy5wdXNoKCQxIHx8ICcnKTtcIn0sdi50bXBsLnRhZy5rb193aXRoPXtvcGVuOlwid2l0aCgkMSkge1wiLGNsb3NlOlwifSBcIn0pfTthLiRhLnByb3RvdHlwZT1uZXcgYS5jYTthLiRhLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hLiRhO3ZhciBiPW5ldyBhLiRhOzA8Yi5IZCYmYS5nYyhiKTthLmIoXCJqcXVlcnlUbXBsVGVtcGxhdGVFbmdpbmVcIixhLiRhKX0pKCl9KX0pKCk7fSkoKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8527\n')},6721:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3379);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7795);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(569);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3565);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(9216);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(4589);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_less_loader_dist_cjs_js_app_less__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(1921);\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\n\n      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");\n    \noptions.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_node_modules_less_loader_dist_cjs_js_app_less__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z, options);\n\n\n\n\n       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_node_modules_less_loader_dist_cjs_js_app_less__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z && _node_modules_css_loader_dist_cjs_js_node_modules_less_loader_dist_cjs_js_app_less__WEBPACK_IMPORTED_MODULE_6__/* ["default"].locals */ .Z.locals ? _node_modules_css_loader_dist_cjs_js_node_modules_less_loader_dist_cjs_js_app_less__WEBPACK_IMPORTED_MODULE_6__/* ["default"].locals */ .Z.locals : undefined);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjcyMS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxNQUErRjtBQUMvRixNQUFxRjtBQUNyRixNQUE0RjtBQUM1RixNQUErRztBQUMvRyxNQUF3RztBQUN4RyxNQUF3RztBQUN4RyxNQUEwSTtBQUMxSTtBQUNBOztBQUVBOztBQUVBLDRCQUE0QixxR0FBbUI7QUFDL0Msd0JBQXdCLGtIQUFhOztBQUVyQyx1QkFBdUIsdUdBQWE7QUFDcEM7QUFDQSxpQkFBaUIsK0ZBQU07QUFDdkIsNkJBQTZCLHNHQUFrQjs7QUFFL0MsYUFBYSwwR0FBRyxDQUFDLG1JQUFPOzs7O0FBSW9GO0FBQzVHLE9BQU8saUVBQWUsbUlBQU8sSUFBSSxpSkFBYyxHQUFHLGlKQUFjLFlBQVksRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWxzLXBsZWFzZS8uL2Nzcy9hcHAubGVzcz9iYWFlIl0sInNvdXJjZXNDb250ZW50IjpbIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vbm9kZV9tb2R1bGVzL2xlc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vYXBwLmxlc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi9ub2RlX21vZHVsZXMvbGVzcy1sb2FkZXIvZGlzdC9janMuanMhLi9hcHAubGVzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6721\n')},3379:module=>{"use strict";eval('\n\nvar stylesInDOM = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = "".concat(id, " ").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n\n  return updater;\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzM3OS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjs7QUFFQTtBQUNBOztBQUVBLGtCQUFrQix3QkFBd0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0IsaUJBQWlCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0IsNEJBQTRCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLHFCQUFxQiw2QkFBNkI7QUFDbEQ7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHMtcGxlYXNlLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzPzJkYmEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRPTSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcblxuICAgIGlmIChpbmRleEJ5SWRlbnRpZmllciAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5ieUluZGV4ID0gaTtcbiAgICAgIHN0eWxlc0luRE9NLnNwbGljZShpLCAwLCB7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IHVwZGF0ZXIsXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG5cbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHVwZGF0ZXI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5ET01bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3379\n')},569:module=>{"use strict";eval('\n\nvar memo = {};\n/* istanbul ignore next  */\n\nfunction getTarget(target) {\n  if (typeof memo[target] === "undefined") {\n    var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n\n    memo[target] = styleTarget;\n  }\n\n  return memo[target];\n}\n/* istanbul ignore next  */\n\n\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n\n  if (!target) {\n    throw new Error("Couldn\'t find a style target. This probably means that the value for the \'insert\' parameter is invalid.");\n  }\n\n  target.appendChild(style);\n}\n\nmodule.exports = insertBySelector;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTY5LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNEQUFzRDs7QUFFdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWxzLXBsZWFzZS8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanM/YjIxNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG5cbiAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG5cbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG5cbiAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///569\n')},9216:module=>{"use strict";eval('\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement("style");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\n\nmodule.exports = insertStyleElement;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTIxNi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWxzLXBsZWFzZS8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcz9kZTZjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9216\n')},3565:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce =  true ? __webpack_require__.nc : 0;\n\n  if (nonce) {\n    styleElement.setAttribute("nonce", nonce);\n  }\n}\n\nmodule.exports = setAttributesWithoutAttributes;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzU2NS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0EsY0FBYyxLQUF3QyxHQUFHLHNCQUFpQixHQUFHLENBQUk7O0FBRWpGO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHMtcGxlYXNlLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzP2RkY2UiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzKHN0eWxlRWxlbWVudCkge1xuICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3565\n')},7795:module=>{"use strict";eval('\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = "";\n\n  if (obj.supports) {\n    css += "@supports (".concat(obj.supports, ") {");\n  }\n\n  if (obj.media) {\n    css += "@media ".concat(obj.media, " {");\n  }\n\n  var needLayer = typeof obj.layer !== "undefined";\n\n  if (needLayer) {\n    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");\n  }\n\n  css += obj.css;\n\n  if (needLayer) {\n    css += "}";\n  }\n\n  if (obj.media) {\n    css += "}";\n  }\n\n  if (obj.supports) {\n    css += "}";\n  }\n\n  var sourceMap = obj.sourceMap;\n\n  if (sourceMap && typeof btoa !== "undefined") {\n    css += "\\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  options.styleTagTransform(css, styleElement, options.options);\n}\n\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n\n  styleElement.parentNode.removeChild(styleElement);\n}\n/* istanbul ignore next  */\n\n\nfunction domAPI(options) {\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\n\nmodule.exports = domAPI;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzc5NS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrREFBa0Q7QUFDbEQ7O0FBRUE7QUFDQSwwQ0FBMEM7QUFDMUM7O0FBRUE7O0FBRUE7QUFDQSxpRkFBaUY7QUFDakY7O0FBRUE7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7O0FBRUE7QUFDQSx5REFBeUQ7QUFDekQsSUFBSTs7QUFFSjs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHMtcGxlYXNlLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanM/ZTQ3OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcblxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQob2JqLnN1cHBvcnRzLCBcIikge1wiKTtcbiAgfVxuXG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuXG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJAbGF5ZXJcIi5jb25jYXQob2JqLmxheWVyLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQob2JqLmxheWVyKSA6IFwiXCIsIFwiIHtcIik7XG4gIH1cblxuICBjc3MgKz0gb2JqLmNzcztcblxuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZUVsZW1lbnQucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkb21BUEk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7795\n')},4589:module=>{"use strict";eval("\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\n\nmodule.exports = styleTagTransform;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDU4OS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHMtcGxlYXNlLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanM/MWRkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdHlsZVRhZ1RyYW5zZm9ybTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4589\n")},5942:(__unused_webpack_module,exports)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nclass Action {\r\n    constructor(name) {\r\n        this.name = name;\r\n    }\r\n}\r\nexports["default"] = Action;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTk0Mi5qcyIsIm1hcHBpbmdzIjoiOztBQUFBLE1BQThCLE1BQU07SUFHbEMsWUFBWSxJQUFZO1FBQ3RCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ25CLENBQUM7Q0FDRjtBQU5ELDRCQU1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHMtcGxlYXNlLy4vdHMvQWN0aW9uLnRzPzZiNjIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgQWN0aW9uIHtcclxuICBwdWJsaWMgbmFtZTogc3RyaW5nO1xyXG5cclxuICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcpIHtcclxuICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5942\n')},8470:(__unused_webpack_module,exports)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.ActionName = void 0;\r\nvar ActionName;\r\n(function (ActionName) {\r\n    ActionName["SmallHeal"] = "Small Heal";\r\n    ActionName["Renew"] = "Renew";\r\n    ActionName["MediumHeal"] = "Medium Heal";\r\n})(ActionName = exports.ActionName || (exports.ActionName = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODQ3MC5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBQSxJQUFZLFVBSVg7QUFKRCxXQUFZLFVBQVU7SUFDcEIsc0NBQXdCO0lBQ3hCLDZCQUFlO0lBQ2Ysd0NBQTBCO0FBQzVCLENBQUMsRUFKVyxVQUFVLEdBQVYsa0JBQVUsS0FBVixrQkFBVSxRQUlyQiIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWxzLXBsZWFzZS8uL3RzL0FjdGlvbk5hbWUudHM/NTRiOSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZW51bSBBY3Rpb25OYW1lIHtcclxuICBTbWFsbEhlYWwgPSBcIlNtYWxsIEhlYWxcIixcclxuICBSZW5ldyA9IFwiUmVuZXdcIixcclxuICBNZWRpdW1IZWFsID0gXCJNZWRpdW0gSGVhbFwiLFxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8470\n')},6491:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, "default", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o["default"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst ko = __importStar(__webpack_require__(9687));\r\nconst PreviousValueTracker_1 = __importDefault(__webpack_require__(3779));\r\nclass ActionObservable extends PreviousValueTracker_1.default {\r\n    constructor(initialValue) {\r\n        super(initialValue);\r\n        this.action = ko.observable().extend({ notify: "always" });\r\n    }\r\n}\r\nexports["default"] = ActionObservable;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQ5MS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxtREFBK0I7QUFDL0IsMEVBQTBEO0FBRTFELE1BQXFCLGdCQUFvQixTQUFRLDhCQUF1QjtJQUd0RSxZQUFZLFlBQWdCO1FBQzFCLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUNwQixJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxNQUFNLENBQUMsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQztJQUM3RCxDQUFDO0NBQ0Y7QUFQRCxzQ0FPQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWxzLXBsZWFzZS8uL3RzL0FjdGlvbk9ic2VydmFibGUudHM/MThkNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBrbyBmcm9tIFwia25vY2tvdXRcIjtcclxuaW1wb3J0IFByZXZpb3VzVmFsdWVUcmFja2VyIGZyb20gXCIuL1ByZXZpb3VzVmFsdWVUcmFja2VyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBY3Rpb25PYnNlcnZhYmxlPFQ+IGV4dGVuZHMgUHJldmlvdXNWYWx1ZVRyYWNrZXI8VD4ge1xyXG4gIGFjdGlvbjoga28uT2JzZXJ2YWJsZTxzdHJpbmc+O1xyXG5cclxuICBjb25zdHJ1Y3Rvcihpbml0aWFsVmFsdWU/OiBUKSB7XHJcbiAgICBzdXBlcihpbml0aWFsVmFsdWUpO1xyXG4gICAgdGhpcy5hY3Rpb24gPSBrby5vYnNlcnZhYmxlKCkuZXh0ZW5kKHsgbm90aWZ5OiBcImFsd2F5c1wiIH0pO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6491\n')},5926:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst velocity_animate_1 = __importDefault(__webpack_require__(8581));\r\nclass AnimationHelpers {\r\n    constructor() {\r\n        this.fadeOut = { opacity: [0, 1] };\r\n        this.fullWidth = { width: ["100%", "0%"] };\r\n        this.makeUpdateProgressFunction = (updateProgressFunction) => {\r\n            return (elements, complete, remaining, tweenValue, activeCall) => {\r\n                updateProgressFunction({\r\n                    complete: complete,\r\n                    remaining: remaining,\r\n                    start: new Date(Date.now() - (activeCall?.ellapsedTime || 0)),\r\n                    tweenValue: tweenValue,\r\n                });\r\n            };\r\n        };\r\n        this.pause = () => {\r\n            const animatingElements = Array.from(document.querySelectorAll(".velocity-animating"));\r\n            (0, velocity_animate_1.default)(animatingElements, "pause");\r\n            return animatingElements;\r\n        };\r\n        this.removeStyleAttribute = (elements) => {\r\n            if (!elements || elements.length === 0) {\r\n                return;\r\n            }\r\n            elements[0].removeAttribute("style");\r\n        };\r\n        this.resume = () => {\r\n            const pausedElements = Array.from(document.querySelectorAll(".velocity-animating"));\r\n            (0, velocity_animate_1.default)(pausedElements, "resume");\r\n            return pausedElements;\r\n        };\r\n    }\r\n}\r\nexports["default"] = new AnimationHelpers();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTkyNi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLHNFQU8wQjtBQUcxQixNQUFNLGdCQUFnQjtJQUF0QjtRQUNFLFlBQU8sR0FBaUMsRUFBRSxPQUFPLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUM1RCxjQUFTLEdBQWlDLEVBQUUsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUM7UUFDcEUsK0JBQTBCLEdBQUcsQ0FDM0Isc0JBQTZELEVBQ3pDLEVBQUU7WUFDdEIsT0FBTyxDQUNMLFFBQW9DLEVBQ3BDLFFBQTRCLEVBQzVCLFNBQTZCLEVBQzdCLFVBQThCLEVBQzlCLFVBQXFDLEVBQ3JDLEVBQUU7Z0JBQ0Ysc0JBQXNCLENBQUM7b0JBQ3JCLFFBQVEsRUFBRSxRQUFRO29CQUNsQixTQUFTLEVBQUUsU0FBUztvQkFDcEIsS0FBSyxFQUFFLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLFVBQVUsRUFBRSxZQUFZLElBQUksQ0FBQyxDQUFDLENBQUM7b0JBQzdELFVBQVUsRUFBRSxVQUFVO2lCQUN2QixDQUFDLENBQUM7WUFDTCxDQUFDLENBQUM7UUFDSixDQUFDLENBQUM7UUFFSyxVQUFLLEdBQUcsR0FBRyxFQUFFO1lBQ2xCLE1BQU0saUJBQWlCLEdBQWtCLEtBQUssQ0FBQyxJQUFJLENBQ2pELFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBYyxxQkFBcUIsQ0FBQyxDQUM5RCxDQUFDO1lBRUYsOEJBQVEsRUFBQyxpQkFBaUIsRUFBRSxPQUFPLENBQUMsQ0FBQztZQUVyQyxPQUFPLGlCQUFpQixDQUFDO1FBQzNCLENBQUMsQ0FBQztRQUVLLHlCQUFvQixHQUFHLENBQzVCLFFBQXNELEVBQ3RELEVBQUU7WUFDRixJQUFJLENBQUMsUUFBUSxJQUFJLFFBQVEsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO2dCQUN0QyxPQUFPO2FBQ1I7WUFFRCxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZDLENBQUMsQ0FBQztRQUVLLFdBQU0sR0FBRyxHQUFHLEVBQUU7WUFDbkIsTUFBTSxjQUFjLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FDL0IsUUFBUSxDQUFDLGdCQUFnQixDQUFjLHFCQUFxQixDQUFDLENBQzlELENBQUM7WUFDRiw4QkFBUSxFQUFDLGNBQWMsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUVuQyxPQUFPLGNBQWMsQ0FBQztRQUN4QixDQUFDLENBQUM7SUFDSixDQUFDO0NBQUE7QUFFRCxxQkFBZSxJQUFJLGdCQUFnQixFQUFFLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFscy1wbGVhc2UvLi90cy9BbmltYXRpb25IZWxwZXJzLnRzPzk3ZjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFZlbG9jaXR5LCB7XHJcbiAgQW5pbWF0aW9uQ2FsbCxcclxuICBIVE1Mb3JTVkdFbGVtZW50LFxyXG4gIFByb3BlcnRpZXMsXHJcbiAgVmVsb2NpdHlQcm9ncmVzc0ZuLFxyXG4gIFZlbG9jaXR5UHJvcGVydHksXHJcbiAgVmVsb2NpdHlSZXN1bHQsXHJcbn0gZnJvbSBcInZlbG9jaXR5LWFuaW1hdGVcIjtcclxuaW1wb3J0IHsgQW5pbWF0aW9uUHJvZ3Jlc3MgfSBmcm9tIFwiLi9BbmltYXRpb25Qcm9ncmVzc1wiO1xyXG5cclxuY2xhc3MgQW5pbWF0aW9uSGVscGVycyB7XHJcbiAgZmFkZU91dDogUHJvcGVydGllczxWZWxvY2l0eVByb3BlcnR5PiA9IHsgb3BhY2l0eTogWzAsIDFdIH07XHJcbiAgZnVsbFdpZHRoOiBQcm9wZXJ0aWVzPFZlbG9jaXR5UHJvcGVydHk+ID0geyB3aWR0aDogW1wiMTAwJVwiLCBcIjAlXCJdIH07XHJcbiAgbWFrZVVwZGF0ZVByb2dyZXNzRnVuY3Rpb24gPSAoXHJcbiAgICB1cGRhdGVQcm9ncmVzc0Z1bmN0aW9uOiAocHJvZ3Jlc3M6IEFuaW1hdGlvblByb2dyZXNzKSA9PiB2b2lkXHJcbiAgKTogVmVsb2NpdHlQcm9ncmVzc0ZuID0+IHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIGVsZW1lbnRzOiBWZWxvY2l0eVJlc3VsdCB8IHVuZGVmaW5lZCxcclxuICAgICAgY29tcGxldGU6IG51bWJlciB8IHVuZGVmaW5lZCxcclxuICAgICAgcmVtYWluaW5nOiBudW1iZXIgfCB1bmRlZmluZWQsXHJcbiAgICAgIHR3ZWVuVmFsdWU6IG51bWJlciB8IHVuZGVmaW5lZCxcclxuICAgICAgYWN0aXZlQ2FsbDogQW5pbWF0aW9uQ2FsbCB8IHVuZGVmaW5lZFxyXG4gICAgKSA9PiB7XHJcbiAgICAgIHVwZGF0ZVByb2dyZXNzRnVuY3Rpb24oe1xyXG4gICAgICAgIGNvbXBsZXRlOiBjb21wbGV0ZSxcclxuICAgICAgICByZW1haW5pbmc6IHJlbWFpbmluZyxcclxuICAgICAgICBzdGFydDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIChhY3RpdmVDYWxsPy5lbGxhcHNlZFRpbWUgfHwgMCkpLFxyXG4gICAgICAgIHR3ZWVuVmFsdWU6IHR3ZWVuVmFsdWUsXHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICB9O1xyXG5cclxuICBwdWJsaWMgcGF1c2UgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBhbmltYXRpbmdFbGVtZW50czogSFRNTEVsZW1lbnRbXSA9IEFycmF5LmZyb20oXHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8SFRNTEVsZW1lbnQ+KFwiLnZlbG9jaXR5LWFuaW1hdGluZ1wiKVxyXG4gICAgKTtcclxuXHJcbiAgICBWZWxvY2l0eShhbmltYXRpbmdFbGVtZW50cywgXCJwYXVzZVwiKTtcclxuXHJcbiAgICByZXR1cm4gYW5pbWF0aW5nRWxlbWVudHM7XHJcbiAgfTtcclxuXHJcbiAgcHVibGljIHJlbW92ZVN0eWxlQXR0cmlidXRlID0gKFxyXG4gICAgZWxlbWVudHM6IFZlbG9jaXR5UmVzdWx0PEhUTUxvclNWR0VsZW1lbnQ+IHwgdW5kZWZpbmVkXHJcbiAgKSA9PiB7XHJcbiAgICBpZiAoIWVsZW1lbnRzIHx8IGVsZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgZWxlbWVudHNbMF0ucmVtb3ZlQXR0cmlidXRlKFwic3R5bGVcIik7XHJcbiAgfTtcclxuXHJcbiAgcHVibGljIHJlc3VtZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IHBhdXNlZEVsZW1lbnRzID0gQXJyYXkuZnJvbShcclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbDxIVE1MRWxlbWVudD4oXCIudmVsb2NpdHktYW5pbWF0aW5nXCIpXHJcbiAgICApO1xyXG4gICAgVmVsb2NpdHkocGF1c2VkRWxlbWVudHMsIFwicmVzdW1lXCIpO1xyXG5cclxuICAgIHJldHVybiBwYXVzZWRFbGVtZW50cztcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgQW5pbWF0aW9uSGVscGVycygpO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5926\n')},9454:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst AnimationHelpers_1 = __importDefault(__webpack_require__(5926));\r\nclass Animations {\r\n    constructor() {\r\n        this.fadeOut200 = {\r\n            animation: {\r\n                properties: AnimationHelpers_1.default.fadeOut,\r\n                options: {\r\n                    duration: 200,\r\n                    complete: AnimationHelpers_1.default.removeStyleAttribute,\r\n                },\r\n            },\r\n        };\r\n        this.fadeOut1000 = {\r\n            animation: {\r\n                properties: AnimationHelpers_1.default.fadeOut,\r\n                options: {\r\n                    duration: 1000,\r\n                    begin: AnimationHelpers_1.default.removeStyleAttribute,\r\n                },\r\n            },\r\n        };\r\n        this.fullWidth2000 = {\r\n            animation: {\r\n                properties: AnimationHelpers_1.default.fullWidth,\r\n                options: {\r\n                    duration: 2000,\r\n                    begin: AnimationHelpers_1.default.removeStyleAttribute,\r\n                },\r\n            },\r\n        };\r\n        this.fullWidth5000 = {\r\n            animation: {\r\n                properties: AnimationHelpers_1.default.fullWidth,\r\n                options: {\r\n                    duration: 5000,\r\n                    begin: AnimationHelpers_1.default.removeStyleAttribute,\r\n                },\r\n            },\r\n        };\r\n    }\r\n}\r\nexports["default"] = new Animations();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTQ1NC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUNBLHNFQUFrRDtBQUVsRCxNQUFNLFVBQVU7SUFNZDtRQUNFLElBQUksQ0FBQyxVQUFVLEdBQUc7WUFDaEIsU0FBUyxFQUFFO2dCQUNULFVBQVUsRUFBRSwwQkFBZ0IsQ0FBQyxPQUFPO2dCQUNwQyxPQUFPLEVBQUU7b0JBQ1AsUUFBUSxFQUFFLEdBQUc7b0JBQ2IsUUFBUSxFQUFFLDBCQUFnQixDQUFDLG9CQUFvQjtpQkFDaEQ7YUFDRjtTQUNGLENBQUM7UUFFRixJQUFJLENBQUMsV0FBVyxHQUFHO1lBQ2pCLFNBQVMsRUFBRTtnQkFDVCxVQUFVLEVBQUUsMEJBQWdCLENBQUMsT0FBTztnQkFDcEMsT0FBTyxFQUFFO29CQUNQLFFBQVEsRUFBRSxJQUFJO29CQUNkLEtBQUssRUFBRSwwQkFBZ0IsQ0FBQyxvQkFBb0I7aUJBQzdDO2FBQ0Y7U0FDRixDQUFDO1FBRUYsSUFBSSxDQUFDLGFBQWEsR0FBRztZQUNuQixTQUFTLEVBQUU7Z0JBQ1QsVUFBVSxFQUFFLDBCQUFnQixDQUFDLFNBQVM7Z0JBQ3RDLE9BQU8sRUFBRTtvQkFDUCxRQUFRLEVBQUUsSUFBSTtvQkFDZCxLQUFLLEVBQUUsMEJBQWdCLENBQUMsb0JBQW9CO2lCQUM3QzthQUNGO1NBQ0YsQ0FBQztRQUVGLElBQUksQ0FBQyxhQUFhLEdBQUc7WUFDbkIsU0FBUyxFQUFFO2dCQUNULFVBQVUsRUFBRSwwQkFBZ0IsQ0FBQyxTQUFTO2dCQUN0QyxPQUFPLEVBQUU7b0JBQ1AsUUFBUSxFQUFFLElBQUk7b0JBQ2QsS0FBSyxFQUFFLDBCQUFnQixDQUFDLG9CQUFvQjtpQkFDN0M7YUFDRjtTQUNGLENBQUM7SUFDSixDQUFDO0NBQ0Y7QUFFRCxxQkFBZSxJQUFJLFVBQVUsRUFBRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHMtcGxlYXNlLy4vdHMvQW5pbWF0aW9ucy50cz8xMzM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFuaW1hdGlvbldyYXBwZXIgfSBmcm9tIFwiLi9BbmltYXRpb25cIjtcclxuaW1wb3J0IEFuaW1hdGlvbkhlbHBlcnMgZnJvbSBcIi4vQW5pbWF0aW9uSGVscGVyc1wiO1xyXG5cclxuY2xhc3MgQW5pbWF0aW9ucyB7XHJcbiAgZmFkZU91dDIwMDogQW5pbWF0aW9uV3JhcHBlcjtcclxuICBmYWRlT3V0MTAwMDogQW5pbWF0aW9uV3JhcHBlcjtcclxuICBmdWxsV2lkdGgyMDAwOiBBbmltYXRpb25XcmFwcGVyO1xyXG4gIGZ1bGxXaWR0aDUwMDA6IEFuaW1hdGlvbldyYXBwZXI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5mYWRlT3V0MjAwID0ge1xyXG4gICAgICBhbmltYXRpb246IHtcclxuICAgICAgICBwcm9wZXJ0aWVzOiBBbmltYXRpb25IZWxwZXJzLmZhZGVPdXQsXHJcbiAgICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgICAgZHVyYXRpb246IDIwMCxcclxuICAgICAgICAgIGNvbXBsZXRlOiBBbmltYXRpb25IZWxwZXJzLnJlbW92ZVN0eWxlQXR0cmlidXRlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZmFkZU91dDEwMDAgPSB7XHJcbiAgICAgIGFuaW1hdGlvbjoge1xyXG4gICAgICAgIHByb3BlcnRpZXM6IEFuaW1hdGlvbkhlbHBlcnMuZmFkZU91dCxcclxuICAgICAgICBvcHRpb25zOiB7XHJcbiAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgIGJlZ2luOiBBbmltYXRpb25IZWxwZXJzLnJlbW92ZVN0eWxlQXR0cmlidXRlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZnVsbFdpZHRoMjAwMCA9IHtcclxuICAgICAgYW5pbWF0aW9uOiB7XHJcbiAgICAgICAgcHJvcGVydGllczogQW5pbWF0aW9uSGVscGVycy5mdWxsV2lkdGgsXHJcbiAgICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgICAgZHVyYXRpb246IDIwMDAsXHJcbiAgICAgICAgICBiZWdpbjogQW5pbWF0aW9uSGVscGVycy5yZW1vdmVTdHlsZUF0dHJpYnV0ZSxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmZ1bGxXaWR0aDUwMDAgPSB7XHJcbiAgICAgIGFuaW1hdGlvbjoge1xyXG4gICAgICAgIHByb3BlcnRpZXM6IEFuaW1hdGlvbkhlbHBlcnMuZnVsbFdpZHRoLFxyXG4gICAgICAgIG9wdGlvbnM6IHtcclxuICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLFxyXG4gICAgICAgICAgYmVnaW46IEFuaW1hdGlvbkhlbHBlcnMucmVtb3ZlU3R5bGVBdHRyaWJ1dGUsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgQW5pbWF0aW9ucygpO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9454\n')},3717:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, "default", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o["default"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst ko = __importStar(__webpack_require__(9687));\r\nconst ActionObservable_1 = __importDefault(__webpack_require__(6491));\r\nclass Boss {\r\n    constructor(health, player, tank, raid, onDeathCallback) {\r\n        this._adjustHealth = (amount) => {\r\n            const newHealth = this.health() + amount;\r\n            if (newHealth <= 0) {\r\n                this.health(0);\r\n                this._updateProgress(0);\r\n                this._onDeath();\r\n            }\r\n            else if (newHealth <= this.maxHealth) {\r\n                this.health(newHealth);\r\n                this._updateProgress((100.0 * newHealth) / this.maxHealth);\r\n            }\r\n            else {\r\n                this.health(this.maxHealth);\r\n                this._updateProgress(100);\r\n            }\r\n        };\r\n        this._isStarted = false;\r\n        this._onDeath = () => {\r\n            this.stop();\r\n            this.isDead(true);\r\n            this._onDeathCallback();\r\n        };\r\n        this._reward = null;\r\n        this._updateProgress = (healthPercentage) => {\r\n            this.triggers.forEach((trigger) => {\r\n                trigger.execute(healthPercentage);\r\n            });\r\n        };\r\n        this.cast = (action) => {\r\n            this.currentCasts.push(new ActionObservable_1.default(action));\r\n        };\r\n        this.engage = () => {\r\n            this.initialEvents.forEach((initialEvent) => {\r\n                initialEvent();\r\n            });\r\n            this.targets(Object.assign([], this.initialTargets));\r\n            this.start();\r\n        };\r\n        this.finishCast = (action) => {\r\n            this.currentCasts.remove((cast) => {\r\n                return cast.value() === action;\r\n            });\r\n        };\r\n        this.getLoop = (loopName) => this.loops.get(loopName);\r\n        this.harm = (amount) => this._adjustHealth(0 - amount);\r\n        this.healthPercentageString = ko.pureComputed(() => `${(100.0 * this.health()) / this.maxHealth}%`);\r\n        this.label = ko.pureComputed(() => `${this.name} (${this.health().toLocaleString("en-US")}/${this.maxHealth.toLocaleString("en-US")})`);\r\n        this.pause = () => {\r\n            this.loops.pause();\r\n        };\r\n        this.reset = () => {\r\n            this.health(this.maxHealth);\r\n            this._tank = this.initialTargets[0];\r\n        };\r\n        this.resume = () => {\r\n            this.loops.resume();\r\n        };\r\n        this.start = () => {\r\n            if (this._isStarted) {\r\n                return;\r\n            }\r\n            this._isStarted = true;\r\n            this.loops.start();\r\n        };\r\n        this.stop = () => {\r\n            this.targets.removeAll();\r\n            this.loops.stop();\r\n            this.currentCasts().forEach((cast) => {\r\n                cast.action("finish");\r\n            });\r\n        };\r\n        this.health = ko.observable(health);\r\n        this.isDead = ko.observable(false);\r\n        this.targets = ko.observableArray([]);\r\n        this.currentCasts = ko.observableArray([]);\r\n        this.maxHealth = health;\r\n        this._player = player;\r\n        this._tank = tank;\r\n        this._raid = raid;\r\n        this._onDeathCallback = onDeathCallback;\r\n    }\r\n    get reward() {\r\n        return this._reward;\r\n    }\r\n    set reward(reward) {\r\n        this._reward = reward;\r\n    }\r\n}\r\nexports["default"] = Boss;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUM7WUFFbEIsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQVMsRUFBRSxFQUFFO2dCQUN4QyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3hCLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDO1FBV0EsSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuQyxJQUFJLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQyxlQUFlLENBQVcsRUFBRSxDQUFDLENBQUM7UUFDaEQsSUFBSSxDQUFDLFlBQVksR0FBRyxFQUFFLENBQUMsZUFBZSxDQUEyQixFQUFFLENBQUMsQ0FBQztRQUVyRSxJQUFJLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQztRQUV4QixJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztRQUN0QixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztRQUNsQixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztRQUNsQixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsZUFBZSxDQUFDO0lBQzFDLENBQUM7SUFFRCxJQUFJLE1BQU07UUFDUixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDdEIsQ0FBQztJQUVELElBQUksTUFBTSxDQUFDLE1BQXFCO1FBQzlCLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO0lBQ3hCLENBQUM7Q0FDRjtBQTNJRCwwQkEySUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFscy1wbGVhc2UvLi90cy9Cb3NzLnRzPzliZWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMga28gZnJvbSBcImtub2Nrb3V0XCI7XHJcbmltcG9ydCBBY3Rpb24gZnJvbSBcInRzL0FjdGlvblwiO1xyXG5pbXBvcnQgQWN0aW9uT2JzZXJ2YWJsZSBmcm9tIFwiLi9BY3Rpb25PYnNlcnZhYmxlXCI7XHJcbmltcG9ydCB7IEJvc3NOYW1lIH0gZnJvbSBcIi4vQm9zc2VzL0Jvc3NOYW1lXCI7XHJcbmltcG9ydCBGcmllbmRseSBmcm9tIFwiLi9GcmllbmRseVwiO1xyXG5pbXBvcnQgTG9vcCBmcm9tIFwiLi9Mb29wXCI7XHJcbmltcG9ydCBMb29wcyBmcm9tIFwiLi9Mb29wc1wiO1xyXG5pbXBvcnQgUGFydHkgZnJvbSBcIi4vUGFydHlcIjtcclxuaW1wb3J0IFBsYXllciBmcm9tIFwiLi9QbGF5ZXJcIjtcclxuaW1wb3J0IFJld2FyZCBmcm9tIFwiLi9SZXdhcmRcIjtcclxuaW1wb3J0IFRyaWdnZXIgZnJvbSBcIi4vVHJpZ2dlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgQm9zcyB7XHJcbiAgcHJpdmF0ZSBfYWRqdXN0SGVhbHRoID0gKGFtb3VudDogbnVtYmVyKSA9PiB7XHJcbiAgICBjb25zdCBuZXdIZWFsdGggPSB0aGlzLmhlYWx0aCgpICsgYW1vdW50O1xyXG5cclxuICAgIGlmIChuZXdIZWFsdGggPD0gMCkge1xyXG4gICAgICB0aGlzLmhlYWx0aCgwKTtcclxuICAgICAgdGhpcy5fdXBkYXRlUHJvZ3Jlc3MoMCk7XHJcbiAgICAgIHRoaXMuX29uRGVhdGgoKTtcclxuICAgIH0gZWxzZSBpZiAobmV3SGVhbHRoIDw9IHRoaXMubWF4SGVhbHRoKSB7XHJcbiAgICAgIHRoaXMuaGVhbHRoKG5ld0hlYWx0aCk7XHJcbiAgICAgIHRoaXMuX3VwZGF0ZVByb2dyZXNzKCgxMDAuMCAqIG5ld0hlYWx0aCkgLyB0aGlzLm1heEhlYWx0aCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmhlYWx0aCh0aGlzLm1heEhlYWx0aCk7XHJcbiAgICAgIHRoaXMuX3VwZGF0ZVByb2dyZXNzKDEwMCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBfaXNTdGFydGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgcHJpdmF0ZSBfb25EZWF0aCA9ICgpID0+IHtcclxuICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgdGhpcy5pc0RlYWQodHJ1ZSk7XHJcbiAgICB0aGlzLl9vbkRlYXRoQ2FsbGJhY2soKTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9yZXdhcmQ6IFJld2FyZCB8IG51bGwgPSBudWxsO1xyXG4gIHByaXZhdGUgX3VwZGF0ZVByb2dyZXNzID0gKGhlYWx0aFBlcmNlbnRhZ2U6IG51bWJlcikgPT4ge1xyXG4gICAgdGhpcy50cmlnZ2Vycy5mb3JFYWNoKCh0cmlnZ2VyOiBUcmlnZ2VyKSA9PiB7XHJcbiAgICAgIHRyaWdnZXIuZXhlY3V0ZShoZWFsdGhQZXJjZW50YWdlKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHByb3RlY3RlZCBfb25EZWF0aENhbGxiYWNrOiAoKSA9PiBhbnk7XHJcbiAgcHJvdGVjdGVkIF9wbGF5ZXI6IEZyaWVuZGx5O1xyXG4gIHByb3RlY3RlZCBfcmFpZDogUGFydHk7XHJcbiAgcHJvdGVjdGVkIF90YW5rOiBGcmllbmRseTtcclxuICBwcm90ZWN0ZWQgYWJzdHJhY3QgaW5pdGlhbEV2ZW50czogKCgpID0+IHZvaWQpW107XHJcbiAgcHJvdGVjdGVkIGFic3RyYWN0IGluaXRpYWxUYXJnZXRzOiBGcmllbmRseVtdO1xyXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBsb29wczogTG9vcHM7XHJcbiAgcHJvdGVjdGVkIGFic3RyYWN0IHRyaWdnZXJzOiBUcmlnZ2VyW107XHJcblxyXG4gIGNhc3QgPSAoYWN0aW9uOiBBY3Rpb24pID0+IHtcclxuICAgIHRoaXMuY3VycmVudENhc3RzLnB1c2gobmV3IEFjdGlvbk9ic2VydmFibGU8QWN0aW9uPihhY3Rpb24pKTtcclxuICB9O1xyXG5cclxuICBjdXJyZW50Q2FzdHM6IGtvLk9ic2VydmFibGVBcnJheTxBY3Rpb25PYnNlcnZhYmxlPEFjdGlvbj4+O1xyXG4gIGVuZ2FnZSA9ICgpID0+IHtcclxuICAgIHRoaXMuaW5pdGlhbEV2ZW50cy5mb3JFYWNoKChpbml0aWFsRXZlbnQ6ICgpID0+IHZvaWQpID0+IHtcclxuICAgICAgaW5pdGlhbEV2ZW50KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnRhcmdldHMoT2JqZWN0LmFzc2lnbihbXSwgdGhpcy5pbml0aWFsVGFyZ2V0cykpO1xyXG5cclxuICAgIHRoaXMuc3RhcnQoKTtcclxuICB9O1xyXG5cclxuICBmaW5pc2hDYXN0ID0gKGFjdGlvbjogQWN0aW9uKSA9PiB7XHJcbiAgICB0aGlzLmN1cnJlbnRDYXN0cy5yZW1vdmUoKGNhc3Q6IEFjdGlvbk9ic2VydmFibGU8QWN0aW9uPikgPT4ge1xyXG4gICAgICByZXR1cm4gY2FzdC52YWx1ZSgpID09PSBhY3Rpb247XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBnZXRMb29wID0gKGxvb3BOYW1lOiBzdHJpbmcpOiBMb29wID0+IHRoaXMubG9vcHMuZ2V0KGxvb3BOYW1lKTtcclxuXHJcbiAgaGFybSA9IChhbW91bnQ6IG51bWJlcikgPT4gdGhpcy5fYWRqdXN0SGVhbHRoKDAgLSBhbW91bnQpO1xyXG5cclxuICBoZWFsdGg6IGtvLk9ic2VydmFibGU8bnVtYmVyPjtcclxuICBoZWFsdGhQZXJjZW50YWdlU3RyaW5nOiBrby5QdXJlQ29tcHV0ZWQ8c3RyaW5nPiA9IGtvLnB1cmVDb21wdXRlZChcclxuICAgICgpID0+IGAkeygxMDAuMCAqIHRoaXMuaGVhbHRoKCkpIC8gdGhpcy5tYXhIZWFsdGh9JWBcclxuICApO1xyXG4gIGlzRGVhZDoga28uT2JzZXJ2YWJsZTxib29sZWFuPjtcclxuICBsYWJlbDoga28uUHVyZUNvbXB1dGVkPHN0cmluZz4gPSBrby5wdXJlQ29tcHV0ZWQoXHJcbiAgICAoKSA9PlxyXG4gICAgICBgJHt0aGlzLm5hbWV9ICgke3RoaXMuaGVhbHRoKCkudG9Mb2NhbGVTdHJpbmcoXHJcbiAgICAgICAgXCJlbi1VU1wiXHJcbiAgICAgICl9LyR7dGhpcy5tYXhIZWFsdGgudG9Mb2NhbGVTdHJpbmcoXCJlbi1VU1wiKX0pYFxyXG4gICk7XHJcbiAgbWF4SGVhbHRoOiBudW1iZXI7XHJcbiAgYWJzdHJhY3QgbmFtZTogQm9zc05hbWU7XHJcbiAgYWJzdHJhY3Qgb25EZWF0aE9mRnJpZW5kbHk6IChmcmllbmRseTogRnJpZW5kbHkpID0+IHZvaWQ7XHJcbiAgcGF1c2UgPSAoKSA9PiB7XHJcbiAgICB0aGlzLmxvb3BzLnBhdXNlKCk7XHJcbiAgfTtcclxuXHJcbiAgcmVzZXQgPSAoKSA9PiB7XHJcbiAgICB0aGlzLmhlYWx0aCh0aGlzLm1heEhlYWx0aCk7XHJcbiAgICB0aGlzLl90YW5rID0gdGhpcy5pbml0aWFsVGFyZ2V0c1swXTtcclxuICB9O1xyXG5cclxuICByZXN1bWUgPSAoKSA9PiB7XHJcbiAgICB0aGlzLmxvb3BzLnJlc3VtZSgpO1xyXG4gIH07XHJcblxyXG4gIHN0YXJ0ID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuX2lzU3RhcnRlZCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5faXNTdGFydGVkID0gdHJ1ZTtcclxuICAgIHRoaXMubG9vcHMuc3RhcnQoKTtcclxuICB9O1xyXG5cclxuICBzdG9wID0gKCkgPT4ge1xyXG4gICAgdGhpcy50YXJnZXRzLnJlbW92ZUFsbCgpO1xyXG4gICAgdGhpcy5sb29wcy5zdG9wKCk7XHJcblxyXG4gICAgdGhpcy5jdXJyZW50Q2FzdHMoKS5mb3JFYWNoKChjYXN0OiBhbnkpID0+IHtcclxuICAgICAgY2FzdC5hY3Rpb24oXCJmaW5pc2hcIik7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICB0YXJnZXRzOiBrby5PYnNlcnZhYmxlQXJyYXk8RnJpZW5kbHk+O1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGhlYWx0aDogbnVtYmVyLFxyXG4gICAgcGxheWVyOiBQbGF5ZXIsXHJcbiAgICB0YW5rOiBGcmllbmRseSxcclxuICAgIHJhaWQ6IFBhcnR5LFxyXG4gICAgb25EZWF0aENhbGxiYWNrOiAoKSA9PiB2b2lkXHJcbiAgKSB7XHJcbiAgICB0aGlzLmhlYWx0aCA9IGtvLm9ic2VydmFibGUoaGVhbHRoKTtcclxuICAgIHRoaXMuaXNEZWFkID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XHJcbiAgICB0aGlzLnRhcmdldHMgPSBrby5vYnNlcnZhYmxlQXJyYXk8RnJpZW5kbHk+KFtdKTtcclxuICAgIHRoaXMuY3VycmVudENhc3RzID0ga28ub2JzZXJ2YWJsZUFycmF5PEFjdGlvbk9ic2VydmFibGU8QWN0aW9uPj4oW10pO1xyXG5cclxuICAgIHRoaXMubWF4SGVhbHRoID0gaGVhbHRoO1xyXG5cclxuICAgIHRoaXMuX3BsYXllciA9IHBsYXllcjtcclxuICAgIHRoaXMuX3RhbmsgPSB0YW5rO1xyXG4gICAgdGhpcy5fcmFpZCA9IHJhaWQ7XHJcbiAgICB0aGlzLl9vbkRlYXRoQ2FsbGJhY2sgPSBvbkRlYXRoQ2FsbGJhY2s7XHJcbiAgfVxyXG5cclxuICBnZXQgcmV3YXJkKCk6IFJld2FyZCB8IG51bGwge1xyXG4gICAgcmV0dXJuIHRoaXMuX3Jld2FyZDtcclxuICB9XHJcblxyXG4gIHNldCByZXdhcmQocmV3YXJkOiBSZXdhcmQgfCBudWxsKSB7XHJcbiAgICB0aGlzLl9yZXdhcmQgPSByZXdhcmQ7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3717\n')},275:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst BossName_1 = __webpack_require__(1327);\r\nconst DonnyFrump_1 = __importDefault(__webpack_require__(5119));\r\nconst ElongTusk_1 = __importDefault(__webpack_require__(5036));\r\nconst GordoRamzee_1 = __importDefault(__webpack_require__(15));\r\nclass BossFactory {\r\n    create(bossName, player, tank, raid, onDeathCallback) {\r\n        switch (bossName) {\r\n            case BossName_1.BossName.GordoRamzee:\r\n                return new GordoRamzee_1.default(player, tank, raid, onDeathCallback);\r\n            case BossName_1.BossName.DonnyFrump:\r\n                return new DonnyFrump_1.default(player, tank, raid, onDeathCallback);\r\n            case BossName_1.BossName.ElongTusk:\r\n                return new ElongTusk_1.default(player, tank, raid, onDeathCallback);\r\n        }\r\n    }\r\n}\r\nexports["default"] = new BossFactory();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjc1LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQ0EsNkNBQTZDO0FBQzdDLGdFQUE2QztBQUM3QywrREFBMkM7QUFDM0MsK0RBQStDO0FBSy9DLE1BQU0sV0FBVztJQUNmLE1BQU0sQ0FDSixRQUFrQixFQUNsQixNQUFjLEVBQ2QsSUFBYyxFQUNkLElBQVcsRUFDWCxlQUEyQjtRQUUzQixRQUFRLFFBQVEsRUFBRTtZQUNoQixLQUFLLG1CQUFRLENBQUMsV0FBVztnQkFDdkIsT0FBTyxJQUFJLHFCQUFXLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsZUFBZSxDQUFDLENBQUM7WUFDOUQsS0FBSyxtQkFBUSxDQUFDLFVBQVU7Z0JBQ3RCLE9BQU8sSUFBSSxvQkFBVSxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLGVBQWUsQ0FBQyxDQUFDO1lBQzdELEtBQUssbUJBQVEsQ0FBQyxTQUFTO2dCQUNyQixPQUFPLElBQUksbUJBQVMsQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxlQUFlLENBQUMsQ0FBQztTQUM3RDtJQUNILENBQUM7Q0FDRjtBQUVELHFCQUFlLElBQUksV0FBVyxFQUFFLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFscy1wbGVhc2UvLi90cy9Cb3NzRmFjdG9yeS50cz9mMzgyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCb3NzIGZyb20gXCIuL0Jvc3NcIjtcclxuaW1wb3J0IHsgQm9zc05hbWUgfSBmcm9tIFwiLi9Cb3NzZXMvQm9zc05hbWVcIjtcclxuaW1wb3J0IERvbm55RnJ1bXAgZnJvbSBcIi4vQm9zc2VzL0Rvbm55RnJ1bXBcIjtcclxuaW1wb3J0IEVsb25nVHVzayBmcm9tIFwiLi9Cb3NzZXMvRWxvbmdUdXNrXCI7XHJcbmltcG9ydCBHb3Jkb1JhbXplZSBmcm9tIFwiLi9Cb3NzZXMvR29yZG9SYW16ZWVcIjtcclxuaW1wb3J0IEZyaWVuZGx5IGZyb20gXCIuL0ZyaWVuZGx5XCI7XHJcbmltcG9ydCBQYXJ0eSBmcm9tIFwiLi9QYXJ0eVwiO1xyXG5pbXBvcnQgUGxheWVyIGZyb20gXCIuL1BsYXllclwiO1xyXG5cclxuY2xhc3MgQm9zc0ZhY3Rvcnkge1xyXG4gIGNyZWF0ZShcclxuICAgIGJvc3NOYW1lOiBCb3NzTmFtZSxcclxuICAgIHBsYXllcjogUGxheWVyLFxyXG4gICAgdGFuazogRnJpZW5kbHksXHJcbiAgICByYWlkOiBQYXJ0eSxcclxuICAgIG9uRGVhdGhDYWxsYmFjazogKCkgPT4gdm9pZFxyXG4gICk6IEJvc3Mge1xyXG4gICAgc3dpdGNoIChib3NzTmFtZSkge1xyXG4gICAgICBjYXNlIEJvc3NOYW1lLkdvcmRvUmFtemVlOlxyXG4gICAgICAgIHJldHVybiBuZXcgR29yZG9SYW16ZWUocGxheWVyLCB0YW5rLCByYWlkLCBvbkRlYXRoQ2FsbGJhY2spO1xyXG4gICAgICBjYXNlIEJvc3NOYW1lLkRvbm55RnJ1bXA6XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEb25ueUZydW1wKHBsYXllciwgdGFuaywgcmFpZCwgb25EZWF0aENhbGxiYWNrKTtcclxuICAgICAgY2FzZSBCb3NzTmFtZS5FbG9uZ1R1c2s6XHJcbiAgICAgICAgcmV0dXJuIG5ldyBFbG9uZ1R1c2socGxheWVyLCB0YW5rLCByYWlkLCBvbkRlYXRoQ2FsbGJhY2spO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbmV3IEJvc3NGYWN0b3J5KCk7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///275\n')},1327:(__unused_webpack_module,exports)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.BossName = void 0;\r\nvar BossName;\r\n(function (BossName) {\r\n    BossName["GordoRamzee"] = "Gordo Ramzee";\r\n    BossName["DonnyFrump"] = "Donny Frump";\r\n    BossName["ElongTusk"] = "Elong Tusk";\r\n})(BossName = exports.BossName || (exports.BossName = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMyNy5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBQSxJQUFZLFFBSVg7QUFKRCxXQUFZLFFBQVE7SUFDbEIsd0NBQTRCO0lBQzVCLHNDQUEwQjtJQUMxQixvQ0FBd0I7QUFDMUIsQ0FBQyxFQUpXLFFBQVEsR0FBUixnQkFBUSxLQUFSLGdCQUFRLFFBSW5CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHMtcGxlYXNlLy4vdHMvQm9zc2VzL0Jvc3NOYW1lLnRzP2MxMWYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGVudW0gQm9zc05hbWUge1xyXG4gIEdvcmRvUmFtemVlID0gXCJHb3JkbyBSYW16ZWVcIixcclxuICBEb25ueUZydW1wID0gXCJEb25ueSBGcnVtcFwiLFxyXG4gIEVsb25nVHVzayA9IFwiRWxvbmcgVHVza1wiLFxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1327\n')},5119:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst Boss_1 = __importDefault(__webpack_require__(3717));\r\nconst Loop_1 = __importDefault(__webpack_require__(893));\r\nconst Loops_1 = __importDefault(__webpack_require__(7657));\r\nconst Random_1 = __importDefault(__webpack_require__(3640));\r\nconst Trigger_1 = __importDefault(__webpack_require__(6983));\r\nconst BossName_1 = __webpack_require__(1327);\r\nconst AngryTweet_1 = __importDefault(__webpack_require__(3469));\r\nconst Uncertainty_1 = __importDefault(__webpack_require__(649));\r\nconst Enrage_1 = __importDefault(__webpack_require__(9473));\r\n// The encounter begins and Donny Frump is not pleased people on Twitter are being mean to him.\r\n// He casts Uncertainty on the entire raid, a debuff that does damage over time and\r\n// does more damage as a party member\'s health decreases.\r\n// He targets the tank and does 15-20 damage every 2-4 seconds.\r\n// Every 10 seconds he sends an angry tweet, hitting 1-3 members of the party, damaging each between 6-20.\r\n// There\'s a 30% chance the tweet contains egregious misinformation, confusing affected party members further,\r\n// doubling their damage taken for 5 seconds.\r\n// At 20% health, he enrages, soiling his diaper, and all damage done to the tank is doubled.\r\nclass DonnyFrump extends Boss_1.default {\r\n    constructor(player, tank, raid, onDeathCallback) {\r\n        super(78558, player, tank, raid, onDeathCallback);\r\n        this._angryTweet = () => {\r\n            this._getAttackTankLoop().pause();\r\n            const numTargets = Random_1.default.fromIntegerIntervalInclusive(1, 3);\r\n            const angryTweetTargets = this._raid.getRandomMembers(numTargets, true /* allowPlayer */);\r\n            this.targets(angryTweetTargets);\r\n            const angryTweet = new AngryTweet_1.default(angryTweetTargets, () => {\r\n                this.finishCast(angryTweet);\r\n                this._targetTank();\r\n                this._getAttackTankLoop().resume();\r\n            });\r\n            this.cast(angryTweet);\r\n        };\r\n        this._attackTank = () => {\r\n            this._targetTank();\r\n            let attackTankAmount = Random_1.default.fromIntegerIntervalInclusive(15, 20);\r\n            if (this._isEnraged) {\r\n                attackTankAmount *= 2;\r\n            }\r\n            this._tank.harm(attackTankAmount);\r\n        };\r\n        this._castUncertainty = () => {\r\n            this.targets(this._raid.members);\r\n            const uncertainty = new Uncertainty_1.default(this._raid.members, () => {\r\n                this.finishCast(uncertainty);\r\n                this._targetTank();\r\n                this.start();\r\n            });\r\n            this.cast(uncertainty);\r\n        };\r\n        this._enrage = () => {\r\n            const enrage = new Enrage_1.default([], // No specific target\r\n            () => {\r\n                this._isEnraged = true;\r\n                this.finishCast(enrage);\r\n                this._targetTank();\r\n            });\r\n            this.cast(enrage);\r\n        };\r\n        this._getAttackTankLoop = () => {\r\n            return this.getLoop("Attack Tank");\r\n        };\r\n        this._targetTank = () => {\r\n            this.targets([this._tank]);\r\n        };\r\n        this.initialEvents = [];\r\n        this.initialTargets = [];\r\n        this.onDeathOfFriendly = (friendly) => {\r\n            if (friendly === this._tank) {\r\n                // The tank just died.\r\n                this.targets.remove(this._tank);\r\n                const remainingAlive = this._raid.getLivingMembers();\r\n                if (remainingAlive.length === 0) {\r\n                    this.stop();\r\n                    return;\r\n                }\r\n                if (remainingAlive.length === 1 && remainingAlive[0] === this._player) {\r\n                    // The player is the last one alive.\r\n                    this._tank = this._player;\r\n                }\r\n                else {\r\n                    // Choose some random DPS to become the new tank.\r\n                    this._tank = this._raid.getOneRandomNpc();\r\n                }\r\n                this.targets.push(this._tank);\r\n            }\r\n        };\r\n        this.name = BossName_1.BossName.DonnyFrump;\r\n        this._isEnraged = false;\r\n        this.loops = new Loops_1.default(new Loop_1.default("Attack Tank", this._attackTank, function () {\r\n            return 1000 * Random_1.default.fromIntegerIntervalInclusive(2, 4);\r\n        }), new Loop_1.default("Angry Tweet", this._angryTweet, 10000));\r\n        this.initialEvents = [this._castUncertainty];\r\n        this.initialTargets = [this._tank];\r\n        this.triggers = [\r\n            new Trigger_1.default((healthPercentage) => {\r\n                if (healthPercentage <= 20) {\r\n                    this._enrage();\r\n                    return true;\r\n                }\r\n                return false;\r\n            }),\r\n        ];\r\n    }\r\n}\r\nexports["default"] = DonnyFrump;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YUFDL0I7UUFDSCxDQUFDLENBQUM7UUFVQSxJQUFJLENBQUMsSUFBSSxHQUFHLG1CQUFRLENBQUMsVUFBVSxDQUFDO1FBQ2hDLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO1FBRXhCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxlQUFLLENBQ3BCLElBQUksY0FBSSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFO1lBQ3hDLE9BQU8sSUFBSSxHQUFHLGdCQUFNLENBQUMsNEJBQTRCLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzFELENBQUMsQ0FBQyxFQUNGLElBQUksY0FBSSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLEtBQUssQ0FBQyxDQUNqRCxDQUFDO1FBRUYsSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQzdDLElBQUksQ0FBQyxjQUFjLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkMsSUFBSSxDQUFDLFFBQVEsR0FBRztZQUNkLElBQUksaUJBQU8sQ0FBQyxDQUFDLGdCQUF3QixFQUFFLEVBQUU7Z0JBQ3ZDLElBQUksZ0JBQWdCLElBQUksRUFBRSxFQUFFO29CQUMxQixJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7b0JBQ2YsT0FBTyxJQUFJLENBQUM7aUJBQ2I7Z0JBRUQsT0FBTyxLQUFLLENBQUM7WUFDZixDQUFDLENBQUM7U0FDSCxDQUFDO0lBQ0osQ0FBQztDQUNGO0FBaElELGdDQWdJQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWxzLXBsZWFzZS8uL3RzL0Jvc3Nlcy9Eb25ueUZydW1wLnRzPzYwOWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJvc3MgZnJvbSBcInRzL0Jvc3NcIjtcclxuaW1wb3J0IEZyaWVuZGx5IGZyb20gXCJ0cy9GcmllbmRseVwiO1xyXG5pbXBvcnQgTG9vcCBmcm9tIFwidHMvTG9vcFwiO1xyXG5pbXBvcnQgTG9vcHMgZnJvbSBcInRzL0xvb3BzXCI7XHJcbmltcG9ydCBQYXJ0eSBmcm9tIFwidHMvUGFydHlcIjtcclxuaW1wb3J0IFBsYXllciBmcm9tIFwidHMvUGxheWVyXCI7XHJcbmltcG9ydCBSYW5kb20gZnJvbSBcInRzL1JhbmRvbVwiO1xyXG5pbXBvcnQgVHJpZ2dlciBmcm9tIFwidHMvVHJpZ2dlclwiO1xyXG5pbXBvcnQgeyBCb3NzTmFtZSB9IGZyb20gXCIuL0Jvc3NOYW1lXCI7XHJcbmltcG9ydCBBbmdyeVR3ZWV0IGZyb20gXCIuL0Rvbm55RnJ1bXAvQWN0aW9ucy9BbmdyeVR3ZWV0XCI7XHJcbmltcG9ydCBVbmNlcnRhaW50eSBmcm9tIFwiLi9Eb25ueUZydW1wL0FjdGlvbnMvVW5jZXJ0YWludHlcIjtcclxuaW1wb3J0IEVucmFnZSBmcm9tIFwiLi9TaGFyZWQvQWN0aW9ucy9FbnJhZ2VcIjtcclxuXHJcbi8vIFRoZSBlbmNvdW50ZXIgYmVnaW5zIGFuZCBEb25ueSBGcnVtcCBpcyBub3QgcGxlYXNlZCBwZW9wbGUgb24gVHdpdHRlciBhcmUgYmVpbmcgbWVhbiB0byBoaW0uXHJcbi8vIEhlIGNhc3RzIFVuY2VydGFpbnR5IG9uIHRoZSBlbnRpcmUgcmFpZCwgYSBkZWJ1ZmYgdGhhdCBkb2VzIGRhbWFnZSBvdmVyIHRpbWUgYW5kXHJcbi8vIGRvZXMgbW9yZSBkYW1hZ2UgYXMgYSBwYXJ0eSBtZW1iZXIncyBoZWFsdGggZGVjcmVhc2VzLlxyXG4vLyBIZSB0YXJnZXRzIHRoZSB0YW5rIGFuZCBkb2VzIDE1LTIwIGRhbWFnZSBldmVyeSAyLTQgc2Vjb25kcy5cclxuLy8gRXZlcnkgMTAgc2Vjb25kcyBoZSBzZW5kcyBhbiBhbmdyeSB0d2VldCwgaGl0dGluZyAxLTMgbWVtYmVycyBvZiB0aGUgcGFydHksIGRhbWFnaW5nIGVhY2ggYmV0d2VlbiA2LTIwLlxyXG4vLyBUaGVyZSdzIGEgMzAlIGNoYW5jZSB0aGUgdHdlZXQgY29udGFpbnMgZWdyZWdpb3VzIG1pc2luZm9ybWF0aW9uLCBjb25mdXNpbmcgYWZmZWN0ZWQgcGFydHkgbWVtYmVycyBmdXJ0aGVyLFxyXG4vLyBkb3VibGluZyB0aGVpciBkYW1hZ2UgdGFrZW4gZm9yIDUgc2Vjb25kcy5cclxuLy8gQXQgMjAlIGhlYWx0aCwgaGUgZW5yYWdlcywgc29pbGluZyBoaXMgZGlhcGVyLCBhbmQgYWxsIGRhbWFnZSBkb25lIHRvIHRoZSB0YW5rIGlzIGRvdWJsZWQuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERvbm55RnJ1bXAgZXh0ZW5kcyBCb3NzIHtcclxuICBwcml2YXRlIF9hbmdyeVR3ZWV0ID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fZ2V0QXR0YWNrVGFua0xvb3AoKS5wYXVzZSgpO1xyXG5cclxuICAgIGNvbnN0IG51bVRhcmdldHMgPSBSYW5kb20uZnJvbUludGVnZXJJbnRlcnZhbEluY2x1c2l2ZSgxLCAzKTtcclxuICAgIGNvbnN0IGFuZ3J5VHdlZXRUYXJnZXRzID0gdGhpcy5fcmFpZC5nZXRSYW5kb21NZW1iZXJzKFxyXG4gICAgICBudW1UYXJnZXRzLFxyXG4gICAgICB0cnVlIC8qIGFsbG93UGxheWVyICovXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMudGFyZ2V0cyhhbmdyeVR3ZWV0VGFyZ2V0cyk7XHJcblxyXG4gICAgY29uc3QgYW5ncnlUd2VldCA9IG5ldyBBbmdyeVR3ZWV0KGFuZ3J5VHdlZXRUYXJnZXRzLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuZmluaXNoQ2FzdChhbmdyeVR3ZWV0KTtcclxuICAgICAgdGhpcy5fdGFyZ2V0VGFuaygpO1xyXG4gICAgICB0aGlzLl9nZXRBdHRhY2tUYW5rTG9vcCgpLnJlc3VtZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5jYXN0KGFuZ3J5VHdlZXQpO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX2F0dGFja1RhbmsgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl90YXJnZXRUYW5rKCk7XHJcblxyXG4gICAgbGV0IGF0dGFja1RhbmtBbW91bnQgPSBSYW5kb20uZnJvbUludGVnZXJJbnRlcnZhbEluY2x1c2l2ZSgxNSwgMjApO1xyXG4gICAgaWYgKHRoaXMuX2lzRW5yYWdlZCkge1xyXG4gICAgICBhdHRhY2tUYW5rQW1vdW50ICo9IDI7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fdGFuay5oYXJtKGF0dGFja1RhbmtBbW91bnQpO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX2Nhc3RVbmNlcnRhaW50eSA9ICgpID0+IHtcclxuICAgIHRoaXMudGFyZ2V0cyh0aGlzLl9yYWlkLm1lbWJlcnMpO1xyXG5cclxuICAgIGNvbnN0IHVuY2VydGFpbnR5ID0gbmV3IFVuY2VydGFpbnR5KHRoaXMuX3JhaWQubWVtYmVycywgKCkgPT4ge1xyXG4gICAgICB0aGlzLmZpbmlzaENhc3QodW5jZXJ0YWludHkpO1xyXG4gICAgICB0aGlzLl90YXJnZXRUYW5rKCk7XHJcbiAgICAgIHRoaXMuc3RhcnQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuY2FzdCh1bmNlcnRhaW50eSk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBfZW5yYWdlID0gKCkgPT4ge1xyXG4gICAgY29uc3QgZW5yYWdlID0gbmV3IEVucmFnZShcclxuICAgICAgW10sIC8vIE5vIHNwZWNpZmljIHRhcmdldFxyXG4gICAgICAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faXNFbnJhZ2VkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5maW5pc2hDYXN0KGVucmFnZSk7XHJcbiAgICAgICAgdGhpcy5fdGFyZ2V0VGFuaygpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuY2FzdChlbnJhZ2UpO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX2dldEF0dGFja1RhbmtMb29wID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZ2V0TG9vcChcIkF0dGFjayBUYW5rXCIpO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX2lzRW5yYWdlZDogYm9vbGVhbjtcclxuICBwcml2YXRlIF90YXJnZXRUYW5rID0gKCkgPT4ge1xyXG4gICAgdGhpcy50YXJnZXRzKFt0aGlzLl90YW5rXSk7XHJcbiAgfTtcclxuXHJcbiAgcHJvdGVjdGVkIGluaXRpYWxFdmVudHM6ICgoKSA9PiB2b2lkKVtdID0gW107XHJcbiAgcHJvdGVjdGVkIGluaXRpYWxUYXJnZXRzOiBGcmllbmRseVtdID0gW107XHJcbiAgcHJvdGVjdGVkIGxvb3BzOiBMb29wcztcclxuICBwcm90ZWN0ZWQgdHJpZ2dlcnM6IFRyaWdnZXJbXTtcclxuXHJcbiAgbmFtZTogQm9zc05hbWU7XHJcbiAgb25EZWF0aE9mRnJpZW5kbHkgPSAoZnJpZW5kbHk6IEZyaWVuZGx5KSA9PiB7XHJcbiAgICBpZiAoZnJpZW5kbHkgPT09IHRoaXMuX3RhbmspIHtcclxuICAgICAgLy8gVGhlIHRhbmsganVzdCBkaWVkLlxyXG5cclxuICAgICAgdGhpcy50YXJnZXRzLnJlbW92ZSh0aGlzLl90YW5rKTtcclxuXHJcbiAgICAgIGNvbnN0IHJlbWFpbmluZ0FsaXZlID0gdGhpcy5fcmFpZC5nZXRMaXZpbmdNZW1iZXJzKCk7XHJcbiAgICAgIGlmIChyZW1haW5pbmdBbGl2ZS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChyZW1haW5pbmdBbGl2ZS5sZW5ndGggPT09IDEgJiYgcmVtYWluaW5nQWxpdmVbMF0gPT09IHRoaXMuX3BsYXllcikge1xyXG4gICAgICAgIC8vIFRoZSBwbGF5ZXIgaXMgdGhlIGxhc3Qgb25lIGFsaXZlLlxyXG4gICAgICAgIHRoaXMuX3RhbmsgPSB0aGlzLl9wbGF5ZXI7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gQ2hvb3NlIHNvbWUgcmFuZG9tIERQUyB0byBiZWNvbWUgdGhlIG5ldyB0YW5rLlxyXG4gICAgICAgIHRoaXMuX3RhbmsgPSB0aGlzLl9yYWlkLmdldE9uZVJhbmRvbU5wYygpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnRhcmdldHMucHVzaCh0aGlzLl90YW5rKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHBsYXllcjogUGxheWVyLFxyXG4gICAgdGFuazogRnJpZW5kbHksXHJcbiAgICByYWlkOiBQYXJ0eSxcclxuICAgIG9uRGVhdGhDYWxsYmFjazogKCkgPT4gdm9pZFxyXG4gICkge1xyXG4gICAgc3VwZXIoNzg1NTgsIHBsYXllciwgdGFuaywgcmFpZCwgb25EZWF0aENhbGxiYWNrKTtcclxuXHJcbiAgICB0aGlzLm5hbWUgPSBCb3NzTmFtZS5Eb25ueUZydW1wO1xyXG4gICAgdGhpcy5faXNFbnJhZ2VkID0gZmFsc2U7XHJcblxyXG4gICAgdGhpcy5sb29wcyA9IG5ldyBMb29wcyhcclxuICAgICAgbmV3IExvb3AoXCJBdHRhY2sgVGFua1wiLCB0aGlzLl9hdHRhY2tUYW5rLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIDEwMDAgKiBSYW5kb20uZnJvbUludGVnZXJJbnRlcnZhbEluY2x1c2l2ZSgyLCA0KTtcclxuICAgICAgfSksXHJcbiAgICAgIG5ldyBMb29wKFwiQW5ncnkgVHdlZXRcIiwgdGhpcy5fYW5ncnlUd2VldCwgMTAwMDApXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuaW5pdGlhbEV2ZW50cyA9IFt0aGlzLl9jYXN0VW5jZXJ0YWludHldO1xyXG4gICAgdGhpcy5pbml0aWFsVGFyZ2V0cyA9IFt0aGlzLl90YW5rXTtcclxuICAgIHRoaXMudHJpZ2dlcnMgPSBbXHJcbiAgICAgIG5ldyBUcmlnZ2VyKChoZWFsdGhQZXJjZW50YWdlOiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAoaGVhbHRoUGVyY2VudGFnZSA8PSAyMCkge1xyXG4gICAgICAgICAgdGhpcy5fZW5yYWdlKCk7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfSksXHJcbiAgICBdO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5119\n')},3469:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst Action_1 = __importDefault(__webpack_require__(5942));\r\nconst Animations_1 = __importDefault(__webpack_require__(9454));\r\nconst Debuff_1 = __importDefault(__webpack_require__(5584));\r\nconst DebuffName_1 = __webpack_require__(8017);\r\nconst DebuffType_1 = __webpack_require__(1660);\r\nconst Random_1 = __importDefault(__webpack_require__(3640));\r\nclass AngryTweet extends Action_1.default {\r\n    constructor(targets, onSuccess) {\r\n        super("Angry Tweet");\r\n        this._cast = () => {\r\n            this.targets.forEach((target) => {\r\n                const harmAmount = Random_1.default.fromIntegerIntervalInclusive(6, 20);\r\n                target.harm(harmAmount);\r\n                if (!target.isDead() && Math.random() < 0.3) {\r\n                    const confusionDebuff = new Debuff_1.default({\r\n                        name: DebuffName_1.DebuffName.Confusion,\r\n                        description: "Damage taken is doubled for 5 seconds.",\r\n                        type: DebuffType_1.DebuffType.IncreaseDamageTaken,\r\n                        duration: 5000,\r\n                        target: target,\r\n                        harmEffect: (target, damage) => {\r\n                            // Damage taken is doubled.\r\n                            return damage * 2.0;\r\n                        },\r\n                    });\r\n                    target.applyDebuff(confusionDebuff);\r\n                }\r\n            });\r\n        };\r\n        this._complete = () => {\r\n            this._cast();\r\n            this._onSuccess();\r\n        };\r\n        this.targets = targets;\r\n        this._onSuccess = onSuccess;\r\n        const wrapper = { ...Animations_1.default.fullWidth2000 };\r\n        wrapper.animation.options.complete = this._complete;\r\n        this.animation = [wrapper.animation];\r\n    }\r\n}\r\nexports["default"] = AngryTweet;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQ2OS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLDREQUErQjtBQUUvQixnRUFBdUM7QUFDdkMsNERBQStCO0FBQy9CLCtDQUEyQztBQUMzQywrQ0FBMkM7QUFFM0MsNERBQStCO0FBRS9CLE1BQXFCLFVBQVcsU0FBUSxnQkFBTTtJQWtDNUMsWUFBWSxPQUFtQixFQUFFLFNBQXFCO1FBQ3BELEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQztRQWxDZixVQUFLLEdBQUcsR0FBRyxFQUFFO1lBQ25CLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBZ0IsRUFBRSxFQUFFO2dCQUN4QyxNQUFNLFVBQVUsR0FBRyxnQkFBTSxDQUFDLDRCQUE0QixDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztnQkFDOUQsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFFeEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsR0FBRyxFQUFFO29CQUMzQyxNQUFNLGVBQWUsR0FBRyxJQUFJLGdCQUFNLENBQUM7d0JBQ2pDLElBQUksRUFBRSx1QkFBVSxDQUFDLFNBQVM7d0JBQzFCLFdBQVcsRUFBRSx3Q0FBd0M7d0JBQ3JELElBQUksRUFBRSx1QkFBVSxDQUFDLG1CQUFtQjt3QkFDcEMsUUFBUSxFQUFFLElBQUk7d0JBQ2QsTUFBTSxFQUFFLE1BQU07d0JBQ2QsVUFBVSxFQUFFLENBQUMsTUFBZ0IsRUFBRSxNQUFjLEVBQVUsRUFBRTs0QkFDdkQsMkJBQTJCOzRCQUMzQixPQUFPLE1BQU0sR0FBRyxHQUFHLENBQUM7d0JBQ3RCLENBQUM7cUJBQ0YsQ0FBQyxDQUFDO29CQUVILE1BQU0sQ0FBQyxXQUFXLENBQUMsZUFBZSxDQUFDLENBQUM7aUJBQ3JDO1lBQ0gsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUM7UUFFTSxjQUFTLEdBQUcsR0FBRyxFQUFFO1lBQ3ZCLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNiLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUNwQixDQUFDLENBQUM7UUFVQSxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN2QixJQUFJLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQztRQUU1QixNQUFNLE9BQU8sR0FBcUIsRUFBRSxHQUFHLG9CQUFVLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDbEUsT0FBTyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7UUFFcEQsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUN2QyxDQUFDO0NBQ0Y7QUE3Q0QsZ0NBNkNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHMtcGxlYXNlLy4vdHMvQm9zc2VzL0Rvbm55RnJ1bXAvQWN0aW9ucy9BbmdyeVR3ZWV0LnRzP2MxNzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFjdGlvbiBmcm9tIFwidHMvQWN0aW9uXCI7XHJcbmltcG9ydCB7IEFuaW1hdGlvbiwgQW5pbWF0aW9uV3JhcHBlciB9IGZyb20gXCJ0cy9BbmltYXRpb25cIjtcclxuaW1wb3J0IEFuaW1hdGlvbnMgZnJvbSBcInRzL0FuaW1hdGlvbnNcIjtcclxuaW1wb3J0IERlYnVmZiBmcm9tIFwidHMvRGVidWZmXCI7XHJcbmltcG9ydCB7IERlYnVmZk5hbWUgfSBmcm9tIFwidHMvRGVidWZmTmFtZVwiO1xyXG5pbXBvcnQgeyBEZWJ1ZmZUeXBlIH0gZnJvbSBcInRzL0RlYnVmZlR5cGVcIjtcclxuaW1wb3J0IEZyaWVuZGx5IGZyb20gXCJ0cy9GcmllbmRseVwiO1xyXG5pbXBvcnQgUmFuZG9tIGZyb20gXCJ0cy9SYW5kb21cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFuZ3J5VHdlZXQgZXh0ZW5kcyBBY3Rpb24ge1xyXG4gIHByaXZhdGUgX2Nhc3QgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnRhcmdldHMuZm9yRWFjaCgodGFyZ2V0OiBGcmllbmRseSkgPT4ge1xyXG4gICAgICBjb25zdCBoYXJtQW1vdW50ID0gUmFuZG9tLmZyb21JbnRlZ2VySW50ZXJ2YWxJbmNsdXNpdmUoNiwgMjApO1xyXG4gICAgICB0YXJnZXQuaGFybShoYXJtQW1vdW50KTtcclxuXHJcbiAgICAgIGlmICghdGFyZ2V0LmlzRGVhZCgpICYmIE1hdGgucmFuZG9tKCkgPCAwLjMpIHtcclxuICAgICAgICBjb25zdCBjb25mdXNpb25EZWJ1ZmYgPSBuZXcgRGVidWZmKHtcclxuICAgICAgICAgIG5hbWU6IERlYnVmZk5hbWUuQ29uZnVzaW9uLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiRGFtYWdlIHRha2VuIGlzIGRvdWJsZWQgZm9yIDUgc2Vjb25kcy5cIixcclxuICAgICAgICAgIHR5cGU6IERlYnVmZlR5cGUuSW5jcmVhc2VEYW1hZ2VUYWtlbixcclxuICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLFxyXG4gICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXHJcbiAgICAgICAgICBoYXJtRWZmZWN0OiAodGFyZ2V0OiBGcmllbmRseSwgZGFtYWdlOiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgICAgICAgICAvLyBEYW1hZ2UgdGFrZW4gaXMgZG91YmxlZC5cclxuICAgICAgICAgICAgcmV0dXJuIGRhbWFnZSAqIDIuMDtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRhcmdldC5hcHBseURlYnVmZihjb25mdXNpb25EZWJ1ZmYpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9jb21wbGV0ZSA9ICgpID0+IHtcclxuICAgIHRoaXMuX2Nhc3QoKTtcclxuICAgIHRoaXMuX29uU3VjY2VzcygpO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX29uU3VjY2VzczogKCkgPT4gdm9pZDtcclxuXHJcbiAgYW5pbWF0aW9uOiBBbmltYXRpb25bXTtcclxuICB0YXJnZXRzOiBGcmllbmRseVtdO1xyXG5cclxuICBjb25zdHJ1Y3Rvcih0YXJnZXRzOiBGcmllbmRseVtdLCBvblN1Y2Nlc3M6ICgpID0+IHZvaWQpIHtcclxuICAgIHN1cGVyKFwiQW5ncnkgVHdlZXRcIik7XHJcblxyXG4gICAgdGhpcy50YXJnZXRzID0gdGFyZ2V0cztcclxuICAgIHRoaXMuX29uU3VjY2VzcyA9IG9uU3VjY2VzcztcclxuXHJcbiAgICBjb25zdCB3cmFwcGVyOiBBbmltYXRpb25XcmFwcGVyID0geyAuLi5BbmltYXRpb25zLmZ1bGxXaWR0aDIwMDAgfTtcclxuICAgIHdyYXBwZXIuYW5pbWF0aW9uLm9wdGlvbnMuY29tcGxldGUgPSB0aGlzLl9jb21wbGV0ZTtcclxuXHJcbiAgICB0aGlzLmFuaW1hdGlvbiA9IFt3cmFwcGVyLmFuaW1hdGlvbl07XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3469\n')},649:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst Action_1 = __importDefault(__webpack_require__(5942));\r\nconst Animations_1 = __importDefault(__webpack_require__(9454));\r\nconst DebuffName_1 = __webpack_require__(8017);\r\nconst DotDebuff_1 = __importDefault(__webpack_require__(7966));\r\nclass Uncertainty extends Action_1.default {\r\n    constructor(targets, onSuccess) {\r\n        super("Uncertainty");\r\n        this._cast = () => {\r\n            this.targets.forEach((target) => {\r\n                const uncertaintyDebuff = new DotDebuff_1.default({\r\n                    name: DebuffName_1.DebuffName.Uncertainty,\r\n                    description: "Target can\'t tell what\'s true anymore. At full health, target takes 1 damage every 2 seconds. Increases to 5 per 2 seconds when near death.",\r\n                    interval: 2000,\r\n                    duration: -1,\r\n                    target: target,\r\n                    harmEffect: (target, harmAmount) => {\r\n                        target.harm(harmAmount);\r\n                        return harmAmount;\r\n                    },\r\n                    getHarmAmount: (uncertaintyTarget) => {\r\n                        // 1 dps @ 100% health\r\n                        // 5 dps @ 0% health\r\n                        return Math.round(-4 * uncertaintyTarget.healthPercentage() + 5);\r\n                    },\r\n                });\r\n                target.applyDebuff(uncertaintyDebuff);\r\n            });\r\n        };\r\n        this._complete = () => {\r\n            this._cast();\r\n            this._onSuccess();\r\n        };\r\n        this.targets = targets;\r\n        this._onSuccess = onSuccess;\r\n        const wrapper = { ...Animations_1.default.fullWidth2000 };\r\n        wrapper.animation.options.complete = this._complete;\r\n        this.animation = [wrapper.animation];\r\n    }\r\n}\r\nexports["default"] = Uncertainty;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQ5LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsNERBQStCO0FBRS9CLGdFQUF1QztBQUN2QywrQ0FBMkM7QUFDM0MsK0RBQXFDO0FBR3JDLE1BQXFCLFdBQVksU0FBUSxnQkFBTTtJQW1DN0MsWUFBWSxPQUFtQixFQUFFLFNBQXFCO1FBQ3BELEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQztRQW5DZixVQUFLLEdBQUcsR0FBRyxFQUFFO1lBQ25CLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBZ0IsRUFBRSxFQUFFO2dCQUN4QyxNQUFNLGlCQUFpQixHQUFHLElBQUksbUJBQVMsQ0FBQztvQkFDdEMsSUFBSSxFQUFFLHVCQUFVLENBQUMsV0FBVztvQkFDNUIsV0FBVyxFQUNULDZJQUE2STtvQkFDL0ksUUFBUSxFQUFFLElBQUk7b0JBQ2QsUUFBUSxFQUFFLENBQUMsQ0FBQztvQkFDWixNQUFNLEVBQUUsTUFBTTtvQkFDZCxVQUFVLEVBQUUsQ0FBQyxNQUFnQixFQUFFLFVBQWtCLEVBQVUsRUFBRTt3QkFDM0QsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQzt3QkFDeEIsT0FBTyxVQUFVLENBQUM7b0JBQ3BCLENBQUM7b0JBQ0QsYUFBYSxFQUFFLENBQUMsaUJBQTJCLEVBQVUsRUFBRTt3QkFDckQsc0JBQXNCO3dCQUN0QixvQkFBb0I7d0JBQ3BCLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxpQkFBaUIsQ0FBQyxnQkFBZ0IsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO29CQUNuRSxDQUFDO2lCQUNGLENBQUMsQ0FBQztnQkFFSCxNQUFNLENBQUMsV0FBVyxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDeEMsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUM7UUFFTSxjQUFTLEdBQUcsR0FBRyxFQUFFO1lBQ3ZCLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNiLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUNwQixDQUFDLENBQUM7UUFVQSxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN2QixJQUFJLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQztRQUU1QixNQUFNLE9BQU8sR0FBcUIsRUFBRSxHQUFHLG9CQUFVLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDbEUsT0FBTyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7UUFFcEQsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUN2QyxDQUFDO0NBQ0Y7QUE5Q0QsaUNBOENDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHMtcGxlYXNlLy4vdHMvQm9zc2VzL0Rvbm55RnJ1bXAvQWN0aW9ucy9VbmNlcnRhaW50eS50cz9lZGQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBY3Rpb24gZnJvbSBcInRzL0FjdGlvblwiO1xyXG5pbXBvcnQgeyBBbmltYXRpb24sIEFuaW1hdGlvbldyYXBwZXIgfSBmcm9tIFwidHMvQW5pbWF0aW9uXCI7XHJcbmltcG9ydCBBbmltYXRpb25zIGZyb20gXCJ0cy9BbmltYXRpb25zXCI7XHJcbmltcG9ydCB7IERlYnVmZk5hbWUgfSBmcm9tIFwidHMvRGVidWZmTmFtZVwiO1xyXG5pbXBvcnQgRG90RGVidWZmIGZyb20gXCJ0cy9Eb3REZWJ1ZmZcIjtcclxuaW1wb3J0IEZyaWVuZGx5IGZyb20gXCJ0cy9GcmllbmRseVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVW5jZXJ0YWludHkgZXh0ZW5kcyBBY3Rpb24ge1xyXG4gIHByaXZhdGUgX2Nhc3QgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnRhcmdldHMuZm9yRWFjaCgodGFyZ2V0OiBGcmllbmRseSkgPT4ge1xyXG4gICAgICBjb25zdCB1bmNlcnRhaW50eURlYnVmZiA9IG5ldyBEb3REZWJ1ZmYoe1xyXG4gICAgICAgIG5hbWU6IERlYnVmZk5hbWUuVW5jZXJ0YWludHksXHJcbiAgICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgICBcIlRhcmdldCBjYW4ndCB0ZWxsIHdoYXQncyB0cnVlIGFueW1vcmUuIEF0IGZ1bGwgaGVhbHRoLCB0YXJnZXQgdGFrZXMgMSBkYW1hZ2UgZXZlcnkgMiBzZWNvbmRzLiBJbmNyZWFzZXMgdG8gNSBwZXIgMiBzZWNvbmRzIHdoZW4gbmVhciBkZWF0aC5cIixcclxuICAgICAgICBpbnRlcnZhbDogMjAwMCxcclxuICAgICAgICBkdXJhdGlvbjogLTEsXHJcbiAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXHJcbiAgICAgICAgaGFybUVmZmVjdDogKHRhcmdldDogRnJpZW5kbHksIGhhcm1BbW91bnQ6IG51bWJlcik6IG51bWJlciA9PiB7XHJcbiAgICAgICAgICB0YXJnZXQuaGFybShoYXJtQW1vdW50KTtcclxuICAgICAgICAgIHJldHVybiBoYXJtQW1vdW50O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0SGFybUFtb3VudDogKHVuY2VydGFpbnR5VGFyZ2V0OiBGcmllbmRseSk6IG51bWJlciA9PiB7XHJcbiAgICAgICAgICAvLyAxIGRwcyBAIDEwMCUgaGVhbHRoXHJcbiAgICAgICAgICAvLyA1IGRwcyBAIDAlIGhlYWx0aFxyXG4gICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoLTQgKiB1bmNlcnRhaW50eVRhcmdldC5oZWFsdGhQZXJjZW50YWdlKCkgKyA1KTtcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRhcmdldC5hcHBseURlYnVmZih1bmNlcnRhaW50eURlYnVmZik7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9jb21wbGV0ZSA9ICgpID0+IHtcclxuICAgIHRoaXMuX2Nhc3QoKTtcclxuICAgIHRoaXMuX29uU3VjY2VzcygpO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX29uU3VjY2VzczogKCkgPT4gdm9pZDtcclxuXHJcbiAgYW5pbWF0aW9uOiBBbmltYXRpb25bXTtcclxuICB0YXJnZXRzOiBGcmllbmRseVtdO1xyXG5cclxuICBjb25zdHJ1Y3Rvcih0YXJnZXRzOiBGcmllbmRseVtdLCBvblN1Y2Nlc3M6ICgpID0+IHZvaWQpIHtcclxuICAgIHN1cGVyKFwiVW5jZXJ0YWludHlcIik7XHJcblxyXG4gICAgdGhpcy50YXJnZXRzID0gdGFyZ2V0cztcclxuICAgIHRoaXMuX29uU3VjY2VzcyA9IG9uU3VjY2VzcztcclxuXHJcbiAgICBjb25zdCB3cmFwcGVyOiBBbmltYXRpb25XcmFwcGVyID0geyAuLi5BbmltYXRpb25zLmZ1bGxXaWR0aDIwMDAgfTtcclxuICAgIHdyYXBwZXIuYW5pbWF0aW9uLm9wdGlvbnMuY29tcGxldGUgPSB0aGlzLl9jb21wbGV0ZTtcclxuXHJcbiAgICB0aGlzLmFuaW1hdGlvbiA9IFt3cmFwcGVyLmFuaW1hdGlvbl07XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///649\n')},5036:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst Boss_1 = __importDefault(__webpack_require__(3717));\r\nconst Loop_1 = __importDefault(__webpack_require__(893));\r\nconst Loops_1 = __importDefault(__webpack_require__(7657));\r\nconst Random_1 = __importDefault(__webpack_require__(3640));\r\nconst Trigger_1 = __importDefault(__webpack_require__(6983));\r\nconst BossName_1 = __webpack_require__(1327);\r\nconst Gore_1 = __importDefault(__webpack_require__(7647));\r\nconst Stomp_1 = __importDefault(__webpack_require__(6746));\r\nconst Enrage_1 = __importDefault(__webpack_require__(9473));\r\n// The encounter begins and Elong Tusk is displeased his company stock value dropped significantly.\r\n// He targets the tank and does 8-12 damage every 1-2 seconds.\r\n// Every 12 seconds, he gores one party member with his long tusk, damaging them between 24-42.\r\n// Gored party members will bleed for 4 damage every second until healed to full.\r\n// Immediately after goring, he will stomp his feet, damaging all members of the party for 16-28, and silencing the player if they are casting.\r\n// At 20% health, he enrages and all damage done to the tank is doubled.\r\nclass ElongTusk extends Boss_1.default {\r\n    constructor(player, tank, raid, onDeathCallback) {\r\n        super(102420, player, tank, raid, onDeathCallback);\r\n        this._attackTank = () => {\r\n            this._targetTank();\r\n            let attackTankAmount = Random_1.default.fromIntegerIntervalInclusive(8, 12);\r\n            if (this._isEnraged) {\r\n                attackTankAmount *= 2;\r\n            }\r\n            this._tank.harm(attackTankAmount);\r\n        };\r\n        this._enrage = () => {\r\n            const enrage = new Enrage_1.default([], // No specific target\r\n            () => {\r\n                this._isEnraged = true;\r\n                this.finishCast(enrage);\r\n                this._targetTank();\r\n            });\r\n            this.cast(enrage);\r\n        };\r\n        this._getAttackTankLoop = () => {\r\n            return this.getLoop("Attack Tank");\r\n        };\r\n        this._targetTank = () => {\r\n            this.targets([this._tank]);\r\n        };\r\n        this._gore = () => {\r\n            this._getAttackTankLoop().pause();\r\n            const goreTargets = this._raid.getRandomMembers(1, true /* allowPlayer */);\r\n            this.targets(goreTargets);\r\n            const gore = new Gore_1.default(goreTargets, () => {\r\n                this.finishCast(gore);\r\n                this._targetTank();\r\n                this._getAttackTankLoop().resume();\r\n                this._stomp();\r\n            });\r\n            this.cast(gore);\r\n        };\r\n        this._stomp = () => {\r\n            if (this._player.isDead()) {\r\n                return;\r\n            }\r\n            this._getAttackTankLoop().pause();\r\n            const stompTargets = this._raid.members;\r\n            this.targets(stompTargets);\r\n            const stomp = new Stomp_1.default(stompTargets, () => {\r\n                this.finishCast(stomp);\r\n                this._targetTank();\r\n                this._getAttackTankLoop().resume();\r\n            });\r\n            this.cast(stomp);\r\n        };\r\n        this.initialEvents = [];\r\n        this.initialTargets = [];\r\n        this.onDeathOfFriendly = (friendly) => {\r\n            if (friendly === this._tank) {\r\n                // The tank just died.\r\n                this.targets.remove(this._tank);\r\n                const remainingAlive = this._raid.getLivingMembers();\r\n                if (remainingAlive.length === 0) {\r\n                    this.stop();\r\n                    return;\r\n                }\r\n                if (remainingAlive.length === 1 && remainingAlive[0] === this._player) {\r\n                    // The player is the last one alive.\r\n                    this._tank = this._player;\r\n                }\r\n                else {\r\n                    // Choose some random DPS to become the new tank.\r\n                    this._tank = this._raid.getOneRandomNpc();\r\n                }\r\n                this.targets.push(this._tank);\r\n            }\r\n        };\r\n        this.name = BossName_1.BossName.ElongTusk;\r\n        this._isEnraged = false;\r\n        this.loops = new Loops_1.default(new Loop_1.default("Attack Tank", this._attackTank, function () {\r\n            return 1000 * Random_1.default.fromIntegerIntervalInclusive(2, 4);\r\n        }), new Loop_1.default("Gore", this._gore, 12000));\r\n        this.initialTargets = [this._tank];\r\n        this.triggers = [\r\n            new Trigger_1.default((healthPercentage) => {\r\n                if (healthPercentage <= 20) {\r\n                    this._enrage();\r\n                    return true;\r\n                }\r\n                return false;\r\n            }),\r\n        ];\r\n    }\r\n}\r\nexports["default"] = ElongTusk;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTAzNi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLDBEQUEyQjtBQUUzQix5REFBMkI7QUFDM0IsMkRBQTZCO0FBRzdCLDREQUErQjtBQUMvQiw2REFBaUM7QUFDakMsNkNBQXNDO0FBQ3RDLDBEQUErQztBQUMvQywyREFBaUQ7QUFDakQsNERBQTZDO0FBRTdDLG1HQUFtRztBQUNuRyw4REFBOEQ7QUFDOUQsK0ZBQStGO0FBQy9GLGlGQUFpRjtBQUNqRiwrSUFBK0k7QUFDL0ksd0VBQXdFO0FBQ3hFLE1BQXFCLFNBQVUsU0FBUSxjQUFJO0lBb0d6QyxZQUNFLE1BQWMsRUFDZCxJQUFjLEVBQ2QsSUFBVyxFQUNYLGVBQTJCO1FBRTNCLEtBQUssQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsZUFBZSxDQUFDLENBQUM7UUF6RzdDLGdCQUFXLEdBQUcsR0FBRyxFQUFFO1lBQ3pCLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUVuQixJQUFJLGdCQUFnQixHQUFHLGdCQUFNLENBQUMsNEJBQTRCLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ2xFLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtnQkFDbkIsZ0JBQWdCLElBQUksQ0FBQyxDQUFDO2FBQ3ZCO1lBRUQsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUNwQyxDQUFDLENBQUM7UUFFTSxZQUFPLEdBQUcsR0FBRyxFQUFFO1lBQ3JCLE1BQU0sTUFBTSxHQUFHLElBQUksZ0JBQU0sQ0FDdkIsRUFBRSxFQUFFLHFCQUFxQjtZQUN6QixHQUFHLEVBQUU7Z0JBQ0gsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7Z0JBRXZCLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ3hCLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUNyQixDQUFDLENBQ0YsQ0FBQztZQUVGLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDcEIsQ0FBQyxDQUFDO1FBRU0sdUJBQWtCLEdBQUcsR0FBRyxFQUFFO1lBQ2hDLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUNyQyxDQUFDLENBQUM7UUFHTSxnQkFBVyxHQUFHLEdBQUcsRUFBRTtZQUN6QixJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDN0IsQ0FBQyxDQUFDO1FBRU0sVUFBSyxHQUFHLEdBQUcsRUFBRTtZQUNuQixJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUVsQyxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUMzRSxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBRTFCLE1BQU0sSUFBSSxHQUFHLElBQUksY0FBSSxDQUFDLFdBQVcsRUFBRSxHQUFHLEVBQUU7Z0JBQ3RDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ3RCLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztnQkFDbkIsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUMsTUFBTSxFQUFFLENBQUM7Z0JBQ25DLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNoQixDQUFDLENBQUMsQ0FBQztZQUVILElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbEIsQ0FBQyxDQUFDO1FBRU0sV0FBTSxHQUFHLEdBQUcsRUFBRTtZQUNwQixJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLEVBQUU7Z0JBQ3pCLE9BQU87YUFDUjtZQUVELElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO1lBRWxDLE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDO1lBQ3hDLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUM7WUFFM0IsTUFBTSxLQUFLLEdBQUcsSUFBSSxlQUFLLENBQUMsWUFBWSxFQUFFLEdBQUcsRUFBRTtnQkFDekMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDdkIsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO2dCQUNuQixJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNyQyxDQUFDLENBQUMsQ0FBQztZQUVILElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkIsQ0FBQyxDQUFDO1FBRVEsa0JBQWEsR0FBbUIsRUFBRSxDQUFDO1FBQ25DLG1CQUFjLEdBQWUsRUFBRSxDQUFDO1FBSzFDLHNCQUFpQixHQUFHLENBQUMsUUFBa0IsRUFBUSxFQUFFO1lBQy9DLElBQUksUUFBUSxLQUFLLElBQUksQ0FBQyxLQUFLLEVBQUU7Z0JBQzNCLHNCQUFzQjtnQkFFdEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUVoQyxNQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGdCQUFnQixFQUFFLENBQUM7Z0JBQ3JELElBQUksY0FBYyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7b0JBQy9CLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztvQkFDWixPQUFPO2lCQUNSO2dCQUVELElBQUksY0FBYyxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksY0FBYyxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxPQUFPLEVBQUU7b0JBQ3JFLG9DQUFvQztvQkFDcEMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO2lCQUMzQjtxQkFBTTtvQkFDTCxpREFBaUQ7b0JBQ2pELElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLEVBQUUsQ0FBQztpQkFDM0M7Z0JBRUQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQy9CO1FBQ0gsQ0FBQyxDQUFDO1FBVUEsSUFBSSxDQUFDLElBQUksR0FBRyxtQkFBUSxDQUFDLFNBQVMsQ0FBQztRQUMvQixJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztRQUV4QixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksZUFBSyxDQUNwQixJQUFJLGNBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLFdBQVcsRUFBRTtZQUN4QyxPQUFPLElBQUksR0FBRyxnQkFBTSxDQUFDLDRCQUE0QixDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUMxRCxDQUFDLENBQUMsRUFDRixJQUFJLGNBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FDcEMsQ0FBQztRQUVGLElBQUksQ0FBQyxjQUFjLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkMsSUFBSSxDQUFDLFFBQVEsR0FBRztZQUNkLElBQUksaUJBQU8sQ0FBQyxDQUFDLGdCQUF3QixFQUFFLEVBQUU7Z0JBQ3ZDLElBQUksZ0JBQWdCLElBQUksRUFBRSxFQUFFO29CQUMxQixJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7b0JBQ2YsT0FBTyxJQUFJLENBQUM7aUJBQ2I7Z0JBRUQsT0FBTyxLQUFLLENBQUM7WUFDZixDQUFDLENBQUM7U0FDSCxDQUFDO0lBQ0osQ0FBQztDQUNGO0FBbElELCtCQWtJQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWxzLXBsZWFzZS8uL3RzL0Jvc3Nlcy9FbG9uZ1R1c2sudHM/Mjg3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQm9zcyBmcm9tIFwidHMvQm9zc1wiO1xyXG5pbXBvcnQgRnJpZW5kbHkgZnJvbSBcInRzL0ZyaWVuZGx5XCI7XHJcbmltcG9ydCBMb29wIGZyb20gXCJ0cy9Mb29wXCI7XHJcbmltcG9ydCBMb29wcyBmcm9tIFwidHMvTG9vcHNcIjtcclxuaW1wb3J0IFBhcnR5IGZyb20gXCJ0cy9QYXJ0eVwiO1xyXG5pbXBvcnQgUGxheWVyIGZyb20gXCJ0cy9QbGF5ZXJcIjtcclxuaW1wb3J0IFJhbmRvbSBmcm9tIFwidHMvUmFuZG9tXCI7XHJcbmltcG9ydCBUcmlnZ2VyIGZyb20gXCJ0cy9UcmlnZ2VyXCI7XHJcbmltcG9ydCB7IEJvc3NOYW1lIH0gZnJvbSBcIi4vQm9zc05hbWVcIjtcclxuaW1wb3J0IEdvcmUgZnJvbSBcIi4vRWxvbmdUdXNrL0FjdGlvbnMudHMvR29yZVwiO1xyXG5pbXBvcnQgU3RvbXAgZnJvbSBcIi4vRWxvbmdUdXNrL0FjdGlvbnMudHMvU3RvbXBcIjtcclxuaW1wb3J0IEVucmFnZSBmcm9tIFwiLi9TaGFyZWQvQWN0aW9ucy9FbnJhZ2VcIjtcclxuXHJcbi8vIFRoZSBlbmNvdW50ZXIgYmVnaW5zIGFuZCBFbG9uZyBUdXNrIGlzIGRpc3BsZWFzZWQgaGlzIGNvbXBhbnkgc3RvY2sgdmFsdWUgZHJvcHBlZCBzaWduaWZpY2FudGx5LlxyXG4vLyBIZSB0YXJnZXRzIHRoZSB0YW5rIGFuZCBkb2VzIDgtMTIgZGFtYWdlIGV2ZXJ5IDEtMiBzZWNvbmRzLlxyXG4vLyBFdmVyeSAxMiBzZWNvbmRzLCBoZSBnb3JlcyBvbmUgcGFydHkgbWVtYmVyIHdpdGggaGlzIGxvbmcgdHVzaywgZGFtYWdpbmcgdGhlbSBiZXR3ZWVuIDI0LTQyLlxyXG4vLyBHb3JlZCBwYXJ0eSBtZW1iZXJzIHdpbGwgYmxlZWQgZm9yIDQgZGFtYWdlIGV2ZXJ5IHNlY29uZCB1bnRpbCBoZWFsZWQgdG8gZnVsbC5cclxuLy8gSW1tZWRpYXRlbHkgYWZ0ZXIgZ29yaW5nLCBoZSB3aWxsIHN0b21wIGhpcyBmZWV0LCBkYW1hZ2luZyBhbGwgbWVtYmVycyBvZiB0aGUgcGFydHkgZm9yIDE2LTI4LCBhbmQgc2lsZW5jaW5nIHRoZSBwbGF5ZXIgaWYgdGhleSBhcmUgY2FzdGluZy5cclxuLy8gQXQgMjAlIGhlYWx0aCwgaGUgZW5yYWdlcyBhbmQgYWxsIGRhbWFnZSBkb25lIHRvIHRoZSB0YW5rIGlzIGRvdWJsZWQuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVsb25nVHVzayBleHRlbmRzIEJvc3Mge1xyXG4gIHByaXZhdGUgX2F0dGFja1RhbmsgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl90YXJnZXRUYW5rKCk7XHJcblxyXG4gICAgbGV0IGF0dGFja1RhbmtBbW91bnQgPSBSYW5kb20uZnJvbUludGVnZXJJbnRlcnZhbEluY2x1c2l2ZSg4LCAxMik7XHJcbiAgICBpZiAodGhpcy5faXNFbnJhZ2VkKSB7XHJcbiAgICAgIGF0dGFja1RhbmtBbW91bnQgKj0gMjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl90YW5rLmhhcm0oYXR0YWNrVGFua0Ftb3VudCk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBfZW5yYWdlID0gKCkgPT4ge1xyXG4gICAgY29uc3QgZW5yYWdlID0gbmV3IEVucmFnZShcclxuICAgICAgW10sIC8vIE5vIHNwZWNpZmljIHRhcmdldFxyXG4gICAgICAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faXNFbnJhZ2VkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5maW5pc2hDYXN0KGVucmFnZSk7XHJcbiAgICAgICAgdGhpcy5fdGFyZ2V0VGFuaygpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuY2FzdChlbnJhZ2UpO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX2dldEF0dGFja1RhbmtMb29wID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZ2V0TG9vcChcIkF0dGFjayBUYW5rXCIpO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX2lzRW5yYWdlZDogYm9vbGVhbjtcclxuICBwcml2YXRlIF90YXJnZXRUYW5rID0gKCkgPT4ge1xyXG4gICAgdGhpcy50YXJnZXRzKFt0aGlzLl90YW5rXSk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBfZ29yZSA9ICgpID0+IHtcclxuICAgIHRoaXMuX2dldEF0dGFja1RhbmtMb29wKCkucGF1c2UoKTtcclxuXHJcbiAgICBjb25zdCBnb3JlVGFyZ2V0cyA9IHRoaXMuX3JhaWQuZ2V0UmFuZG9tTWVtYmVycygxLCB0cnVlIC8qIGFsbG93UGxheWVyICovKTtcclxuICAgIHRoaXMudGFyZ2V0cyhnb3JlVGFyZ2V0cyk7XHJcblxyXG4gICAgY29uc3QgZ29yZSA9IG5ldyBHb3JlKGdvcmVUYXJnZXRzLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuZmluaXNoQ2FzdChnb3JlKTtcclxuICAgICAgdGhpcy5fdGFyZ2V0VGFuaygpO1xyXG4gICAgICB0aGlzLl9nZXRBdHRhY2tUYW5rTG9vcCgpLnJlc3VtZSgpO1xyXG4gICAgICB0aGlzLl9zdG9tcCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5jYXN0KGdvcmUpO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX3N0b21wID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuX3BsYXllci5pc0RlYWQoKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fZ2V0QXR0YWNrVGFua0xvb3AoKS5wYXVzZSgpO1xyXG5cclxuICAgIGNvbnN0IHN0b21wVGFyZ2V0cyA9IHRoaXMuX3JhaWQubWVtYmVycztcclxuICAgIHRoaXMudGFyZ2V0cyhzdG9tcFRhcmdldHMpO1xyXG5cclxuICAgIGNvbnN0IHN0b21wID0gbmV3IFN0b21wKHN0b21wVGFyZ2V0cywgKCkgPT4ge1xyXG4gICAgICB0aGlzLmZpbmlzaENhc3Qoc3RvbXApO1xyXG4gICAgICB0aGlzLl90YXJnZXRUYW5rKCk7XHJcbiAgICAgIHRoaXMuX2dldEF0dGFja1RhbmtMb29wKCkucmVzdW1lKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmNhc3Qoc3RvbXApO1xyXG4gIH07XHJcblxyXG4gIHByb3RlY3RlZCBpbml0aWFsRXZlbnRzOiAoKCkgPT4gdm9pZClbXSA9IFtdO1xyXG4gIHByb3RlY3RlZCBpbml0aWFsVGFyZ2V0czogRnJpZW5kbHlbXSA9IFtdO1xyXG4gIHByb3RlY3RlZCBsb29wczogTG9vcHM7XHJcbiAgcHJvdGVjdGVkIHRyaWdnZXJzOiBUcmlnZ2VyW107XHJcblxyXG4gIG5hbWU6IEJvc3NOYW1lO1xyXG4gIG9uRGVhdGhPZkZyaWVuZGx5ID0gKGZyaWVuZGx5OiBGcmllbmRseSk6IHZvaWQgPT4ge1xyXG4gICAgaWYgKGZyaWVuZGx5ID09PSB0aGlzLl90YW5rKSB7XHJcbiAgICAgIC8vIFRoZSB0YW5rIGp1c3QgZGllZC5cclxuXHJcbiAgICAgIHRoaXMudGFyZ2V0cy5yZW1vdmUodGhpcy5fdGFuayk7XHJcblxyXG4gICAgICBjb25zdCByZW1haW5pbmdBbGl2ZSA9IHRoaXMuX3JhaWQuZ2V0TGl2aW5nTWVtYmVycygpO1xyXG4gICAgICBpZiAocmVtYWluaW5nQWxpdmUubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocmVtYWluaW5nQWxpdmUubGVuZ3RoID09PSAxICYmIHJlbWFpbmluZ0FsaXZlWzBdID09PSB0aGlzLl9wbGF5ZXIpIHtcclxuICAgICAgICAvLyBUaGUgcGxheWVyIGlzIHRoZSBsYXN0IG9uZSBhbGl2ZS5cclxuICAgICAgICB0aGlzLl90YW5rID0gdGhpcy5fcGxheWVyO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIENob29zZSBzb21lIHJhbmRvbSBEUFMgdG8gYmVjb21lIHRoZSBuZXcgdGFuay5cclxuICAgICAgICB0aGlzLl90YW5rID0gdGhpcy5fcmFpZC5nZXRPbmVSYW5kb21OcGMoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy50YXJnZXRzLnB1c2godGhpcy5fdGFuayk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwbGF5ZXI6IFBsYXllcixcclxuICAgIHRhbms6IEZyaWVuZGx5LFxyXG4gICAgcmFpZDogUGFydHksXHJcbiAgICBvbkRlYXRoQ2FsbGJhY2s6ICgpID0+IHZvaWRcclxuICApIHtcclxuICAgIHN1cGVyKDEwMjQyMCwgcGxheWVyLCB0YW5rLCByYWlkLCBvbkRlYXRoQ2FsbGJhY2spO1xyXG5cclxuICAgIHRoaXMubmFtZSA9IEJvc3NOYW1lLkVsb25nVHVzaztcclxuICAgIHRoaXMuX2lzRW5yYWdlZCA9IGZhbHNlO1xyXG5cclxuICAgIHRoaXMubG9vcHMgPSBuZXcgTG9vcHMoXHJcbiAgICAgIG5ldyBMb29wKFwiQXR0YWNrIFRhbmtcIiwgdGhpcy5fYXR0YWNrVGFuaywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAxMDAwICogUmFuZG9tLmZyb21JbnRlZ2VySW50ZXJ2YWxJbmNsdXNpdmUoMiwgNCk7XHJcbiAgICAgIH0pLFxyXG4gICAgICBuZXcgTG9vcChcIkdvcmVcIiwgdGhpcy5fZ29yZSwgMTIwMDApXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuaW5pdGlhbFRhcmdldHMgPSBbdGhpcy5fdGFua107XHJcbiAgICB0aGlzLnRyaWdnZXJzID0gW1xyXG4gICAgICBuZXcgVHJpZ2dlcigoaGVhbHRoUGVyY2VudGFnZTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKGhlYWx0aFBlcmNlbnRhZ2UgPD0gMjApIHtcclxuICAgICAgICAgIHRoaXMuX2VucmFnZSgpO1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH0pLFxyXG4gICAgXTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5036\n')},7647:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst Action_1 = __importDefault(__webpack_require__(5942));\r\nconst Animations_1 = __importDefault(__webpack_require__(9454));\r\nconst DebuffName_1 = __webpack_require__(8017);\r\nconst DotDebuff_1 = __importDefault(__webpack_require__(7966));\r\nconst Random_1 = __importDefault(__webpack_require__(3640));\r\nclass Gore extends Action_1.default {\r\n    constructor(targets, onSuccess) {\r\n        super("Gore");\r\n        this._cast = () => {\r\n            this.targets.forEach((target) => {\r\n                const harmAmount = Random_1.default.fromIntegerIntervalInclusive(24, 42);\r\n                target.harm(harmAmount);\r\n                if (!target.isDead()) {\r\n                    const bleedDebuff = new DotDebuff_1.default({\r\n                        name: DebuffName_1.DebuffName.Bleed,\r\n                        description: "Bleeding for 4 damage every second until healed to full.",\r\n                        interval: 1000,\r\n                        duration: -1,\r\n                        target: target,\r\n                        harmEffect: (foodPoisoningTarget, harmAmount) => {\r\n                            foodPoisoningTarget.harm(harmAmount);\r\n                            return harmAmount;\r\n                        },\r\n                        getHarmAmount: (target) => 4,\r\n                        postHealCallback: (target) => {\r\n                            if (target.isAtFullHealth) {\r\n                                target.removeDebuff(DebuffName_1.DebuffName.Bleed);\r\n                            }\r\n                        },\r\n                    });\r\n                    target.applyDebuff(bleedDebuff);\r\n                }\r\n            });\r\n        };\r\n        this._complete = () => {\r\n            this._cast();\r\n            this._onSuccess();\r\n        };\r\n        this.targets = targets;\r\n        this._onSuccess = onSuccess;\r\n        const wrapper = { ...Animations_1.default.fullWidth2000 };\r\n        wrapper.animation.options.complete = this._complete;\r\n        this.animation = [wrapper.animation];\r\n    }\r\n}\r\nexports["default"] = Gore;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzY0Ny5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLDREQUErQjtBQUUvQixnRUFBdUM7QUFDdkMsK0NBQTJDO0FBQzNDLCtEQUFxQztBQUVyQyw0REFBK0I7QUFFL0IsTUFBcUIsSUFBSyxTQUFRLGdCQUFNO0lBeUN0QyxZQUFZLE9BQW1CLEVBQUUsU0FBcUI7UUFDcEQsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBekNSLFVBQUssR0FBRyxHQUFHLEVBQUU7WUFDbkIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFnQixFQUFFLEVBQUU7Z0JBQ3hDLE1BQU0sVUFBVSxHQUFHLGdCQUFNLENBQUMsNEJBQTRCLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO2dCQUMvRCxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO2dCQUV4QixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxFQUFFO29CQUNwQixNQUFNLFdBQVcsR0FBRyxJQUFJLG1CQUFTLENBQUM7d0JBQ2hDLElBQUksRUFBRSx1QkFBVSxDQUFDLEtBQUs7d0JBQ3RCLFdBQVcsRUFDVCwwREFBMEQ7d0JBQzVELFFBQVEsRUFBRSxJQUFJO3dCQUNkLFFBQVEsRUFBRSxDQUFDLENBQUM7d0JBQ1osTUFBTSxFQUFFLE1BQU07d0JBQ2QsVUFBVSxFQUFFLENBQUMsbUJBQTZCLEVBQUUsVUFBa0IsRUFBRSxFQUFFOzRCQUNoRSxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7NEJBQ3JDLE9BQU8sVUFBVSxDQUFDO3dCQUNwQixDQUFDO3dCQUNELGFBQWEsRUFBRSxDQUFDLE1BQWdCLEVBQVUsRUFBRSxDQUFDLENBQUM7d0JBQzlDLGdCQUFnQixFQUFFLENBQUMsTUFBZ0IsRUFBUSxFQUFFOzRCQUMzQyxJQUFJLE1BQU0sQ0FBQyxjQUFjLEVBQUU7Z0NBQ3pCLE1BQU0sQ0FBQyxZQUFZLENBQUMsdUJBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQzs2QkFDdkM7d0JBQ0gsQ0FBQztxQkFDRixDQUFDLENBQUM7b0JBRUgsTUFBTSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQztpQkFDakM7WUFDSCxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQztRQUVNLGNBQVMsR0FBRyxHQUFHLEVBQUU7WUFDdkIsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQ2IsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ3BCLENBQUMsQ0FBQztRQVVBLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxVQUFVLEdBQUcsU0FBUyxDQUFDO1FBRTVCLE1BQU0sT0FBTyxHQUFxQixFQUFFLEdBQUcsb0JBQVUsQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUNsRSxPQUFPLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUVwRCxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7Q0FDRjtBQXBERCwwQkFvREMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFscy1wbGVhc2UvLi90cy9Cb3NzZXMvRWxvbmdUdXNrL0FjdGlvbnMudHMvR29yZS50cz84ZmI0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBY3Rpb24gZnJvbSBcInRzL0FjdGlvblwiO1xyXG5pbXBvcnQgeyBBbmltYXRpb24sIEFuaW1hdGlvbldyYXBwZXIgfSBmcm9tIFwidHMvQW5pbWF0aW9uXCI7XHJcbmltcG9ydCBBbmltYXRpb25zIGZyb20gXCJ0cy9BbmltYXRpb25zXCI7XHJcbmltcG9ydCB7IERlYnVmZk5hbWUgfSBmcm9tIFwidHMvRGVidWZmTmFtZVwiO1xyXG5pbXBvcnQgRG90RGVidWZmIGZyb20gXCJ0cy9Eb3REZWJ1ZmZcIjtcclxuaW1wb3J0IEZyaWVuZGx5IGZyb20gXCJ0cy9GcmllbmRseVwiO1xyXG5pbXBvcnQgUmFuZG9tIGZyb20gXCJ0cy9SYW5kb21cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdvcmUgZXh0ZW5kcyBBY3Rpb24ge1xyXG4gIHByaXZhdGUgX2Nhc3QgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnRhcmdldHMuZm9yRWFjaCgodGFyZ2V0OiBGcmllbmRseSkgPT4ge1xyXG4gICAgICBjb25zdCBoYXJtQW1vdW50ID0gUmFuZG9tLmZyb21JbnRlZ2VySW50ZXJ2YWxJbmNsdXNpdmUoMjQsIDQyKTtcclxuICAgICAgdGFyZ2V0Lmhhcm0oaGFybUFtb3VudCk7XHJcblxyXG4gICAgICBpZiAoIXRhcmdldC5pc0RlYWQoKSkge1xyXG4gICAgICAgIGNvbnN0IGJsZWVkRGVidWZmID0gbmV3IERvdERlYnVmZih7XHJcbiAgICAgICAgICBuYW1lOiBEZWJ1ZmZOYW1lLkJsZWVkLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgICAgIFwiQmxlZWRpbmcgZm9yIDQgZGFtYWdlIGV2ZXJ5IHNlY29uZCB1bnRpbCBoZWFsZWQgdG8gZnVsbC5cIixcclxuICAgICAgICAgIGludGVydmFsOiAxMDAwLFxyXG4gICAgICAgICAgZHVyYXRpb246IC0xLFxyXG4gICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXHJcbiAgICAgICAgICBoYXJtRWZmZWN0OiAoZm9vZFBvaXNvbmluZ1RhcmdldDogRnJpZW5kbHksIGhhcm1BbW91bnQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICBmb29kUG9pc29uaW5nVGFyZ2V0Lmhhcm0oaGFybUFtb3VudCk7XHJcbiAgICAgICAgICAgIHJldHVybiBoYXJtQW1vdW50O1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGdldEhhcm1BbW91bnQ6ICh0YXJnZXQ6IEZyaWVuZGx5KTogbnVtYmVyID0+IDQsXHJcbiAgICAgICAgICBwb3N0SGVhbENhbGxiYWNrOiAodGFyZ2V0OiBGcmllbmRseSk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGFyZ2V0LmlzQXRGdWxsSGVhbHRoKSB7XHJcbiAgICAgICAgICAgICAgdGFyZ2V0LnJlbW92ZURlYnVmZihEZWJ1ZmZOYW1lLkJsZWVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGFyZ2V0LmFwcGx5RGVidWZmKGJsZWVkRGVidWZmKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBfY29tcGxldGUgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9jYXN0KCk7XHJcbiAgICB0aGlzLl9vblN1Y2Nlc3MoKTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9vblN1Y2Nlc3M6ICgpID0+IHZvaWQ7XHJcblxyXG4gIGFuaW1hdGlvbjogQW5pbWF0aW9uW107XHJcbiAgdGFyZ2V0czogRnJpZW5kbHlbXTtcclxuXHJcbiAgY29uc3RydWN0b3IodGFyZ2V0czogRnJpZW5kbHlbXSwgb25TdWNjZXNzOiAoKSA9PiB2b2lkKSB7XHJcbiAgICBzdXBlcihcIkdvcmVcIik7XHJcblxyXG4gICAgdGhpcy50YXJnZXRzID0gdGFyZ2V0cztcclxuICAgIHRoaXMuX29uU3VjY2VzcyA9IG9uU3VjY2VzcztcclxuXHJcbiAgICBjb25zdCB3cmFwcGVyOiBBbmltYXRpb25XcmFwcGVyID0geyAuLi5BbmltYXRpb25zLmZ1bGxXaWR0aDIwMDAgfTtcclxuICAgIHdyYXBwZXIuYW5pbWF0aW9uLm9wdGlvbnMuY29tcGxldGUgPSB0aGlzLl9jb21wbGV0ZTtcclxuXHJcbiAgICB0aGlzLmFuaW1hdGlvbiA9IFt3cmFwcGVyLmFuaW1hdGlvbl07XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7647\n')},6746:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst Action_1 = __importDefault(__webpack_require__(5942));\r\nconst Animations_1 = __importDefault(__webpack_require__(9454));\r\nconst Debuff_1 = __importDefault(__webpack_require__(5584));\r\nconst DebuffName_1 = __webpack_require__(8017);\r\nconst DebuffType_1 = __webpack_require__(1660);\r\nconst Player_1 = __importDefault(__webpack_require__(698));\r\nconst Random_1 = __importDefault(__webpack_require__(3640));\r\nclass Stomp extends Action_1.default {\r\n    constructor(targets, onSuccess) {\r\n        super("Stomp");\r\n        this._cast = () => {\r\n            this.targets.forEach((target) => {\r\n                const harmAmount = Random_1.default.fromIntegerIntervalInclusive(16, 28);\r\n                target.harm(harmAmount);\r\n                if (!(target instanceof Player_1.default)) {\r\n                    return;\r\n                }\r\n                const player = target;\r\n                if (!player.isDead() && player.currentCast.value()) {\r\n                    const silenceDebuff = new Debuff_1.default({\r\n                        name: DebuffName_1.DebuffName.Silence,\r\n                        description: "Silenced for 3 seconds.",\r\n                        type: DebuffType_1.DebuffType.Silence,\r\n                        duration: 3000,\r\n                        target: player,\r\n                    });\r\n                    player.cancelCast();\r\n                    player.applyDebuff(silenceDebuff);\r\n                }\r\n            });\r\n        };\r\n        this._complete = () => {\r\n            this._cast();\r\n            this._onSuccess();\r\n        };\r\n        this.targets = targets;\r\n        this._onSuccess = onSuccess;\r\n        const wrapper = { ...Animations_1.default.fullWidth2000 };\r\n        wrapper.animation.options.complete = this._complete;\r\n        this.animation = [wrapper.animation];\r\n    }\r\n}\r\nexports["default"] = Stomp;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjc0Ni5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLDREQUErQjtBQUUvQixnRUFBdUM7QUFDdkMsNERBQStCO0FBQy9CLCtDQUEyQztBQUMzQywrQ0FBMkM7QUFFM0MsMkRBQStCO0FBQy9CLDREQUErQjtBQUUvQixNQUFxQixLQUFNLFNBQVEsZ0JBQU07SUFvQ3ZDLFlBQVksT0FBbUIsRUFBRSxTQUFxQjtRQUNwRCxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7UUFwQ1QsVUFBSyxHQUFHLEdBQUcsRUFBRTtZQUNuQixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQWdCLEVBQUUsRUFBRTtnQkFDeEMsTUFBTSxVQUFVLEdBQUcsZ0JBQU0sQ0FBQyw0QkFBNEIsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7Z0JBQy9ELE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBRXhCLElBQUksQ0FBQyxDQUFDLE1BQU0sWUFBWSxnQkFBTSxDQUFDLEVBQUU7b0JBQy9CLE9BQU87aUJBQ1I7Z0JBRUQsTUFBTSxNQUFNLEdBQUcsTUFBZ0IsQ0FBQztnQkFDaEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxFQUFFO29CQUNsRCxNQUFNLGFBQWEsR0FBRyxJQUFJLGdCQUFNLENBQUM7d0JBQy9CLElBQUksRUFBRSx1QkFBVSxDQUFDLE9BQU87d0JBQ3hCLFdBQVcsRUFBRSx5QkFBeUI7d0JBQ3RDLElBQUksRUFBRSx1QkFBVSxDQUFDLE9BQU87d0JBQ3hCLFFBQVEsRUFBRSxJQUFJO3dCQUNkLE1BQU0sRUFBRSxNQUFNO3FCQUNmLENBQUMsQ0FBQztvQkFFSCxNQUFNLENBQUMsVUFBVSxFQUFFLENBQUM7b0JBQ3BCLE1BQU0sQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDLENBQUM7aUJBQ25DO1lBQ0gsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUM7UUFFTSxjQUFTLEdBQUcsR0FBRyxFQUFFO1lBQ3ZCLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNiLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUNwQixDQUFDLENBQUM7UUFVQSxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN2QixJQUFJLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQztRQUU1QixNQUFNLE9BQU8sR0FBcUIsRUFBRSxHQUFHLG9CQUFVLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDbEUsT0FBTyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7UUFFcEQsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUN2QyxDQUFDO0NBQ0Y7QUEvQ0QsMkJBK0NDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHMtcGxlYXNlLy4vdHMvQm9zc2VzL0Vsb25nVHVzay9BY3Rpb25zLnRzL1N0b21wLnRzPzQ0YzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFjdGlvbiBmcm9tIFwidHMvQWN0aW9uXCI7XHJcbmltcG9ydCB7IEFuaW1hdGlvbiwgQW5pbWF0aW9uV3JhcHBlciB9IGZyb20gXCJ0cy9BbmltYXRpb25cIjtcclxuaW1wb3J0IEFuaW1hdGlvbnMgZnJvbSBcInRzL0FuaW1hdGlvbnNcIjtcclxuaW1wb3J0IERlYnVmZiBmcm9tIFwidHMvRGVidWZmXCI7XHJcbmltcG9ydCB7IERlYnVmZk5hbWUgfSBmcm9tIFwidHMvRGVidWZmTmFtZVwiO1xyXG5pbXBvcnQgeyBEZWJ1ZmZUeXBlIH0gZnJvbSBcInRzL0RlYnVmZlR5cGVcIjtcclxuaW1wb3J0IEZyaWVuZGx5IGZyb20gXCJ0cy9GcmllbmRseVwiO1xyXG5pbXBvcnQgUGxheWVyIGZyb20gXCJ0cy9QbGF5ZXJcIjtcclxuaW1wb3J0IFJhbmRvbSBmcm9tIFwidHMvUmFuZG9tXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdG9tcCBleHRlbmRzIEFjdGlvbiB7XHJcbiAgcHJpdmF0ZSBfY2FzdCA9ICgpID0+IHtcclxuICAgIHRoaXMudGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQ6IEZyaWVuZGx5KSA9PiB7XHJcbiAgICAgIGNvbnN0IGhhcm1BbW91bnQgPSBSYW5kb20uZnJvbUludGVnZXJJbnRlcnZhbEluY2x1c2l2ZSgxNiwgMjgpO1xyXG4gICAgICB0YXJnZXQuaGFybShoYXJtQW1vdW50KTtcclxuXHJcbiAgICAgIGlmICghKHRhcmdldCBpbnN0YW5jZW9mIFBsYXllcikpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHBsYXllciA9IHRhcmdldCBhcyBQbGF5ZXI7XHJcbiAgICAgIGlmICghcGxheWVyLmlzRGVhZCgpICYmIHBsYXllci5jdXJyZW50Q2FzdC52YWx1ZSgpKSB7XHJcbiAgICAgICAgY29uc3Qgc2lsZW5jZURlYnVmZiA9IG5ldyBEZWJ1ZmYoe1xyXG4gICAgICAgICAgbmFtZTogRGVidWZmTmFtZS5TaWxlbmNlLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiU2lsZW5jZWQgZm9yIDMgc2Vjb25kcy5cIixcclxuICAgICAgICAgIHR5cGU6IERlYnVmZlR5cGUuU2lsZW5jZSxcclxuICAgICAgICAgIGR1cmF0aW9uOiAzMDAwLFxyXG4gICAgICAgICAgdGFyZ2V0OiBwbGF5ZXIsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHBsYXllci5jYW5jZWxDYXN0KCk7XHJcbiAgICAgICAgcGxheWVyLmFwcGx5RGVidWZmKHNpbGVuY2VEZWJ1ZmYpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9jb21wbGV0ZSA9ICgpID0+IHtcclxuICAgIHRoaXMuX2Nhc3QoKTtcclxuICAgIHRoaXMuX29uU3VjY2VzcygpO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX29uU3VjY2VzczogKCkgPT4gdm9pZDtcclxuXHJcbiAgYW5pbWF0aW9uOiBBbmltYXRpb25bXTtcclxuICB0YXJnZXRzOiBGcmllbmRseVtdO1xyXG5cclxuICBjb25zdHJ1Y3Rvcih0YXJnZXRzOiBGcmllbmRseVtdLCBvblN1Y2Nlc3M6ICgpID0+IHZvaWQpIHtcclxuICAgIHN1cGVyKFwiU3RvbXBcIik7XHJcblxyXG4gICAgdGhpcy50YXJnZXRzID0gdGFyZ2V0cztcclxuICAgIHRoaXMuX29uU3VjY2VzcyA9IG9uU3VjY2VzcztcclxuXHJcbiAgICBjb25zdCB3cmFwcGVyOiBBbmltYXRpb25XcmFwcGVyID0geyAuLi5BbmltYXRpb25zLmZ1bGxXaWR0aDIwMDAgfTtcclxuICAgIHdyYXBwZXIuYW5pbWF0aW9uLm9wdGlvbnMuY29tcGxldGUgPSB0aGlzLl9jb21wbGV0ZTtcclxuXHJcbiAgICB0aGlzLmFuaW1hdGlvbiA9IFt3cmFwcGVyLmFuaW1hdGlvbl07XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6746\n')},15:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst Boss_1 = __importDefault(__webpack_require__(3717));\r\nconst Loop_1 = __importDefault(__webpack_require__(893));\r\nconst Loops_1 = __importDefault(__webpack_require__(7657));\r\nconst Random_1 = __importDefault(__webpack_require__(3640));\r\nconst Trigger_1 = __importDefault(__webpack_require__(6983));\r\nconst BossName_1 = __webpack_require__(1327);\r\nconst ThrowFood_1 = __importDefault(__webpack_require__(4263));\r\nconst Enrage_1 = __importDefault(__webpack_require__(9473));\r\n// The encounter begins and Gordo Ramzee is not pleased he is being interrupted.\r\n// He targets the tank and does 20-25 damage every 2-4 seconds.\r\n// Every 10 seconds, he throws food, hitting 2 members of the party, damaging each between 12-18.\r\n// Affected party members eat the food. I mean, who wouldn\'t?\r\n// There\'s a 50% chance the food was bland and dry, dealing 8-16 damage every 1 second for 5 seconds.\r\n// At 20% health, he enrages and all damage done to the tank is doubled.\r\nclass GordoRamzee extends Boss_1.default {\r\n    constructor(player, tank, raid, onDeathCallback) {\r\n        super(58418, player, tank, raid, onDeathCallback);\r\n        this._attackTank = () => {\r\n            this._targetTank();\r\n            let attackTankAmount = Random_1.default.fromIntegerIntervalInclusive(20, 25);\r\n            if (this._isEnraged) {\r\n                attackTankAmount *= 2;\r\n            }\r\n            this._tank.harm(attackTankAmount);\r\n        };\r\n        this._enrage = () => {\r\n            const enrage = new Enrage_1.default([], // No specific target\r\n            () => {\r\n                this._isEnraged = true;\r\n                this.finishCast(enrage);\r\n                this._targetTank();\r\n            });\r\n            this.cast(enrage);\r\n        };\r\n        this._getAttackTankLoop = () => {\r\n            return this.getLoop("Attack Tank");\r\n        };\r\n        this._targetTank = () => {\r\n            this.targets([this._tank]);\r\n        };\r\n        this._throwFood = () => {\r\n            this._getAttackTankLoop().pause();\r\n            const throwFoodTargets = this._raid.getRandomMembers(2, true /* allowPlayer */);\r\n            this.targets(throwFoodTargets);\r\n            const throwFood = new ThrowFood_1.default(throwFoodTargets, () => {\r\n                this.finishCast(throwFood);\r\n                this._targetTank();\r\n                this._getAttackTankLoop().resume();\r\n            });\r\n            this.cast(throwFood);\r\n        };\r\n        this.initialEvents = [];\r\n        this.initialTargets = [];\r\n        this.onDeathOfFriendly = (friendly) => {\r\n            if (friendly === this._tank) {\r\n                // The tank just died.\r\n                this.targets.remove(this._tank);\r\n                const remainingAlive = this._raid.getLivingMembers();\r\n                if (remainingAlive.length === 0) {\r\n                    this.stop();\r\n                    return;\r\n                }\r\n                if (remainingAlive.length === 1 && remainingAlive[0] === this._player) {\r\n                    // The player is the last one alive.\r\n                    this._tank = this._player;\r\n                }\r\n                else {\r\n                    // Choose some random DPS to become the new tank.\r\n                    this._tank = this._raid.getOneRandomNpc();\r\n                }\r\n                this.targets.push(this._tank);\r\n            }\r\n        };\r\n        this.name = BossName_1.BossName.GordoRamzee;\r\n        this._isEnraged = false;\r\n        this.loops = new Loops_1.default(new Loop_1.default("Attack Tank", this._attackTank, function () {\r\n            return 1000 * Random_1.default.fromIntegerIntervalInclusive(2, 4);\r\n        }), new Loop_1.default("Throw Food", this._throwFood, 10000));\r\n        this.initialTargets = [this._tank];\r\n        this.triggers = [\r\n            new Trigger_1.default((healthPercentage) => {\r\n                if (healthPercentage <= 20) {\r\n                    this._enrage();\r\n                    return true;\r\n                }\r\n                return false;\r\n            }),\r\n        ];\r\n    }\r\n}\r\nexports["default"] = GordoRamzee;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixFQUFFLEVBQUU7Z0JBQ3ZDLElBQUksZ0JBQWdCLElBQUksRUFBRSxFQUFFO29CQUMxQixJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7b0JBQ2YsT0FBTyxJQUFJLENBQUM7aUJBQ2I7Z0JBRUQsT0FBTyxLQUFLLENBQUM7WUFDZixDQUFDLENBQUM7U0FDSCxDQUFDO0lBQ0osQ0FBQztDQUNGO0FBakhELGlDQWlIQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWxzLXBsZWFzZS8uL3RzL0Jvc3Nlcy9Hb3Jkb1JhbXplZS50cz83MjE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCb3NzIGZyb20gXCJ0cy9Cb3NzXCI7XHJcbmltcG9ydCBGcmllbmRseSBmcm9tIFwidHMvRnJpZW5kbHlcIjtcclxuaW1wb3J0IExvb3AgZnJvbSBcInRzL0xvb3BcIjtcclxuaW1wb3J0IExvb3BzIGZyb20gXCJ0cy9Mb29wc1wiO1xyXG5pbXBvcnQgUGFydHkgZnJvbSBcInRzL1BhcnR5XCI7XHJcbmltcG9ydCBQbGF5ZXIgZnJvbSBcInRzL1BsYXllclwiO1xyXG5pbXBvcnQgUmFuZG9tIGZyb20gXCJ0cy9SYW5kb21cIjtcclxuaW1wb3J0IFRyaWdnZXIgZnJvbSBcInRzL1RyaWdnZXJcIjtcclxuaW1wb3J0IHsgQm9zc05hbWUgfSBmcm9tIFwiLi9Cb3NzTmFtZVwiO1xyXG5pbXBvcnQgVGhyb3dGb29kIGZyb20gXCIuL0dvcmRvUmFtemVlL0FjdGlvbnMvVGhyb3dGb29kXCI7XHJcbmltcG9ydCBFbnJhZ2UgZnJvbSBcIi4vU2hhcmVkL0FjdGlvbnMvRW5yYWdlXCI7XHJcblxyXG4vLyBUaGUgZW5jb3VudGVyIGJlZ2lucyBhbmQgR29yZG8gUmFtemVlIGlzIG5vdCBwbGVhc2VkIGhlIGlzIGJlaW5nIGludGVycnVwdGVkLlxyXG4vLyBIZSB0YXJnZXRzIHRoZSB0YW5rIGFuZCBkb2VzIDIwLTI1IGRhbWFnZSBldmVyeSAyLTQgc2Vjb25kcy5cclxuLy8gRXZlcnkgMTAgc2Vjb25kcywgaGUgdGhyb3dzIGZvb2QsIGhpdHRpbmcgMiBtZW1iZXJzIG9mIHRoZSBwYXJ0eSwgZGFtYWdpbmcgZWFjaCBiZXR3ZWVuIDEyLTE4LlxyXG4vLyBBZmZlY3RlZCBwYXJ0eSBtZW1iZXJzIGVhdCB0aGUgZm9vZC4gSSBtZWFuLCB3aG8gd291bGRuJ3Q/XHJcbi8vIFRoZXJlJ3MgYSA1MCUgY2hhbmNlIHRoZSBmb29kIHdhcyBibGFuZCBhbmQgZHJ5LCBkZWFsaW5nIDgtMTYgZGFtYWdlIGV2ZXJ5IDEgc2Vjb25kIGZvciA1IHNlY29uZHMuXHJcbi8vIEF0IDIwJSBoZWFsdGgsIGhlIGVucmFnZXMgYW5kIGFsbCBkYW1hZ2UgZG9uZSB0byB0aGUgdGFuayBpcyBkb3VibGVkLlxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHb3Jkb1JhbXplZSBleHRlbmRzIEJvc3Mge1xyXG4gIHByaXZhdGUgX2F0dGFja1RhbmsgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl90YXJnZXRUYW5rKCk7XHJcblxyXG4gICAgbGV0IGF0dGFja1RhbmtBbW91bnQgPSBSYW5kb20uZnJvbUludGVnZXJJbnRlcnZhbEluY2x1c2l2ZSgyMCwgMjUpO1xyXG4gICAgaWYgKHRoaXMuX2lzRW5yYWdlZCkge1xyXG4gICAgICBhdHRhY2tUYW5rQW1vdW50ICo9IDI7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fdGFuay5oYXJtKGF0dGFja1RhbmtBbW91bnQpO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX2VucmFnZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IGVucmFnZSA9IG5ldyBFbnJhZ2UoXHJcbiAgICAgIFtdLCAvLyBObyBzcGVjaWZpYyB0YXJnZXRcclxuICAgICAgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2lzRW5yYWdlZCA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuZmluaXNoQ2FzdChlbnJhZ2UpO1xyXG4gICAgICAgIHRoaXMuX3RhcmdldFRhbmsoKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLmNhc3QoZW5yYWdlKTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9nZXRBdHRhY2tUYW5rTG9vcCA9ICgpID0+IHtcclxuICAgIHJldHVybiB0aGlzLmdldExvb3AoXCJBdHRhY2sgVGFua1wiKTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9pc0VucmFnZWQ6IGJvb2xlYW47XHJcbiAgcHJpdmF0ZSBfdGFyZ2V0VGFuayA9ICgpID0+IHtcclxuICAgIHRoaXMudGFyZ2V0cyhbdGhpcy5fdGFua10pO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX3Rocm93Rm9vZCA9ICgpID0+IHtcclxuICAgIHRoaXMuX2dldEF0dGFja1RhbmtMb29wKCkucGF1c2UoKTtcclxuXHJcbiAgICBjb25zdCB0aHJvd0Zvb2RUYXJnZXRzID0gdGhpcy5fcmFpZC5nZXRSYW5kb21NZW1iZXJzKFxyXG4gICAgICAyLFxyXG4gICAgICB0cnVlIC8qIGFsbG93UGxheWVyICovXHJcbiAgICApO1xyXG4gICAgdGhpcy50YXJnZXRzKHRocm93Rm9vZFRhcmdldHMpO1xyXG5cclxuICAgIGNvbnN0IHRocm93Rm9vZCA9IG5ldyBUaHJvd0Zvb2QodGhyb3dGb29kVGFyZ2V0cywgKCkgPT4ge1xyXG4gICAgICB0aGlzLmZpbmlzaENhc3QodGhyb3dGb29kKTtcclxuICAgICAgdGhpcy5fdGFyZ2V0VGFuaygpO1xyXG4gICAgICB0aGlzLl9nZXRBdHRhY2tUYW5rTG9vcCgpLnJlc3VtZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5jYXN0KHRocm93Rm9vZCk7XHJcbiAgfTtcclxuXHJcbiAgcHJvdGVjdGVkIGluaXRpYWxFdmVudHM6ICgoKSA9PiB2b2lkKVtdID0gW107XHJcbiAgcHJvdGVjdGVkIGluaXRpYWxUYXJnZXRzOiBGcmllbmRseVtdID0gW107XHJcbiAgcHJvdGVjdGVkIGxvb3BzOiBMb29wcztcclxuICBwcm90ZWN0ZWQgdHJpZ2dlcnM6IFRyaWdnZXJbXTtcclxuXHJcbiAgbmFtZTogQm9zc05hbWU7XHJcbiAgb25EZWF0aE9mRnJpZW5kbHkgPSAoZnJpZW5kbHk6IEZyaWVuZGx5KTogdm9pZCA9PiB7XHJcbiAgICBpZiAoZnJpZW5kbHkgPT09IHRoaXMuX3RhbmspIHtcclxuICAgICAgLy8gVGhlIHRhbmsganVzdCBkaWVkLlxyXG5cclxuICAgICAgdGhpcy50YXJnZXRzLnJlbW92ZSh0aGlzLl90YW5rKTtcclxuXHJcbiAgICAgIGNvbnN0IHJlbWFpbmluZ0FsaXZlID0gdGhpcy5fcmFpZC5nZXRMaXZpbmdNZW1iZXJzKCk7XHJcbiAgICAgIGlmIChyZW1haW5pbmdBbGl2ZS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChyZW1haW5pbmdBbGl2ZS5sZW5ndGggPT09IDEgJiYgcmVtYWluaW5nQWxpdmVbMF0gPT09IHRoaXMuX3BsYXllcikge1xyXG4gICAgICAgIC8vIFRoZSBwbGF5ZXIgaXMgdGhlIGxhc3Qgb25lIGFsaXZlLlxyXG4gICAgICAgIHRoaXMuX3RhbmsgPSB0aGlzLl9wbGF5ZXI7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gQ2hvb3NlIHNvbWUgcmFuZG9tIERQUyB0byBiZWNvbWUgdGhlIG5ldyB0YW5rLlxyXG4gICAgICAgIHRoaXMuX3RhbmsgPSB0aGlzLl9yYWlkLmdldE9uZVJhbmRvbU5wYygpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnRhcmdldHMucHVzaCh0aGlzLl90YW5rKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHBsYXllcjogUGxheWVyLFxyXG4gICAgdGFuazogRnJpZW5kbHksXHJcbiAgICByYWlkOiBQYXJ0eSxcclxuICAgIG9uRGVhdGhDYWxsYmFjazogKCkgPT4gdm9pZFxyXG4gICkge1xyXG4gICAgc3VwZXIoNTg0MTgsIHBsYXllciwgdGFuaywgcmFpZCwgb25EZWF0aENhbGxiYWNrKTtcclxuXHJcbiAgICB0aGlzLm5hbWUgPSBCb3NzTmFtZS5Hb3Jkb1JhbXplZTtcclxuICAgIHRoaXMuX2lzRW5yYWdlZCA9IGZhbHNlO1xyXG5cclxuICAgIHRoaXMubG9vcHMgPSBuZXcgTG9vcHMoXHJcbiAgICAgIG5ldyBMb29wKFwiQXR0YWNrIFRhbmtcIiwgdGhpcy5fYXR0YWNrVGFuaywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAxMDAwICogUmFuZG9tLmZyb21JbnRlZ2VySW50ZXJ2YWxJbmNsdXNpdmUoMiwgNCk7XHJcbiAgICAgIH0pLFxyXG4gICAgICBuZXcgTG9vcChcIlRocm93IEZvb2RcIiwgdGhpcy5fdGhyb3dGb29kLCAxMDAwMClcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5pbml0aWFsVGFyZ2V0cyA9IFt0aGlzLl90YW5rXTtcclxuICAgIHRoaXMudHJpZ2dlcnMgPSBbXHJcbiAgICAgIG5ldyBUcmlnZ2VyKChoZWFsdGhQZXJjZW50YWdlOiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAoaGVhbHRoUGVyY2VudGFnZSA8PSAyMCkge1xyXG4gICAgICAgICAgdGhpcy5fZW5yYWdlKCk7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfSksXHJcbiAgICBdO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///15\n')},4263:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst Action_1 = __importDefault(__webpack_require__(5942));\r\nconst Animations_1 = __importDefault(__webpack_require__(9454));\r\nconst DebuffName_1 = __webpack_require__(8017);\r\nconst DotDebuff_1 = __importDefault(__webpack_require__(7966));\r\nconst Random_1 = __importDefault(__webpack_require__(3640));\r\nclass ThrowFood extends Action_1.default {\r\n    constructor(targets, onSuccess) {\r\n        super("Throw Food");\r\n        this._cast = () => {\r\n            this.targets.forEach((target) => {\r\n                const harmAmount = Random_1.default.fromIntegerIntervalInclusive(12, 18);\r\n                target.harm(harmAmount);\r\n                if (!target.isDead() && Math.random() < 0.5) {\r\n                    const foodPoisoningDebuff = new DotDebuff_1.default({\r\n                        name: DebuffName_1.DebuffName.FoodPoisoning,\r\n                        description: "The food was bland and dry, dealing 8-16 damage every 1 second for 5 seconds.",\r\n                        interval: 1000,\r\n                        duration: 5000,\r\n                        target: target,\r\n                        harmEffect: (target, harmAmount) => {\r\n                            target.harm(harmAmount);\r\n                            return harmAmount;\r\n                        },\r\n                        getHarmAmount: (target) => {\r\n                            return Random_1.default.fromIntegerIntervalInclusive(8, 16);\r\n                        },\r\n                    });\r\n                    target.applyDebuff(foodPoisoningDebuff);\r\n                }\r\n            });\r\n        };\r\n        this._complete = () => {\r\n            this._cast();\r\n            this._onSuccess();\r\n        };\r\n        this.targets = targets;\r\n        this._onSuccess = onSuccess;\r\n        const wrapper = { ...Animations_1.default.fullWidth2000 };\r\n        wrapper.animation.options.complete = this._complete;\r\n        this.animation = [wrapper.animation];\r\n    }\r\n}\r\nexports["default"] = ThrowFood;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDI2My5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLDREQUErQjtBQUUvQixnRUFBdUM7QUFDdkMsK0NBQTJDO0FBQzNDLCtEQUFxQztBQUVyQyw0REFBK0I7QUFFL0IsTUFBcUIsU0FBVSxTQUFRLGdCQUFNO0lBc0MzQyxZQUFZLE9BQW1CLEVBQUUsU0FBcUI7UUFDcEQsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBdENkLFVBQUssR0FBRyxHQUFHLEVBQUU7WUFDbkIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFnQixFQUFFLEVBQUU7Z0JBQ3hDLE1BQU0sVUFBVSxHQUFHLGdCQUFNLENBQUMsNEJBQTRCLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO2dCQUMvRCxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO2dCQUV4QixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxHQUFHLEVBQUU7b0JBQzNDLE1BQU0sbUJBQW1CLEdBQUcsSUFBSSxtQkFBUyxDQUFDO3dCQUN4QyxJQUFJLEVBQUUsdUJBQVUsQ0FBQyxhQUFhO3dCQUM5QixXQUFXLEVBQ1QsK0VBQStFO3dCQUNqRixRQUFRLEVBQUUsSUFBSTt3QkFDZCxRQUFRLEVBQUUsSUFBSTt3QkFDZCxNQUFNLEVBQUUsTUFBTTt3QkFDZCxVQUFVLEVBQUUsQ0FBQyxNQUFnQixFQUFFLFVBQWtCLEVBQUUsRUFBRTs0QkFDbkQsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQzs0QkFDeEIsT0FBTyxVQUFVLENBQUM7d0JBQ3BCLENBQUM7d0JBQ0QsYUFBYSxFQUFFLENBQUMsTUFBZ0IsRUFBVSxFQUFFOzRCQUMxQyxPQUFPLGdCQUFNLENBQUMsNEJBQTRCLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO3dCQUNwRCxDQUFDO3FCQUNGLENBQUMsQ0FBQztvQkFFSCxNQUFNLENBQUMsV0FBVyxDQUFDLG1CQUFtQixDQUFDLENBQUM7aUJBQ3pDO1lBQ0gsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUM7UUFFTSxjQUFTLEdBQUcsR0FBRyxFQUFFO1lBQ3ZCLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNiLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUNwQixDQUFDLENBQUM7UUFVQSxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN2QixJQUFJLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQztRQUU1QixNQUFNLE9BQU8sR0FBcUIsRUFBRSxHQUFHLG9CQUFVLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDbEUsT0FBTyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7UUFFcEQsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUN2QyxDQUFDO0NBQ0Y7QUFqREQsK0JBaURDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHMtcGxlYXNlLy4vdHMvQm9zc2VzL0dvcmRvUmFtemVlL0FjdGlvbnMvVGhyb3dGb29kLnRzPzg1NjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFjdGlvbiBmcm9tIFwidHMvQWN0aW9uXCI7XHJcbmltcG9ydCB7IEFuaW1hdGlvbiwgQW5pbWF0aW9uV3JhcHBlciB9IGZyb20gXCJ0cy9BbmltYXRpb25cIjtcclxuaW1wb3J0IEFuaW1hdGlvbnMgZnJvbSBcInRzL0FuaW1hdGlvbnNcIjtcclxuaW1wb3J0IHsgRGVidWZmTmFtZSB9IGZyb20gXCJ0cy9EZWJ1ZmZOYW1lXCI7XHJcbmltcG9ydCBEb3REZWJ1ZmYgZnJvbSBcInRzL0RvdERlYnVmZlwiO1xyXG5pbXBvcnQgRnJpZW5kbHkgZnJvbSBcInRzL0ZyaWVuZGx5XCI7XHJcbmltcG9ydCBSYW5kb20gZnJvbSBcInRzL1JhbmRvbVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGhyb3dGb29kIGV4dGVuZHMgQWN0aW9uIHtcclxuICBwcml2YXRlIF9jYXN0ID0gKCkgPT4ge1xyXG4gICAgdGhpcy50YXJnZXRzLmZvckVhY2goKHRhcmdldDogRnJpZW5kbHkpID0+IHtcclxuICAgICAgY29uc3QgaGFybUFtb3VudCA9IFJhbmRvbS5mcm9tSW50ZWdlckludGVydmFsSW5jbHVzaXZlKDEyLCAxOCk7XHJcbiAgICAgIHRhcmdldC5oYXJtKGhhcm1BbW91bnQpO1xyXG5cclxuICAgICAgaWYgKCF0YXJnZXQuaXNEZWFkKCkgJiYgTWF0aC5yYW5kb20oKSA8IDAuNSkge1xyXG4gICAgICAgIGNvbnN0IGZvb2RQb2lzb25pbmdEZWJ1ZmYgPSBuZXcgRG90RGVidWZmKHtcclxuICAgICAgICAgIG5hbWU6IERlYnVmZk5hbWUuRm9vZFBvaXNvbmluZyxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICAgICBcIlRoZSBmb29kIHdhcyBibGFuZCBhbmQgZHJ5LCBkZWFsaW5nIDgtMTYgZGFtYWdlIGV2ZXJ5IDEgc2Vjb25kIGZvciA1IHNlY29uZHMuXCIsXHJcbiAgICAgICAgICBpbnRlcnZhbDogMTAwMCxcclxuICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLFxyXG4gICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXHJcbiAgICAgICAgICBoYXJtRWZmZWN0OiAodGFyZ2V0OiBGcmllbmRseSwgaGFybUFtb3VudDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIHRhcmdldC5oYXJtKGhhcm1BbW91bnQpO1xyXG4gICAgICAgICAgICByZXR1cm4gaGFybUFtb3VudDtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBnZXRIYXJtQW1vdW50OiAodGFyZ2V0OiBGcmllbmRseSk6IG51bWJlciA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBSYW5kb20uZnJvbUludGVnZXJJbnRlcnZhbEluY2x1c2l2ZSg4LCAxNik7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0YXJnZXQuYXBwbHlEZWJ1ZmYoZm9vZFBvaXNvbmluZ0RlYnVmZik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX2NvbXBsZXRlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fY2FzdCgpO1xyXG4gICAgdGhpcy5fb25TdWNjZXNzKCk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBfb25TdWNjZXNzOiAoKSA9PiB2b2lkO1xyXG5cclxuICBhbmltYXRpb246IEFuaW1hdGlvbltdO1xyXG4gIHRhcmdldHM6IEZyaWVuZGx5W107XHJcblxyXG4gIGNvbnN0cnVjdG9yKHRhcmdldHM6IEZyaWVuZGx5W10sIG9uU3VjY2VzczogKCkgPT4gdm9pZCkge1xyXG4gICAgc3VwZXIoXCJUaHJvdyBGb29kXCIpO1xyXG5cclxuICAgIHRoaXMudGFyZ2V0cyA9IHRhcmdldHM7XHJcbiAgICB0aGlzLl9vblN1Y2Nlc3MgPSBvblN1Y2Nlc3M7XHJcblxyXG4gICAgY29uc3Qgd3JhcHBlcjogQW5pbWF0aW9uV3JhcHBlciA9IHsgLi4uQW5pbWF0aW9ucy5mdWxsV2lkdGgyMDAwIH07XHJcbiAgICB3cmFwcGVyLmFuaW1hdGlvbi5vcHRpb25zLmNvbXBsZXRlID0gdGhpcy5fY29tcGxldGU7XHJcblxyXG4gICAgdGhpcy5hbmltYXRpb24gPSBbd3JhcHBlci5hbmltYXRpb25dO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4263\n')},9473:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst Action_1 = __importDefault(__webpack_require__(5942));\r\nconst Animations_1 = __importDefault(__webpack_require__(9454));\r\nclass Enrage extends Action_1.default {\r\n    constructor(targets, onSuccess) {\r\n        super("Enrage");\r\n        const wrapper = { ...Animations_1.default.fullWidth5000 };\r\n        wrapper.animation.options.complete = onSuccess;\r\n        this.animation = [wrapper.animation];\r\n    }\r\n}\r\nexports["default"] = Enrage;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTQ3My5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLDREQUErQjtBQUUvQixnRUFBdUM7QUFHdkMsTUFBcUIsTUFBTyxTQUFRLGdCQUFNO0lBR3hDLFlBQVksT0FBbUIsRUFBRSxTQUFxQjtRQUNwRCxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7UUFFaEIsTUFBTSxPQUFPLEdBQXFCLEVBQUUsR0FBRyxvQkFBVSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ2xFLE9BQU8sQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLFFBQVEsR0FBRyxTQUFTLENBQUM7UUFFL0MsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUN2QyxDQUFDO0NBQ0Y7QUFYRCw0QkFXQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWxzLXBsZWFzZS8uL3RzL0Jvc3Nlcy9TaGFyZWQvQWN0aW9ucy9FbnJhZ2UudHM/ODFkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQWN0aW9uIGZyb20gXCJ0cy9BY3Rpb25cIjtcclxuaW1wb3J0IHsgQW5pbWF0aW9uLCBBbmltYXRpb25XcmFwcGVyIH0gZnJvbSBcInRzL0FuaW1hdGlvblwiO1xyXG5pbXBvcnQgQW5pbWF0aW9ucyBmcm9tIFwidHMvQW5pbWF0aW9uc1wiO1xyXG5pbXBvcnQgRnJpZW5kbHkgZnJvbSBcInRzL0ZyaWVuZGx5XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbnJhZ2UgZXh0ZW5kcyBBY3Rpb24ge1xyXG4gIGFuaW1hdGlvbjogQW5pbWF0aW9uW107XHJcblxyXG4gIGNvbnN0cnVjdG9yKHRhcmdldHM6IEZyaWVuZGx5W10sIG9uU3VjY2VzczogKCkgPT4gdm9pZCkge1xyXG4gICAgc3VwZXIoXCJFbnJhZ2VcIik7XHJcblxyXG4gICAgY29uc3Qgd3JhcHBlcjogQW5pbWF0aW9uV3JhcHBlciA9IHsgLi4uQW5pbWF0aW9ucy5mdWxsV2lkdGg1MDAwIH07XHJcbiAgICB3cmFwcGVyLmFuaW1hdGlvbi5vcHRpb25zLmNvbXBsZXRlID0gb25TdWNjZXNzO1xyXG5cclxuICAgIHRoaXMuYW5pbWF0aW9uID0gW3dyYXBwZXIuYW5pbWF0aW9uXTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9473\n')},9347:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst Icons_1 = __webpack_require__(3607);\r\nconst Loop_1 = __importDefault(__webpack_require__(893));\r\nclass Buff {\r\n    constructor(params) {\r\n        this._applied = false;\r\n        this._tick = () => {\r\n            if (!this._applied) {\r\n                this._effect(this._target);\r\n                this._applied = true;\r\n            }\r\n            else {\r\n                this._loop.stop();\r\n                this._target.removeBuff(this.name);\r\n            }\r\n        };\r\n        this.pause = () => {\r\n            this._loop.pause();\r\n        };\r\n        this.resume = () => {\r\n            this._loop.resume();\r\n        };\r\n        this.start = (target) => {\r\n            this._target = target;\r\n        };\r\n        this.stop = () => {\r\n            this._loop.stop();\r\n        };\r\n        const name = params.name;\r\n        this.name = name;\r\n        this.description = params.description;\r\n        this._duration = params.duration;\r\n        this._target = params.target;\r\n        this._effect = params.effect;\r\n        this.icon = (0, Icons_1.getBuffIcon)(name);\r\n        this._loop = new Loop_1.default(name, this._tick, this._duration);\r\n    }\r\n    get tooltip() {\r\n        return `${this.name} -> ${this.description}`;\r\n    }\r\n}\r\nexports["default"] = Buff;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTM0Ny5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUdBLDBDQUFzQztBQUN0Qyx5REFBMEI7QUFFMUIsTUFBcUIsSUFBSTtJQW9DdkIsWUFBWSxNQUFrQjtRQW5DdEIsYUFBUSxHQUFZLEtBQUssQ0FBQztRQU14QixVQUFLLEdBQUcsR0FBRyxFQUFFO1lBQ3JCLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFO2dCQUNsQixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDM0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7YUFDdEI7aUJBQU07Z0JBQ0wsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFDbEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQ3BDO1FBQ0gsQ0FBQyxDQUFDO1FBS0YsVUFBSyxHQUFHLEdBQUcsRUFBRTtZQUNYLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDckIsQ0FBQyxDQUFDO1FBRUYsV0FBTSxHQUFHLEdBQUcsRUFBRTtZQUNaLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDdEIsQ0FBQyxDQUFDO1FBRUYsVUFBSyxHQUFHLENBQUMsTUFBZ0IsRUFBRSxFQUFFO1lBQzNCLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO1FBQ3hCLENBQUMsQ0FBQztRQUVGLFNBQUksR0FBRyxHQUFHLEVBQUU7WUFDVixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ3BCLENBQUMsQ0FBQztRQUdBLE1BQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFFekIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLFdBQVcsR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQztRQUNqQyxJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDN0IsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQzdCLElBQUksQ0FBQyxJQUFJLEdBQUcsdUJBQVcsRUFBQyxJQUFJLENBQUMsQ0FBQztRQUU5QixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksY0FBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUMxRCxDQUFDO0lBRUQsSUFBSSxPQUFPO1FBQ1QsT0FBTyxHQUFHLElBQUksQ0FBQyxJQUFJLE9BQU8sSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQy9DLENBQUM7Q0FDRjtBQXBERCwwQkFvREMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFscy1wbGVhc2UvLi90cy9CdWZmLnRzPzAxNDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQnVmZk5hbWUgfSBmcm9tIFwiLi9CdWZmTmFtZVwiO1xyXG5pbXBvcnQgeyBCdWZmUGFyYW1zIH0gZnJvbSBcIi4vQnVmZlBhcmFtc1wiO1xyXG5pbXBvcnQgRnJpZW5kbHkgZnJvbSBcIi4vRnJpZW5kbHlcIjtcclxuaW1wb3J0IHsgZ2V0QnVmZkljb24gfSBmcm9tIFwiLi9JY29uc1wiO1xyXG5pbXBvcnQgTG9vcCBmcm9tIFwiLi9Mb29wXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdWZmIHtcclxuICBwcml2YXRlIF9hcHBsaWVkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gIHByb3RlY3RlZCBfZHVyYXRpb246IG51bWJlcjtcclxuICBwcm90ZWN0ZWQgX2VmZmVjdDogKHRhcmdldDogRnJpZW5kbHkpID0+IHZvaWQ7XHJcbiAgcHJvdGVjdGVkIF9sb29wOiBMb29wO1xyXG4gIHByb3RlY3RlZCBfdGFyZ2V0OiBGcmllbmRseTtcclxuICBwcm90ZWN0ZWQgX3RpY2sgPSAoKSA9PiB7XHJcbiAgICBpZiAoIXRoaXMuX2FwcGxpZWQpIHtcclxuICAgICAgdGhpcy5fZWZmZWN0KHRoaXMuX3RhcmdldCk7XHJcbiAgICAgIHRoaXMuX2FwcGxpZWQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fbG9vcC5zdG9wKCk7XHJcbiAgICAgIHRoaXMuX3RhcmdldC5yZW1vdmVCdWZmKHRoaXMubmFtZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICBpY29uOiBzdHJpbmc7XHJcbiAgbmFtZTogQnVmZk5hbWU7XHJcbiAgcGF1c2UgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9sb29wLnBhdXNlKCk7XHJcbiAgfTtcclxuXHJcbiAgcmVzdW1lID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fbG9vcC5yZXN1bWUoKTtcclxuICB9O1xyXG5cclxuICBzdGFydCA9ICh0YXJnZXQ6IEZyaWVuZGx5KSA9PiB7XHJcbiAgICB0aGlzLl90YXJnZXQgPSB0YXJnZXQ7XHJcbiAgfTtcclxuXHJcbiAgc3RvcCA9ICgpID0+IHtcclxuICAgIHRoaXMuX2xvb3Auc3RvcCgpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBhcmFtczogQnVmZlBhcmFtcykge1xyXG4gICAgY29uc3QgbmFtZSA9IHBhcmFtcy5uYW1lO1xyXG5cclxuICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gcGFyYW1zLmRlc2NyaXB0aW9uO1xyXG4gICAgdGhpcy5fZHVyYXRpb24gPSBwYXJhbXMuZHVyYXRpb247XHJcbiAgICB0aGlzLl90YXJnZXQgPSBwYXJhbXMudGFyZ2V0O1xyXG4gICAgdGhpcy5fZWZmZWN0ID0gcGFyYW1zLmVmZmVjdDtcclxuICAgIHRoaXMuaWNvbiA9IGdldEJ1ZmZJY29uKG5hbWUpO1xyXG5cclxuICAgIHRoaXMuX2xvb3AgPSBuZXcgTG9vcChuYW1lLCB0aGlzLl90aWNrLCB0aGlzLl9kdXJhdGlvbik7XHJcbiAgfVxyXG5cclxuICBnZXQgdG9vbHRpcCgpIHtcclxuICAgIHJldHVybiBgJHt0aGlzLm5hbWV9IC0+ICR7dGhpcy5kZXNjcmlwdGlvbn1gO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9347\n')},8176:(__unused_webpack_module,exports)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.BuffName = void 0;\r\nvar BuffName;\r\n(function (BuffName) {\r\n    BuffName["Renew"] = "Renew";\r\n})(BuffName = exports.BuffName || (exports.BuffName = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODE3Ni5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBQSxJQUFZLFFBRVg7QUFGRCxXQUFZLFFBQVE7SUFDbEIsMkJBQWU7QUFDakIsQ0FBQyxFQUZXLFFBQVEsR0FBUixnQkFBUSxLQUFSLGdCQUFRLFFBRW5CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHMtcGxlYXNlLy4vdHMvQnVmZk5hbWUudHM/MDQwMSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZW51bSBCdWZmTmFtZSB7XHJcbiAgUmVuZXcgPSBcIlJlbmV3XCIsXHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8176\n')},5584:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst DebuffType_1 = __webpack_require__(1660);\r\nconst Icons_1 = __webpack_require__(3607);\r\nconst Loop_1 = __importDefault(__webpack_require__(893));\r\nclass Debuff {\r\n    constructor(params) {\r\n        this.tick = () => {\r\n            this.loop.stop();\r\n            this.target.removeDebuff(this.name);\r\n        };\r\n        this.pause = () => {\r\n            this.loop.pause();\r\n        };\r\n        this.resume = () => {\r\n            this.loop.resume();\r\n        };\r\n        this.restart = () => {\r\n            this.loop.restart();\r\n        };\r\n        this.start = (target) => {\r\n            this.target = target;\r\n            if (this.harmEffect) {\r\n                this.harmEffect(this.target, 0);\r\n            }\r\n            this.loop.start();\r\n        };\r\n        this.stop = () => {\r\n            this.loop.stop();\r\n        };\r\n        this.postHealCallback = (target) => {\r\n            if (this._postHealCallback) {\r\n                this._postHealCallback(target);\r\n            }\r\n        };\r\n        const name = params.name;\r\n        this.name = name;\r\n        this.description = params.description;\r\n        this.type = params.type || DebuffType_1.DebuffType.None;\r\n        this.harmEffect = params.harmEffect;\r\n        this.getHarmAmount = params.getHarmAmount || ((target) => 0);\r\n        this.icon = (0, Icons_1.getDebuffIcon)(name);\r\n        this._postHealCallback = params.postHealCallback;\r\n        this.duration = params.duration || 5000;\r\n        this.target = params.target;\r\n        this.loop = new Loop_1.default(name, this.tick, this.duration);\r\n    }\r\n    get tooltip() {\r\n        return `${this.name} -> ${this.description}`;\r\n    }\r\n}\r\nexports["default"] = Debuff;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTU4NC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUVBLCtDQUEwQztBQUUxQywwQ0FBd0M7QUFDeEMseURBQTBCO0FBRTFCLE1BQXFCLE1BQU07SUFnRHpCLFlBQVksTUFBb0I7UUF6Q3RCLFNBQUksR0FBRyxHQUFHLEVBQUU7WUFDcEIsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNqQixJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdEMsQ0FBQyxDQUFDO1FBTUYsVUFBSyxHQUFHLEdBQUcsRUFBRTtZQUNYLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDcEIsQ0FBQyxDQUFDO1FBRUYsV0FBTSxHQUFHLEdBQUcsRUFBRTtZQUNaLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDckIsQ0FBQyxDQUFDO1FBRUYsWUFBTyxHQUFHLEdBQUcsRUFBRTtZQUNiLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDdEIsQ0FBQyxDQUFDO1FBRUYsVUFBSyxHQUFHLENBQUMsTUFBZ0IsRUFBRSxFQUFFO1lBQzNCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1lBQ3JCLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtnQkFDbkIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDO2FBQ2pDO1lBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNwQixDQUFDLENBQUM7UUFFRixTQUFJLEdBQUcsR0FBRyxFQUFFO1lBQ1YsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNuQixDQUFDLENBQUM7UUFFRixxQkFBZ0IsR0FBRyxDQUFDLE1BQWdCLEVBQVEsRUFBRTtZQUM1QyxJQUFJLElBQUksQ0FBQyxpQkFBaUIsRUFBRTtnQkFDMUIsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQ2hDO1FBQ0gsQ0FBQyxDQUFDO1FBS0EsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQztRQUV6QixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUM7UUFDdEMsSUFBSSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxJQUFJLHVCQUFVLENBQUMsSUFBSSxDQUFDO1FBQzNDLElBQUksQ0FBQyxVQUFVLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQztRQUNwQyxJQUFJLENBQUMsYUFBYSxHQUFHLE1BQU0sQ0FBQyxhQUFhLElBQUksQ0FBQyxDQUFDLE1BQWdCLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZFLElBQUksQ0FBQyxJQUFJLEdBQUcseUJBQWEsRUFBQyxJQUFJLENBQUMsQ0FBQztRQUNoQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsTUFBTSxDQUFDLGdCQUFnQixDQUFDO1FBRWpELElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUM7UUFFeEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQzVCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxjQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3ZELENBQUM7SUFFRCxJQUFJLE9BQU87UUFDVCxPQUFPLEdBQUcsSUFBSSxDQUFDLElBQUksT0FBTyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDL0MsQ0FBQztDQUNGO0FBcEVELDRCQW9FQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWxzLXBsZWFzZS8uL3RzL0RlYnVmZi50cz83OTIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERlYnVmZk5hbWUgfSBmcm9tIFwiLi9EZWJ1ZmZOYW1lXCI7XHJcbmltcG9ydCB7IERlYnVmZlBhcmFtcyB9IGZyb20gXCIuL0RlYnVmZlBhcmFtc1wiO1xyXG5pbXBvcnQgeyBEZWJ1ZmZUeXBlIH0gZnJvbSBcIi4vRGVidWZmVHlwZVwiO1xyXG5pbXBvcnQgRnJpZW5kbHkgZnJvbSBcIi4vRnJpZW5kbHlcIjtcclxuaW1wb3J0IHsgZ2V0RGVidWZmSWNvbiB9IGZyb20gXCIuL0ljb25zXCI7XHJcbmltcG9ydCBMb29wIGZyb20gXCIuL0xvb3BcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERlYnVmZiB7XHJcbiAgcHJpdmF0ZSBfcG9zdEhlYWxDYWxsYmFjaz86ICh0YXJnZXQ6IEZyaWVuZGx5KSA9PiB2b2lkO1xyXG5cclxuICBwcm90ZWN0ZWQgZHVyYXRpb246IG51bWJlcjtcclxuICBwcm90ZWN0ZWQgbG9vcDogTG9vcDtcclxuICBwcm90ZWN0ZWQgZ2V0SGFybUFtb3VudDogKHRhcmdldDogRnJpZW5kbHkpID0+IG51bWJlcjtcclxuICBwcm90ZWN0ZWQgdGFyZ2V0OiBGcmllbmRseTtcclxuICBwcm90ZWN0ZWQgdGljayA9ICgpID0+IHtcclxuICAgIHRoaXMubG9vcC5zdG9wKCk7XHJcbiAgICB0aGlzLnRhcmdldC5yZW1vdmVEZWJ1ZmYodGhpcy5uYW1lKTtcclxuICB9O1xyXG5cclxuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIGhhcm1FZmZlY3Q/OiAodGFyZ2V0OiBGcmllbmRseSwgaGFybUFtb3VudDogbnVtYmVyKSA9PiBudW1iZXI7XHJcbiAgaWNvbjogc3RyaW5nO1xyXG4gIG5hbWU6IERlYnVmZk5hbWU7XHJcbiAgcGF1c2UgPSAoKSA9PiB7XHJcbiAgICB0aGlzLmxvb3AucGF1c2UoKTtcclxuICB9O1xyXG5cclxuICByZXN1bWUgPSAoKSA9PiB7XHJcbiAgICB0aGlzLmxvb3AucmVzdW1lKCk7XHJcbiAgfTtcclxuXHJcbiAgcmVzdGFydCA9ICgpID0+IHtcclxuICAgIHRoaXMubG9vcC5yZXN0YXJ0KCk7XHJcbiAgfTtcclxuXHJcbiAgc3RhcnQgPSAodGFyZ2V0OiBGcmllbmRseSkgPT4ge1xyXG4gICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcbiAgICBpZiAodGhpcy5oYXJtRWZmZWN0KSB7XHJcbiAgICAgIHRoaXMuaGFybUVmZmVjdCh0aGlzLnRhcmdldCwgMCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmxvb3Auc3RhcnQoKTtcclxuICB9O1xyXG5cclxuICBzdG9wID0gKCkgPT4ge1xyXG4gICAgdGhpcy5sb29wLnN0b3AoKTtcclxuICB9O1xyXG5cclxuICBwb3N0SGVhbENhbGxiYWNrID0gKHRhcmdldDogRnJpZW5kbHkpOiB2b2lkID0+IHtcclxuICAgIGlmICh0aGlzLl9wb3N0SGVhbENhbGxiYWNrKSB7XHJcbiAgICAgIHRoaXMuX3Bvc3RIZWFsQ2FsbGJhY2sodGFyZ2V0KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB0eXBlOiBEZWJ1ZmZUeXBlO1xyXG5cclxuICBjb25zdHJ1Y3RvcihwYXJhbXM6IERlYnVmZlBhcmFtcykge1xyXG4gICAgY29uc3QgbmFtZSA9IHBhcmFtcy5uYW1lO1xyXG5cclxuICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gcGFyYW1zLmRlc2NyaXB0aW9uO1xyXG4gICAgdGhpcy50eXBlID0gcGFyYW1zLnR5cGUgfHwgRGVidWZmVHlwZS5Ob25lO1xyXG4gICAgdGhpcy5oYXJtRWZmZWN0ID0gcGFyYW1zLmhhcm1FZmZlY3Q7XHJcbiAgICB0aGlzLmdldEhhcm1BbW91bnQgPSBwYXJhbXMuZ2V0SGFybUFtb3VudCB8fCAoKHRhcmdldDogRnJpZW5kbHkpID0+IDApO1xyXG4gICAgdGhpcy5pY29uID0gZ2V0RGVidWZmSWNvbihuYW1lKTtcclxuICAgIHRoaXMuX3Bvc3RIZWFsQ2FsbGJhY2sgPSBwYXJhbXMucG9zdEhlYWxDYWxsYmFjaztcclxuXHJcbiAgICB0aGlzLmR1cmF0aW9uID0gcGFyYW1zLmR1cmF0aW9uIHx8IDUwMDA7XHJcblxyXG4gICAgdGhpcy50YXJnZXQgPSBwYXJhbXMudGFyZ2V0O1xyXG4gICAgdGhpcy5sb29wID0gbmV3IExvb3AobmFtZSwgdGhpcy50aWNrLCB0aGlzLmR1cmF0aW9uKTtcclxuICB9XHJcblxyXG4gIGdldCB0b29sdGlwKCkge1xyXG4gICAgcmV0dXJuIGAke3RoaXMubmFtZX0gLT4gJHt0aGlzLmRlc2NyaXB0aW9ufWA7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5584\n')},8017:(__unused_webpack_module,exports)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.DebuffName = void 0;\r\nvar DebuffName;\r\n(function (DebuffName) {\r\n    DebuffName["FoodPoisoning"] = "Food Poisoning";\r\n    DebuffName["Uncertainty"] = "Uncertainty";\r\n    DebuffName["Confusion"] = "Confusion";\r\n    DebuffName["Bleed"] = "Bleed";\r\n    DebuffName["Silence"] = "Silence";\r\n})(DebuffName = exports.DebuffName || (exports.DebuffName = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODAxNy5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBQSxJQUFZLFVBTVg7QUFORCxXQUFZLFVBQVU7SUFDcEIsOENBQWdDO0lBQ2hDLHlDQUEyQjtJQUMzQixxQ0FBdUI7SUFDdkIsNkJBQWU7SUFDZixpQ0FBbUI7QUFDckIsQ0FBQyxFQU5XLFVBQVUsR0FBVixrQkFBVSxLQUFWLGtCQUFVLFFBTXJCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHMtcGxlYXNlLy4vdHMvRGVidWZmTmFtZS50cz9lOWRkIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBlbnVtIERlYnVmZk5hbWUge1xyXG4gIEZvb2RQb2lzb25pbmcgPSBcIkZvb2QgUG9pc29uaW5nXCIsXHJcbiAgVW5jZXJ0YWludHkgPSBcIlVuY2VydGFpbnR5XCIsXHJcbiAgQ29uZnVzaW9uID0gXCJDb25mdXNpb25cIixcclxuICBCbGVlZCA9IFwiQmxlZWRcIixcclxuICBTaWxlbmNlID0gXCJTaWxlbmNlXCIsXHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8017\n')},1660:(__unused_webpack_module,exports)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.DebuffType = void 0;\r\nvar DebuffType;\r\n(function (DebuffType) {\r\n    DebuffType[DebuffType["None"] = 0] = "None";\r\n    DebuffType[DebuffType["DamageOverTime"] = 1] = "DamageOverTime";\r\n    DebuffType[DebuffType["IncreaseDamageTaken"] = 2] = "IncreaseDamageTaken";\r\n    DebuffType[DebuffType["Silence"] = 3] = "Silence";\r\n})(DebuffType = exports.DebuffType || (exports.DebuffType = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTY2MC5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBQSxJQUFZLFVBS1g7QUFMRCxXQUFZLFVBQVU7SUFDcEIsMkNBQVE7SUFDUiwrREFBa0I7SUFDbEIseUVBQXVCO0lBQ3ZCLGlEQUFXO0FBQ2IsQ0FBQyxFQUxXLFVBQVUsR0FBVixrQkFBVSxLQUFWLGtCQUFVLFFBS3JCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHMtcGxlYXNlLy4vdHMvRGVidWZmVHlwZS50cz82OWE0Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBlbnVtIERlYnVmZlR5cGUge1xyXG4gIE5vbmUgPSAwLFxyXG4gIERhbWFnZU92ZXJUaW1lID0gMSxcclxuICBJbmNyZWFzZURhbWFnZVRha2VuID0gMixcclxuICBTaWxlbmNlID0gMyxcclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1660\n')},7966:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst Debuff_1 = __importDefault(__webpack_require__(5584));\r\nconst DebuffType_1 = __webpack_require__(1660);\r\nconst Loop_1 = __importDefault(__webpack_require__(893));\r\nclass DotDebuff extends Debuff_1.default {\r\n    constructor(params) {\r\n        super(params);\r\n        this.tick = () => {\r\n            if (this.harmEffect) {\r\n                this.harmEffect(this.target, this.getHarmAmount(this.target));\r\n            }\r\n            if (this.duration > 0 && ++this._tickCount === this._numTicks) {\r\n                this.loop.stop();\r\n                this.target.removeDebuff(this.name);\r\n            }\r\n        };\r\n        this.type = DebuffType_1.DebuffType.DamageOverTime;\r\n        this._interval = params.interval || 2000;\r\n        this._tickCount = 0;\r\n        this._numTicks = Math.floor(this.duration / this._interval);\r\n        this.loop = new Loop_1.default(params.name, this.tick, this._interval);\r\n    }\r\n}\r\nexports["default"] = DotDebuff;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzk2Ni5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLDREQUE4QjtBQUU5QiwrQ0FBMEM7QUFDMUMseURBQTBCO0FBTTFCLE1BQXFCLFNBQVUsU0FBUSxnQkFBTTtJQWdCM0MsWUFBWSxNQUF1QjtRQUNqQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7UUFaRyxTQUFJLEdBQUcsR0FBRyxFQUFFO1lBQzdCLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtnQkFDbkIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7YUFDL0Q7WUFFRCxJQUFJLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFVBQVUsS0FBSyxJQUFJLENBQUMsU0FBUyxFQUFFO2dCQUM3RCxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUNqQixJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDckM7UUFDSCxDQUFDLENBQUM7UUFLQSxJQUFJLENBQUMsSUFBSSxHQUFHLHVCQUFVLENBQUMsY0FBYyxDQUFDO1FBRXRDLElBQUksQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUM7UUFDekMsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUM7UUFDcEIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBRTVELElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxjQUFJLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUMvRCxDQUFDO0NBQ0Y7QUEzQkQsK0JBMkJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHMtcGxlYXNlLy4vdHMvRG90RGVidWZmLnRzPzQzZjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERlYnVmZiBmcm9tIFwiLi9EZWJ1ZmZcIjtcclxuaW1wb3J0IHsgRGVidWZmUGFyYW1zIH0gZnJvbSBcIi4vRGVidWZmUGFyYW1zXCI7XHJcbmltcG9ydCB7IERlYnVmZlR5cGUgfSBmcm9tIFwiLi9EZWJ1ZmZUeXBlXCI7XHJcbmltcG9ydCBMb29wIGZyb20gXCIuL0xvb3BcIjtcclxuXHJcbnR5cGUgRG90RGVidWZmUGFyYW1zID0gRGVidWZmUGFyYW1zICYge1xyXG4gIGludGVydmFsOiBudW1iZXI7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEb3REZWJ1ZmYgZXh0ZW5kcyBEZWJ1ZmYge1xyXG4gIHByaXZhdGUgX2ludGVydmFsOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBfbnVtVGlja3M6IG51bWJlcjtcclxuICBwcml2YXRlIF90aWNrQ291bnQ6IG51bWJlcjtcclxuXHJcbiAgcHJvdGVjdGVkIG92ZXJyaWRlIHRpY2sgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5oYXJtRWZmZWN0KSB7XHJcbiAgICAgIHRoaXMuaGFybUVmZmVjdCh0aGlzLnRhcmdldCwgdGhpcy5nZXRIYXJtQW1vdW50KHRoaXMudGFyZ2V0KSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuZHVyYXRpb24gPiAwICYmICsrdGhpcy5fdGlja0NvdW50ID09PSB0aGlzLl9udW1UaWNrcykge1xyXG4gICAgICB0aGlzLmxvb3Auc3RvcCgpO1xyXG4gICAgICB0aGlzLnRhcmdldC5yZW1vdmVEZWJ1ZmYodGhpcy5uYW1lKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdHJ1Y3RvcihwYXJhbXM6IERvdERlYnVmZlBhcmFtcykge1xyXG4gICAgc3VwZXIocGFyYW1zKTtcclxuXHJcbiAgICB0aGlzLnR5cGUgPSBEZWJ1ZmZUeXBlLkRhbWFnZU92ZXJUaW1lO1xyXG5cclxuICAgIHRoaXMuX2ludGVydmFsID0gcGFyYW1zLmludGVydmFsIHx8IDIwMDA7XHJcbiAgICB0aGlzLl90aWNrQ291bnQgPSAwO1xyXG4gICAgdGhpcy5fbnVtVGlja3MgPSBNYXRoLmZsb29yKHRoaXMuZHVyYXRpb24gLyB0aGlzLl9pbnRlcnZhbCk7XHJcblxyXG4gICAgdGhpcy5sb29wID0gbmV3IExvb3AocGFyYW1zLm5hbWUsIHRoaXMudGljaywgdGhpcy5faW50ZXJ2YWwpO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7966\n')},2472:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, "default", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o["default"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst ko = __importStar(__webpack_require__(9687));\r\nconst Animations_1 = __importDefault(__webpack_require__(9454));\r\nconst DebuffType_1 = __webpack_require__(1660);\r\nconst HealOutcome_1 = __importDefault(__webpack_require__(659));\r\nconst Loop_1 = __importDefault(__webpack_require__(893));\r\nconst Loops_1 = __importDefault(__webpack_require__(7657));\r\nconst Stats_1 = __importDefault(__webpack_require__(8062));\r\nclass Friendly {\r\n    constructor(name, params) {\r\n        this._adjustHealth = (amount) => {\r\n            const currentHealth = this.health();\r\n            const newHealth = currentHealth + amount;\r\n            if (newHealth >= this.maxHealth()) {\r\n                this.health(this.maxHealth());\r\n                return newHealth - this.maxHealth(); // overheal\r\n            }\r\n            if (newHealth <= 0) {\r\n                this.health(0);\r\n                return newHealth; // underheal\r\n            }\r\n            this.health(newHealth);\r\n            return 0;\r\n        };\r\n        this._attack = () => {\r\n            this._onAttackCallback(this);\r\n        };\r\n        this._initialize = () => {\r\n            const healthSubscription = this.health.subscribe((currentHealth) => {\r\n                if (currentHealth === 0) {\r\n                    this._onDeath();\r\n                    if (this._onDeathCallback) {\r\n                        this._onDeathCallback(this);\r\n                    }\r\n                    healthSubscription.dispose();\r\n                }\r\n            });\r\n        };\r\n        this._stats = Stats_1.default;\r\n        this.getDebuffsByType = (debuffType) => {\r\n            return this.debuffs().filter((debuff) => debuff.type === debuffType);\r\n        };\r\n        this._onDeath = () => {\r\n            this.stop();\r\n            this.buffs.removeAll();\r\n            this.debuffs.removeAll();\r\n            this.isDead(true);\r\n        };\r\n        this.animations = Animations_1.default;\r\n        this.applyBuff = (buff) => {\r\n            // Remove any pre-existing buffs by this name.\r\n            this.removeBuff(buff.name);\r\n            buff.start(this);\r\n            this.buffs.push(buff);\r\n        };\r\n        this.applyDebuff = (debuff) => {\r\n            const currentDebuffs = this.getDebuffsByType(debuff.type);\r\n            if (currentDebuffs.length) {\r\n                // Don\'t apply the buff twice, just restart the current one.\r\n                currentDebuffs.forEach((currentDebuff) => currentDebuff.restart());\r\n            }\r\n            else {\r\n                debuff.start(this);\r\n                this.debuffs.push(debuff);\r\n            }\r\n        };\r\n        this.harm = (amount) => {\r\n            const debuffs = this.getDebuffsByType(DebuffType_1.DebuffType.IncreaseDamageTaken);\r\n            debuffs.forEach((debuff) => {\r\n                if (debuff.harmEffect) {\r\n                    amount = debuff.harmEffect(this, amount);\r\n                }\r\n            });\r\n            return this._adjustHealth(0 - amount);\r\n        };\r\n        this.heal = (healName, amount, isCrit, isFromHotBuff = false, isFirstHotTick = false) => {\r\n            const healOutcome = new HealOutcome_1.default(healName);\r\n            healOutcome.amount = amount;\r\n            healOutcome.isCrit = isCrit;\r\n            healOutcome.isFromHotBuff = isFromHotBuff;\r\n            healOutcome.isFirstHotTick = isFirstHotTick;\r\n            if (this.isDead()) {\r\n                healOutcome.targetDied = true;\r\n            }\r\n            else {\r\n                const overheal = this._adjustHealth(amount);\r\n                this.debuffs().forEach((debuff) => debuff.postHealCallback(this));\r\n                healOutcome.overheal = overheal;\r\n            }\r\n            this.lastHealInfo(healOutcome);\r\n            this._stats.update(healOutcome);\r\n            return healOutcome;\r\n        };\r\n        this.healToMax = (allowResurrection) => {\r\n            if (this.isDead() && allowResurrection) {\r\n                this.resurrect(this.maxHealth());\r\n            }\r\n            else {\r\n                this.health(this.maxHealth());\r\n            }\r\n        };\r\n        this.healthPercentage = ko.pureComputed(() => this.health() / this.maxHealth());\r\n        this.healthPercentageString = ko.pureComputed(() => `${100.0 * this.healthPercentage()}%`);\r\n        this.healthStatusString = ko.pureComputed(() => `${this.health()}/${this.maxHealth()}`);\r\n        this.lastHealStatusString = ko.pureComputed(() => {\r\n            const lastHealInfo = this.lastHealInfo();\r\n            if (!lastHealInfo || lastHealInfo.targetDied) {\r\n                return "";\r\n            }\r\n            return `+${lastHealInfo.effectiveAmount}`;\r\n        });\r\n        this.pause = () => {\r\n            this._loops.pause();\r\n            this.buffs().forEach(function (buff) {\r\n                buff.pause();\r\n            });\r\n            this.debuffs().forEach(function (debuff) {\r\n                debuff.pause();\r\n            });\r\n        };\r\n        this.removeBuff = (buffNameToRemove) => {\r\n            const removedBuffs = this.buffs.remove((buff) => buff.name === buffNameToRemove);\r\n            if (removedBuffs.length) {\r\n                removedBuffs.forEach((removedBuff) => {\r\n                    removedBuff.stop();\r\n                });\r\n                return true;\r\n            }\r\n            return false;\r\n        };\r\n        this.removeDebuff = (debuffNameToRemove) => {\r\n            const removedDebuffs = this.debuffs.remove((debuff) => debuff.name === debuffNameToRemove);\r\n            if (removedDebuffs.length) {\r\n                removedDebuffs.forEach((removedDebuff) => {\r\n                    removedDebuff.stop();\r\n                });\r\n                return true;\r\n            }\r\n            return false;\r\n        };\r\n        this.removeLastDebuff = () => {\r\n            this.debuffs.pop().stop();\r\n        };\r\n        this.reset = () => {\r\n            this.healToMax(true);\r\n            this.buffs.removeAll().forEach((buff) => buff.stop());\r\n            this.debuffs.removeAll().forEach((debuff) => debuff.stop());\r\n        };\r\n        this.resume = () => {\r\n            this._loops.resume();\r\n            this.buffs().forEach(function (buff) {\r\n                buff.resume();\r\n            });\r\n            this.debuffs().forEach(function (debuff) {\r\n                debuff.resume();\r\n            });\r\n        };\r\n        this.resurrect = (health) => {\r\n            if (this.isDead()) {\r\n                this.isDead(false);\r\n                this.health(health || Math.round(this.maxHealth() * 0.2));\r\n            }\r\n        };\r\n        this.start = () => {\r\n            this._loops.start();\r\n        };\r\n        this.stop = () => {\r\n            this._loops.stop();\r\n            this.buffs.removeAll().forEach(function (buff) {\r\n                buff.stop();\r\n            });\r\n            this.debuffs.removeAll().forEach(function (debuff) {\r\n                debuff.stop();\r\n            });\r\n        };\r\n        const health = params.health || 100;\r\n        this.name = name;\r\n        this.health = ko.observable(health);\r\n        this.isDead = ko.observable(false);\r\n        this.buffs = ko.observableArray([]);\r\n        this.debuffs = ko.observableArray([]);\r\n        this.lastHealInfo = ko.observable();\r\n        this.maxHealth = ko.observable(params.maxHealth || health);\r\n        this._initialAttackDelay = params.initialAttackDelay || 0;\r\n        this._attackInterval = params.attackInterval || 1000;\r\n        this._onAttackCallback = params.onAttack;\r\n        this._onDeathCallback = params.onDeath;\r\n        this._loops = new Loops_1.default(new Loop_1.default("Attack", this._attack, this._attackInterval, this._initialAttackDelay));\r\n        this._initialize();\r\n    }\r\n    get isAtFullHealth() {\r\n        return this.health() === this.maxHealth();\r\n    }\r\n}\r\nexports["default"] = Friendly;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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PzM3NWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMga28gZnJvbSBcImtub2Nrb3V0XCI7XHJcbmltcG9ydCB7IEFjdGlvbk5hbWUgfSBmcm9tIFwiLi9BY3Rpb25OYW1lXCI7XHJcbmltcG9ydCBBbmltYXRpb25zIGZyb20gXCIuL0FuaW1hdGlvbnNcIjtcclxuaW1wb3J0IEJ1ZmYgZnJvbSBcIi4vQnVmZlwiO1xyXG5pbXBvcnQgeyBCdWZmTmFtZSB9IGZyb20gXCIuL0J1ZmZOYW1lXCI7XHJcbmltcG9ydCBEZWJ1ZmYgZnJvbSBcIi4vRGVidWZmXCI7XHJcbmltcG9ydCB7IERlYnVmZk5hbWUgfSBmcm9tIFwiLi9EZWJ1ZmZOYW1lXCI7XHJcbmltcG9ydCB7IERlYnVmZlR5cGUgfSBmcm9tIFwiLi9EZWJ1ZmZUeXBlXCI7XHJcbmltcG9ydCB7IEZyaWVuZGx5UGFyYW1zIH0gZnJvbSBcIi4vRnJpZW5kbHlQYXJhbXNcIjtcclxuaW1wb3J0IEhlYWxPdXRjb21lIGZyb20gXCIuL0hlYWxPdXRjb21lXCI7XHJcbmltcG9ydCBMb29wIGZyb20gXCIuL0xvb3BcIjtcclxuaW1wb3J0IExvb3BzIGZyb20gXCIuL0xvb3BzXCI7XHJcbmltcG9ydCBTdGF0cyBmcm9tIFwiLi9TdGF0c1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRnJpZW5kbHkge1xyXG4gIHByaXZhdGUgX2FkanVzdEhlYWx0aCA9IChhbW91bnQ6IG51bWJlcik6IG51bWJlciA9PiB7XHJcbiAgICBjb25zdCBjdXJyZW50SGVhbHRoID0gdGhpcy5oZWFsdGgoKTtcclxuICAgIGNvbnN0IG5ld0hlYWx0aCA9IGN1cnJlbnRIZWFsdGggKyBhbW91bnQ7XHJcblxyXG4gICAgaWYgKG5ld0hlYWx0aCA+PSB0aGlzLm1heEhlYWx0aCgpKSB7XHJcbiAgICAgIHRoaXMuaGVhbHRoKHRoaXMubWF4SGVhbHRoKCkpO1xyXG4gICAgICByZXR1cm4gbmV3SGVhbHRoIC0gdGhpcy5tYXhIZWFsdGgoKTsgLy8gb3ZlcmhlYWxcclxuICAgIH1cclxuXHJcbiAgICBpZiAobmV3SGVhbHRoIDw9IDApIHtcclxuICAgICAgdGhpcy5oZWFsdGgoMCk7XHJcbiAgICAgIHJldHVybiBuZXdIZWFsdGg7IC8vIHVuZGVyaGVhbFxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuaGVhbHRoKG5ld0hlYWx0aCk7XHJcbiAgICByZXR1cm4gMDtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9hdHRhY2sgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9vbkF0dGFja0NhbGxiYWNrKHRoaXMpO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX2F0dGFja0ludGVydmFsOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBfaW5pdGlhbEF0dGFja0RlbGF5OiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBfaW5pdGlhbGl6ZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IGhlYWx0aFN1YnNjcmlwdGlvbiA9IHRoaXMuaGVhbHRoLnN1YnNjcmliZShcclxuICAgICAgKGN1cnJlbnRIZWFsdGg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmIChjdXJyZW50SGVhbHRoID09PSAwKSB7XHJcbiAgICAgICAgICB0aGlzLl9vbkRlYXRoKCk7XHJcbiAgICAgICAgICBpZiAodGhpcy5fb25EZWF0aENhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX29uRGVhdGhDYWxsYmFjayh0aGlzKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBoZWFsdGhTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9vbkF0dGFja0NhbGxiYWNrOiAoZnJpZW5kbHk6IEZyaWVuZGx5KSA9PiB2b2lkO1xyXG4gIHByaXZhdGUgX29uRGVhdGhDYWxsYmFjazogKGZyaWVuZGx5OiBGcmllbmRseSkgPT4gYW55O1xyXG4gIHByaXZhdGUgX3N0YXRzID0gU3RhdHM7XHJcblxyXG4gIHByb3RlY3RlZCBnZXREZWJ1ZmZzQnlUeXBlID0gKGRlYnVmZlR5cGU6IERlYnVmZlR5cGUpOiBEZWJ1ZmZbXSA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5kZWJ1ZmZzKCkuZmlsdGVyKFxyXG4gICAgICAoZGVidWZmOiBEZWJ1ZmYpID0+IGRlYnVmZi50eXBlID09PSBkZWJ1ZmZUeXBlXHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gIHByb3RlY3RlZCBfbG9vcHM6IExvb3BzO1xyXG4gIHByb3RlY3RlZCBfb25EZWF0aCA9ICgpID0+IHtcclxuICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgdGhpcy5idWZmcy5yZW1vdmVBbGwoKTtcclxuICAgIHRoaXMuZGVidWZmcy5yZW1vdmVBbGwoKTtcclxuICAgIHRoaXMuaXNEZWFkKHRydWUpO1xyXG4gIH07XHJcblxyXG4gIGFuaW1hdGlvbnM6IHR5cGVvZiBBbmltYXRpb25zID0gQW5pbWF0aW9ucztcclxuICBhcHBseUJ1ZmYgPSAoYnVmZjogQnVmZikgPT4ge1xyXG4gICAgLy8gUmVtb3ZlIGFueSBwcmUtZXhpc3RpbmcgYnVmZnMgYnkgdGhpcyBuYW1lLlxyXG4gICAgdGhpcy5yZW1vdmVCdWZmKGJ1ZmYubmFtZSk7XHJcblxyXG4gICAgYnVmZi5zdGFydCh0aGlzKTtcclxuICAgIHRoaXMuYnVmZnMucHVzaChidWZmKTtcclxuICB9O1xyXG5cclxuICBhcHBseURlYnVmZiA9IChkZWJ1ZmY6IERlYnVmZikgPT4ge1xyXG4gICAgY29uc3QgY3VycmVudERlYnVmZnMgPSB0aGlzLmdldERlYnVmZnNCeVR5cGUoZGVidWZmLnR5cGUpO1xyXG4gICAgaWYgKGN1cnJlbnREZWJ1ZmZzLmxlbmd0aCkge1xyXG4gICAgICAvLyBEb24ndCBhcHBseSB0aGUgYnVmZiB0d2ljZSwganVzdCByZXN0YXJ0IHRoZSBjdXJyZW50IG9uZS5cclxuICAgICAgY3VycmVudERlYnVmZnMuZm9yRWFjaCgoY3VycmVudERlYnVmZikgPT4gY3VycmVudERlYnVmZi5yZXN0YXJ0KCkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGVidWZmLnN0YXJ0KHRoaXMpO1xyXG4gICAgICB0aGlzLmRlYnVmZnMucHVzaChkZWJ1ZmYpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGJ1ZmZzOiBrby5PYnNlcnZhYmxlQXJyYXk8QnVmZj47XHJcbiAgZGVidWZmczoga28uT2JzZXJ2YWJsZUFycmF5PERlYnVmZj47XHJcbiAgaGFybSA9IChhbW91bnQ6IG51bWJlcikgPT4ge1xyXG4gICAgY29uc3QgZGVidWZmcyA9IHRoaXMuZ2V0RGVidWZmc0J5VHlwZShEZWJ1ZmZUeXBlLkluY3JlYXNlRGFtYWdlVGFrZW4pO1xyXG4gICAgZGVidWZmcy5mb3JFYWNoKChkZWJ1ZmY6IERlYnVmZikgPT4ge1xyXG4gICAgICBpZiAoZGVidWZmLmhhcm1FZmZlY3QpIHtcclxuICAgICAgICBhbW91bnQgPSBkZWJ1ZmYuaGFybUVmZmVjdCh0aGlzLCBhbW91bnQpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fYWRqdXN0SGVhbHRoKDAgLSBhbW91bnQpO1xyXG4gIH07XHJcblxyXG4gIGhlYWwgPSAoXHJcbiAgICBoZWFsTmFtZTogQWN0aW9uTmFtZSxcclxuICAgIGFtb3VudDogbnVtYmVyLFxyXG4gICAgaXNDcml0OiBib29sZWFuLFxyXG4gICAgaXNGcm9tSG90QnVmZjogYm9vbGVhbiA9IGZhbHNlLFxyXG4gICAgaXNGaXJzdEhvdFRpY2s6IGJvb2xlYW4gPSBmYWxzZVxyXG4gICk6IEhlYWxPdXRjb21lID0+IHtcclxuICAgIGNvbnN0IGhlYWxPdXRjb21lID0gbmV3IEhlYWxPdXRjb21lKGhlYWxOYW1lKTtcclxuICAgIGhlYWxPdXRjb21lLmFtb3VudCA9IGFtb3VudDtcclxuICAgIGhlYWxPdXRjb21lLmlzQ3JpdCA9IGlzQ3JpdDtcclxuICAgIGhlYWxPdXRjb21lLmlzRnJvbUhvdEJ1ZmYgPSBpc0Zyb21Ib3RCdWZmO1xyXG4gICAgaGVhbE91dGNvbWUuaXNGaXJzdEhvdFRpY2sgPSBpc0ZpcnN0SG90VGljaztcclxuXHJcbiAgICBpZiAodGhpcy5pc0RlYWQoKSkge1xyXG4gICAgICBoZWFsT3V0Y29tZS50YXJnZXREaWVkID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IG92ZXJoZWFsID0gdGhpcy5fYWRqdXN0SGVhbHRoKGFtb3VudCk7XHJcbiAgICAgIHRoaXMuZGVidWZmcygpLmZvckVhY2goKGRlYnVmZikgPT4gZGVidWZmLnBvc3RIZWFsQ2FsbGJhY2sodGhpcykpO1xyXG5cclxuICAgICAgaGVhbE91dGNvbWUub3ZlcmhlYWwgPSBvdmVyaGVhbDtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmxhc3RIZWFsSW5mbyhoZWFsT3V0Y29tZSk7XHJcblxyXG4gICAgdGhpcy5fc3RhdHMudXBkYXRlKGhlYWxPdXRjb21lKTtcclxuICAgIHJldHVybiBoZWFsT3V0Y29tZTtcclxuICB9O1xyXG5cclxuICBoZWFsVG9NYXggPSAoYWxsb3dSZXN1cnJlY3Rpb246IGJvb2xlYW4pID0+IHtcclxuICAgIGlmICh0aGlzLmlzRGVhZCgpICYmIGFsbG93UmVzdXJyZWN0aW9uKSB7XHJcbiAgICAgIHRoaXMucmVzdXJyZWN0KHRoaXMubWF4SGVhbHRoKCkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5oZWFsdGgodGhpcy5tYXhIZWFsdGgoKSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgaGVhbHRoOiBrby5PYnNlcnZhYmxlPG51bWJlcj47XHJcbiAgaGVhbHRoUGVyY2VudGFnZToga28uUHVyZUNvbXB1dGVkPG51bWJlcj4gPSBrby5wdXJlQ29tcHV0ZWQoXHJcbiAgICAoKSA9PiB0aGlzLmhlYWx0aCgpIC8gdGhpcy5tYXhIZWFsdGgoKVxyXG4gICk7XHJcbiAgaGVhbHRoUGVyY2VudGFnZVN0cmluZzoga28uUHVyZUNvbXB1dGVkPHN0cmluZz4gPSBrby5wdXJlQ29tcHV0ZWQoXHJcbiAgICAoKSA9PiBgJHsxMDAuMCAqIHRoaXMuaGVhbHRoUGVyY2VudGFnZSgpfSVgXHJcbiAgKTtcclxuICBoZWFsdGhTdGF0dXNTdHJpbmc6IGtvLlB1cmVDb21wdXRlZDxzdHJpbmc+ID0ga28ucHVyZUNvbXB1dGVkKFxyXG4gICAgKCkgPT4gYCR7dGhpcy5oZWFsdGgoKX0vJHt0aGlzLm1heEhlYWx0aCgpfWBcclxuICApO1xyXG4gIGlzRGVhZDoga28uT2JzZXJ2YWJsZTxib29sZWFuPjtcclxuICBsYXN0SGVhbEluZm86IGtvLk9ic2VydmFibGU8SGVhbE91dGNvbWUgfCB1bmRlZmluZWQ+O1xyXG4gIGxhc3RIZWFsU3RhdHVzU3RyaW5nOiBrby5QdXJlQ29tcHV0ZWQ8c3RyaW5nPiA9IGtvLnB1cmVDb21wdXRlZCgoKSA9PiB7XHJcbiAgICBjb25zdCBsYXN0SGVhbEluZm8gPSB0aGlzLmxhc3RIZWFsSW5mbygpO1xyXG5cclxuICAgIGlmICghbGFzdEhlYWxJbmZvIHx8IGxhc3RIZWFsSW5mby50YXJnZXREaWVkKSB7XHJcbiAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBgKyR7bGFzdEhlYWxJbmZvLmVmZmVjdGl2ZUFtb3VudH1gO1xyXG4gIH0pO1xyXG4gIG1heEhlYWx0aDoga28uT2JzZXJ2YWJsZTxudW1iZXI+O1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBwYXVzZSA9ICgpID0+IHtcclxuICAgIHRoaXMuX2xvb3BzLnBhdXNlKCk7XHJcbiAgICB0aGlzLmJ1ZmZzKCkuZm9yRWFjaChmdW5jdGlvbiAoYnVmZjogQnVmZikge1xyXG4gICAgICBidWZmLnBhdXNlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmRlYnVmZnMoKS5mb3JFYWNoKGZ1bmN0aW9uIChkZWJ1ZmY6IERlYnVmZikge1xyXG4gICAgICBkZWJ1ZmYucGF1c2UoKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHJlbW92ZUJ1ZmYgPSAoYnVmZk5hbWVUb1JlbW92ZTogQnVmZk5hbWUpID0+IHtcclxuICAgIGNvbnN0IHJlbW92ZWRCdWZmcyA9IHRoaXMuYnVmZnMucmVtb3ZlKFxyXG4gICAgICAoYnVmZjogQnVmZikgPT4gYnVmZi5uYW1lID09PSBidWZmTmFtZVRvUmVtb3ZlXHJcbiAgICApO1xyXG5cclxuICAgIGlmIChyZW1vdmVkQnVmZnMubGVuZ3RoKSB7XHJcbiAgICAgIHJlbW92ZWRCdWZmcy5mb3JFYWNoKChyZW1vdmVkQnVmZjogQnVmZikgPT4ge1xyXG4gICAgICAgIHJlbW92ZWRCdWZmLnN0b3AoKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfTtcclxuXHJcbiAgcmVtb3ZlRGVidWZmID0gKGRlYnVmZk5hbWVUb1JlbW92ZTogRGVidWZmTmFtZSk6IGJvb2xlYW4gPT4ge1xyXG4gICAgY29uc3QgcmVtb3ZlZERlYnVmZnMgPSB0aGlzLmRlYnVmZnMucmVtb3ZlKFxyXG4gICAgICAoZGVidWZmOiBEZWJ1ZmYpID0+IGRlYnVmZi5uYW1lID09PSBkZWJ1ZmZOYW1lVG9SZW1vdmVcclxuICAgICk7XHJcblxyXG4gICAgaWYgKHJlbW92ZWREZWJ1ZmZzLmxlbmd0aCkge1xyXG4gICAgICByZW1vdmVkRGVidWZmcy5mb3JFYWNoKChyZW1vdmVkRGVidWZmOiBEZWJ1ZmYpID0+IHtcclxuICAgICAgICByZW1vdmVkRGVidWZmLnN0b3AoKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfTtcclxuXHJcbiAgcmVtb3ZlTGFzdERlYnVmZiA9ICgpID0+IHtcclxuICAgIHRoaXMuZGVidWZmcy5wb3AoKS5zdG9wKCk7XHJcbiAgfTtcclxuXHJcbiAgcmVzZXQgPSAoKSA9PiB7XHJcbiAgICB0aGlzLmhlYWxUb01heCh0cnVlKTtcclxuICAgIHRoaXMuYnVmZnMucmVtb3ZlQWxsKCkuZm9yRWFjaCgoYnVmZikgPT4gYnVmZi5zdG9wKCkpO1xyXG4gICAgdGhpcy5kZWJ1ZmZzLnJlbW92ZUFsbCgpLmZvckVhY2goKGRlYnVmZikgPT4gZGVidWZmLnN0b3AoKSk7XHJcbiAgfTtcclxuXHJcbiAgcmVzdW1lID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fbG9vcHMucmVzdW1lKCk7XHJcbiAgICB0aGlzLmJ1ZmZzKCkuZm9yRWFjaChmdW5jdGlvbiAoYnVmZjogQnVmZikge1xyXG4gICAgICBidWZmLnJlc3VtZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5kZWJ1ZmZzKCkuZm9yRWFjaChmdW5jdGlvbiAoZGVidWZmOiBEZWJ1ZmYpIHtcclxuICAgICAgZGVidWZmLnJlc3VtZSgpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgcmVzdXJyZWN0ID0gKGhlYWx0aDogbnVtYmVyKSA9PiB7XHJcbiAgICBpZiAodGhpcy5pc0RlYWQoKSkge1xyXG4gICAgICB0aGlzLmlzRGVhZChmYWxzZSk7XHJcbiAgICAgIHRoaXMuaGVhbHRoKGhlYWx0aCB8fCBNYXRoLnJvdW5kKHRoaXMubWF4SGVhbHRoKCkgKiAwLjIpKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBzdGFydCA9ICgpID0+IHtcclxuICAgIHRoaXMuX2xvb3BzLnN0YXJ0KCk7XHJcbiAgfTtcclxuXHJcbiAgc3RvcCA9ICgpID0+IHtcclxuICAgIHRoaXMuX2xvb3BzLnN0b3AoKTtcclxuXHJcbiAgICB0aGlzLmJ1ZmZzLnJlbW92ZUFsbCgpLmZvckVhY2goZnVuY3Rpb24gKGJ1ZmY6IEJ1ZmYpIHtcclxuICAgICAgYnVmZi5zdG9wKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmRlYnVmZnMucmVtb3ZlQWxsKCkuZm9yRWFjaChmdW5jdGlvbiAoZGVidWZmOiBEZWJ1ZmYpIHtcclxuICAgICAgZGVidWZmLnN0b3AoKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgcGFyYW1zOiBGcmllbmRseVBhcmFtcykge1xyXG4gICAgY29uc3QgaGVhbHRoID0gcGFyYW1zLmhlYWx0aCB8fCAxMDA7XHJcblxyXG4gICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgIHRoaXMuaGVhbHRoID0ga28ub2JzZXJ2YWJsZShoZWFsdGgpO1xyXG4gICAgdGhpcy5pc0RlYWQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcclxuICAgIHRoaXMuYnVmZnMgPSBrby5vYnNlcnZhYmxlQXJyYXk8QnVmZj4oW10pO1xyXG4gICAgdGhpcy5kZWJ1ZmZzID0ga28ub2JzZXJ2YWJsZUFycmF5PERlYnVmZj4oW10pO1xyXG4gICAgdGhpcy5sYXN0SGVhbEluZm8gPSBrby5vYnNlcnZhYmxlPEhlYWxPdXRjb21lIHwgdW5kZWZpbmVkPigpO1xyXG5cclxuICAgIHRoaXMubWF4SGVhbHRoID0ga28ub2JzZXJ2YWJsZShwYXJhbXMubWF4SGVhbHRoIHx8IGhlYWx0aCk7XHJcbiAgICB0aGlzLl9pbml0aWFsQXR0YWNrRGVsYXkgPSBwYXJhbXMuaW5pdGlhbEF0dGFja0RlbGF5IHx8IDA7XHJcbiAgICB0aGlzLl9hdHRhY2tJbnRlcnZhbCA9IHBhcmFtcy5hdHRhY2tJbnRlcnZhbCB8fCAxMDAwO1xyXG4gICAgdGhpcy5fb25BdHRhY2tDYWxsYmFjayA9IHBhcmFtcy5vbkF0dGFjaztcclxuICAgIHRoaXMuX29uRGVhdGhDYWxsYmFjayA9IHBhcmFtcy5vbkRlYXRoO1xyXG5cclxuICAgIHRoaXMuX2xvb3BzID0gbmV3IExvb3BzKFxyXG4gICAgICBuZXcgTG9vcChcclxuICAgICAgICBcIkF0dGFja1wiLFxyXG4gICAgICAgIHRoaXMuX2F0dGFjayxcclxuICAgICAgICB0aGlzLl9hdHRhY2tJbnRlcnZhbCxcclxuICAgICAgICB0aGlzLl9pbml0aWFsQXR0YWNrRGVsYXlcclxuICAgICAgKVxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLl9pbml0aWFsaXplKCk7XHJcbiAgfVxyXG5cclxuICBnZXQgaXNBdEZ1bGxIZWFsdGgoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5oZWFsdGgoKSA9PT0gdGhpcy5tYXhIZWFsdGgoKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2472\n')},1232:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, "default", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o["default"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst ko = __importStar(__webpack_require__(9687));\r\n__webpack_require__(6721);\r\nconst GamePage_html_1 = __importDefault(__webpack_require__(6807));\r\nconst ActionName_1 = __webpack_require__(8470);\r\nconst AnimationHelpers_1 = __importDefault(__webpack_require__(5926));\r\nconst Animations_1 = __importDefault(__webpack_require__(9454));\r\nconst BossName_1 = __webpack_require__(1327);\r\nconst BossFactory_1 = __importDefault(__webpack_require__(275));\r\nconst Friendly_1 = __importDefault(__webpack_require__(2472));\r\nconst HealFactory_1 = __importDefault(__webpack_require__(9986));\r\nconst Party_1 = __importDefault(__webpack_require__(3836));\r\nconst Player_1 = __importDefault(__webpack_require__(698));\r\nconst Random_1 = __importDefault(__webpack_require__(3640));\r\nconst Rewards_1 = __importDefault(__webpack_require__(9225));\r\nconst Stats_1 = __importDefault(__webpack_require__(8062));\r\nclass GameViewModel {\r\n    constructor() {\r\n        this._document_onKeyPress = (e) => {\r\n            const keyboardEvent = e;\r\n            const keyCode = keyboardEvent.keyCode;\r\n            if (keyCode === 27) {\r\n                // ESC\r\n                this.cancelCast();\r\n            }\r\n            if (keyCode === 32) {\r\n                // SPACE\r\n                const previousCast = this.player.currentCast.previous();\r\n                if (previousCast && previousCast.name) {\r\n                    this.cast(previousCast.name);\r\n                }\r\n            }\r\n            else if (keyCode >= 48 && keyCode <= 57) {\r\n                // 0-9\r\n                const actionIndex = keyCode - 49; // - \'0\' - 1\r\n                const action = this.player.getActionByIndex(actionIndex);\r\n                if (action) {\r\n                    this.cast(action);\r\n                }\r\n            }\r\n            else {\r\n                let partyIndex = -1;\r\n                switch (keyCode) {\r\n                    case 81: // q\r\n                        partyIndex = 0;\r\n                        break;\r\n                    case 87: // w\r\n                        partyIndex = 1;\r\n                        break;\r\n                    case 69: // e\r\n                        partyIndex = 2;\r\n                        break;\r\n                    case 82: // r\r\n                        partyIndex = 3;\r\n                        break;\r\n                    case 84: // t\r\n                        partyIndex = 4;\r\n                        break;\r\n                    default:\r\n                        return;\r\n                }\r\n                const member = this.friendlies.getMemberByIndex(partyIndex);\r\n                this.player.setTarget(member);\r\n            }\r\n        };\r\n        this._finishCast = (action, outcome) => {\r\n            if (!outcome.manaSpent && !outcome.targetDied) {\r\n                this.player.spendMana(action.manaCost);\r\n            }\r\n            if (!outcome.targetDied) {\r\n                const heals = `${outcome.isCrit ? "crits" : "heals"}`;\r\n                let message = `${action.name} ${heals} ${action.target.name} for ${outcome.effectiveAmount}`;\r\n                if (outcome.overheal) {\r\n                    message += ` (${outcome.overheal} overheal)`;\r\n                }\r\n                message += ".";\r\n                this.addLog(message);\r\n            }\r\n            this.player.castQueuedHeal();\r\n        };\r\n        this._onBossKill = () => {\r\n            const bossName = this.boss().name;\r\n            this.addLog(`${bossName} was defeated!`);\r\n            const promptFunction = (message) => {\r\n                setTimeout(() => {\r\n                    this.friendlies.stop();\r\n                    alert(message);\r\n                    this.inCombat(false);\r\n                }, 0);\r\n            };\r\n            const reward = Rewards_1.default.get(bossName);\r\n            if (reward) {\r\n                promptFunction("Good job. You\'ve unlocked the \'" +\r\n                    reward.healName +\r\n                    "\' spell. It may come in handy against " +\r\n                    reward.bossName +\r\n                    ".");\r\n                this.player.actions.push(reward.healName);\r\n                this.player.maxMana(Math.round(this.player.maxMana() * 1.2));\r\n                this.friendlies.members.forEach((friendly) => friendly.maxHealth(Math.round(friendly.maxHealth() * 1.1)));\r\n                this.friendlies.reset();\r\n                this.player.restoreManaToMax();\r\n                this.boss(BossFactory_1.default.create(reward.bossName, this.player, this.friendlies.members[0], this.friendlies, this._onBossKill));\r\n            }\r\n            else {\r\n                promptFunction("You win!");\r\n            }\r\n        };\r\n        this._onFriendlyAttack = (damageModifier) => {\r\n            return ((innerDamageModifier) => {\r\n                return (friendly) => {\r\n                    const isCrit = Math.random() < 0.2;\r\n                    let attackAmount = innerDamageModifier * Random_1.default.fromIntegerIntervalInclusive(50, 80);\r\n                    if (isCrit) {\r\n                        attackAmount = attackAmount * 2;\r\n                    }\r\n                    attackAmount = Math.round(attackAmount);\r\n                    const attacks = isCrit ? "crits" : "attacks";\r\n                    const message = `${friendly.name} ${attacks} ${this.boss().name} for ${attackAmount}`;\r\n                    this.addLog(message);\r\n                    this.boss().harm(attackAmount);\r\n                };\r\n            })(damageModifier || 1);\r\n        };\r\n        this._onFriendlyDeath = (friendly) => {\r\n            this.addLog(`${friendly.name} died.`);\r\n            friendly.stop();\r\n            if (this.player.target() === friendly) {\r\n                this.player.setTarget(undefined);\r\n            }\r\n            this.boss().onDeathOfFriendly(friendly);\r\n            if (this.friendlies.isWiped()) {\r\n                setTimeout(() => {\r\n                    this.friendlies.stop();\r\n                    this.boss().stop();\r\n                    this.pause();\r\n                    alert("You lose!");\r\n                    this.inCombat(false);\r\n                    this.friendlies.reset();\r\n                    this.player.restoreManaToMax();\r\n                    this.boss().reset();\r\n                    this.resume();\r\n                }, 0);\r\n                return;\r\n            }\r\n        };\r\n        this.addLog = (message) => {\r\n            console.log(message);\r\n        };\r\n        this.allowPause = document.location.protocol === "file:";\r\n        this.allowSkip = document.location.protocol === "file:";\r\n        this.animations = Animations_1.default;\r\n        this.cancelCast = () => {\r\n            const currentCast = this.player.currentCast.value();\r\n            if (currentCast && !currentCast.isInstant) {\r\n                currentCast.cancel();\r\n            }\r\n        };\r\n        this.cast = (actionName) => {\r\n            if (this.isPaused()) {\r\n                return;\r\n            }\r\n            const target = this.player.target();\r\n            if (!target) {\r\n                return;\r\n            }\r\n            const healParams = {\r\n                critChance: this.player.critChance(),\r\n                onFinish: this._finishCast,\r\n                onCancel: this.player.cancelCast,\r\n            };\r\n            const heal = HealFactory_1.default.create(actionName, target, healParams);\r\n            if (this.player.mana() < heal.manaCost) {\r\n                // Out of mana\r\n                return;\r\n            }\r\n            this.player.cast(heal);\r\n        };\r\n        this.engageBoss = () => {\r\n            this.addLog(`${this.boss().name} engaged.`);\r\n            this.boss().engage();\r\n            this.friendlies.start();\r\n            this.inCombat(true);\r\n        };\r\n        this.joinGroupButton_onClick = () => {\r\n            this.showIntro(false);\r\n        };\r\n        this.pause = () => {\r\n            this.isPaused(true);\r\n            this.boss().pause();\r\n            this.friendlies.pause();\r\n            AnimationHelpers_1.default.pause();\r\n        };\r\n        this.resetStats_onClick = () => {\r\n            this.stats.reset();\r\n        };\r\n        this.resume = () => {\r\n            this.isPaused(false);\r\n            this.boss().resume();\r\n            this.friendlies.resume();\r\n            AnimationHelpers_1.default.resume();\r\n        };\r\n        this.showBuff = (buff, member) => {\r\n            this.player.setTarget(member);\r\n        };\r\n        this.showDebuff = (debuff, member) => {\r\n            this.player.setTarget(member);\r\n        };\r\n        this.skip = () => {\r\n            this.boss().stop();\r\n            this._onBossKill();\r\n        };\r\n        this.stats = Stats_1.default;\r\n        this.toggleStatsLink = ko.pureComputed(() => {\r\n            return this.showStats() ? "Hide stats" : "Show stats";\r\n        });\r\n        this.toggleStats_onClick = () => {\r\n            this.showStats(!this.showStats());\r\n        };\r\n        this.showIntro = ko.observable(true);\r\n        this.showStats = ko.observable(false);\r\n        this.isPaused = ko.observable(false);\r\n        this.inCombat = ko.observable(false);\r\n        this.player = new Player_1.default({\r\n            health: 109,\r\n            attackInterval: 30000,\r\n            onAttack: this._onFriendlyAttack(2),\r\n            onDeath: this._onFriendlyDeath,\r\n        }, 1081, [ActionName_1.ActionName.SmallHeal]);\r\n        const tank = new Friendly_1.default("Tank", {\r\n            health: 212,\r\n            attackInterval: 400,\r\n            onAttack: this._onFriendlyAttack(1),\r\n            onDeath: this._onFriendlyDeath,\r\n        });\r\n        this.friendlies = new Party_1.default([\r\n            tank,\r\n            new Friendly_1.default("DPS #1", {\r\n                health: 127,\r\n                attackInterval: 1000,\r\n                initialAttackDelay: 4000,\r\n                onAttack: this._onFriendlyAttack(3.2),\r\n                onDeath: this._onFriendlyDeath,\r\n            }),\r\n            new Friendly_1.default("DPS #2", {\r\n                health: 113,\r\n                attackInterval: 1200,\r\n                initialAttackDelay: 3500,\r\n                onAttack: this._onFriendlyAttack(3.0),\r\n                onDeath: this._onFriendlyDeath,\r\n            }),\r\n            new Friendly_1.default("DPS #3", {\r\n                health: 141,\r\n                attackInterval: 1400,\r\n                initialAttackDelay: 3000,\r\n                onAttack: this._onFriendlyAttack(2.8),\r\n                onDeath: this._onFriendlyDeath,\r\n            }),\r\n            this.player,\r\n        ]);\r\n        this.boss = ko.observable(BossFactory_1.default.create(BossName_1.BossName.GordoRamzee, this.player, tank, this.friendlies, this._onBossKill));\r\n        ko.utils.registerEventHandler(document, "keydown", this._document_onKeyPress);\r\n    }\r\n}\r\nexports["default"] = { viewModel: GameViewModel, template: GamePage_html_1.default };\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDO2dCQUNyQyxPQUFPLEVBQUUsSUFBSSxDQUFDLGdCQUFnQjthQUMvQixDQUFDO1lBQ0YsSUFBSSxrQkFBUSxDQUFDLFFBQVEsRUFBRTtnQkFDckIsTUFBTSxFQUFFLEdBQUc7Z0JBQ1gsY0FBYyxFQUFFLElBQUk7Z0JBQ3BCLGtCQUFrQixFQUFFLElBQUk7Z0JBQ3hCLFFBQVEsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDO2dCQUNyQyxPQUFPLEVBQUUsSUFBSSxDQUFDLGdCQUFnQjthQUMvQixDQUFDO1lBQ0YsSUFBSSxrQkFBUSxDQUFDLFFBQVEsRUFBRTtnQkFDckIsTUFBTSxFQUFFLEdBQUc7Z0JBQ1gsY0FBYyxFQUFFLElBQUk7Z0JBQ3BCLGtCQUFrQixFQUFFLElBQUk7Z0JBQ3hCLFFBQVEsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDO2dCQUNyQyxPQUFPLEVBQUUsSUFBSSxDQUFDLGdCQUFnQjthQUMvQixDQUFDO1lBQ0YsSUFBSSxDQUFDLE1BQU07U0FDWixDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQyxVQUFVLENBQ3ZCLHFCQUFXLENBQUMsTUFBTSxDQUNoQixtQkFBUSxDQUFDLFdBQVcsRUFDcEIsSUFBSSxDQUFDLE1BQU0sRUFDWCxJQUFJLEVBQ0osSUFBSSxDQUFDLFVBQVUsRUFDZixJQUFJLENBQUMsV0FBVyxDQUNqQixDQUNGLENBQUM7UUFFRixFQUFFLENBQUMsS0FBSyxDQUFDLG9CQUFvQixDQUMzQixRQUFlLEVBQ2YsU0FBUyxFQUNULElBQUksQ0FBQyxvQkFBb0IsQ0FDMUIsQ0FBQztJQUNKLENBQUM7Q0FDRjtBQUVELHFCQUFlLEVBQUUsU0FBUyxFQUFFLGFBQWEsRUFBRSxRQUFRLEVBQUUsdUJBQVksRUFBRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHMtcGxlYXNlLy4vdHMvR2FtZVZpZXdNb2RlbC50cz9hNjg0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGtvIGZyb20gXCJrbm9ja291dFwiO1xyXG5pbXBvcnQgXCIuLi9jc3MvYXBwLmxlc3NcIjtcclxuaW1wb3J0IEdhbWVQYWdlSHRtbCBmcm9tIFwiLi4vaHRtbC9HYW1lUGFnZS5odG1sXCI7XHJcbmltcG9ydCB7IEFjdGlvbk5hbWUgfSBmcm9tIFwiLi9BY3Rpb25OYW1lXCI7XHJcbmltcG9ydCBBbmltYXRpb25IZWxwZXJzIGZyb20gXCIuL0FuaW1hdGlvbkhlbHBlcnNcIjtcclxuaW1wb3J0IEFuaW1hdGlvbnMgZnJvbSBcIi4vQW5pbWF0aW9uc1wiO1xyXG5pbXBvcnQgQm9zcyBmcm9tIFwiLi9Cb3NzXCI7XHJcbmltcG9ydCB7IEJvc3NOYW1lIH0gZnJvbSBcIi4vQm9zc2VzL0Jvc3NOYW1lXCI7XHJcbmltcG9ydCBCb3NzRmFjdG9yeSBmcm9tIFwiLi9Cb3NzRmFjdG9yeVwiO1xyXG5pbXBvcnQgQnVmZiBmcm9tIFwiLi9CdWZmXCI7XHJcbmltcG9ydCBEZWJ1ZmYgZnJvbSBcIi4vRGVidWZmXCI7XHJcbmltcG9ydCBGcmllbmRseSBmcm9tIFwiLi9GcmllbmRseVwiO1xyXG5pbXBvcnQgSGVhbCBmcm9tIFwiLi9IZWFsXCI7XHJcbmltcG9ydCBIZWFsRmFjdG9yeSBmcm9tIFwiLi9IZWFsRmFjdG9yeVwiO1xyXG5pbXBvcnQgSGVhbE91dGNvbWUgZnJvbSBcIi4vSGVhbE91dGNvbWVcIjtcclxuaW1wb3J0IFBhcnR5IGZyb20gXCIuL1BhcnR5XCI7XHJcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4vUGxheWVyXCI7XHJcbmltcG9ydCBSYW5kb20gZnJvbSBcIi4vUmFuZG9tXCI7XHJcbmltcG9ydCBSZXdhcmRzIGZyb20gXCIuL1Jld2FyZHNcIjtcclxuaW1wb3J0IFN0YXRzIGZyb20gXCIuL1N0YXRzXCI7XHJcblxyXG5jbGFzcyBHYW1lVmlld01vZGVsIHtcclxuICBwcml2YXRlIF9kb2N1bWVudF9vbktleVByZXNzID0gKGU6IEV2ZW50KSA9PiB7XHJcbiAgICBjb25zdCBrZXlib2FyZEV2ZW50ID0gZSBhcyBLZXlib2FyZEV2ZW50O1xyXG4gICAgY29uc3Qga2V5Q29kZSA9IGtleWJvYXJkRXZlbnQua2V5Q29kZTtcclxuXHJcbiAgICBpZiAoa2V5Q29kZSA9PT0gMjcpIHtcclxuICAgICAgLy8gRVNDXHJcbiAgICAgIHRoaXMuY2FuY2VsQ2FzdCgpO1xyXG4gICAgfVxyXG4gICAgaWYgKGtleUNvZGUgPT09IDMyKSB7XHJcbiAgICAgIC8vIFNQQUNFXHJcbiAgICAgIGNvbnN0IHByZXZpb3VzQ2FzdCA9IHRoaXMucGxheWVyLmN1cnJlbnRDYXN0LnByZXZpb3VzKCk7XHJcbiAgICAgIGlmIChwcmV2aW91c0Nhc3QgJiYgcHJldmlvdXNDYXN0Lm5hbWUpIHtcclxuICAgICAgICB0aGlzLmNhc3QocHJldmlvdXNDYXN0Lm5hbWUpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGtleUNvZGUgPj0gNDggJiYga2V5Q29kZSA8PSA1Nykge1xyXG4gICAgICAvLyAwLTlcclxuICAgICAgY29uc3QgYWN0aW9uSW5kZXggPSBrZXlDb2RlIC0gNDk7IC8vIC0gJzAnIC0gMVxyXG4gICAgICBjb25zdCBhY3Rpb24gPSB0aGlzLnBsYXllci5nZXRBY3Rpb25CeUluZGV4KGFjdGlvbkluZGV4KTtcclxuICAgICAgaWYgKGFjdGlvbikge1xyXG4gICAgICAgIHRoaXMuY2FzdChhY3Rpb24pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsZXQgcGFydHlJbmRleCA9IC0xO1xyXG4gICAgICBzd2l0Y2ggKGtleUNvZGUpIHtcclxuICAgICAgICBjYXNlIDgxOiAvLyBxXHJcbiAgICAgICAgICBwYXJ0eUluZGV4ID0gMDtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgODc6IC8vIHdcclxuICAgICAgICAgIHBhcnR5SW5kZXggPSAxO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSA2OTogLy8gZVxyXG4gICAgICAgICAgcGFydHlJbmRleCA9IDI7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDgyOiAvLyByXHJcbiAgICAgICAgICBwYXJ0eUluZGV4ID0gMztcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgODQ6IC8vIHRcclxuICAgICAgICAgIHBhcnR5SW5kZXggPSA0O1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgbWVtYmVyID0gdGhpcy5mcmllbmRsaWVzLmdldE1lbWJlckJ5SW5kZXgocGFydHlJbmRleCk7XHJcbiAgICAgIHRoaXMucGxheWVyLnNldFRhcmdldChtZW1iZXIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX2ZpbmlzaENhc3QgPSAoYWN0aW9uOiBIZWFsLCBvdXRjb21lOiBIZWFsT3V0Y29tZSkgPT4ge1xyXG4gICAgaWYgKCFvdXRjb21lLm1hbmFTcGVudCAmJiAhb3V0Y29tZS50YXJnZXREaWVkKSB7XHJcbiAgICAgIHRoaXMucGxheWVyLnNwZW5kTWFuYShhY3Rpb24ubWFuYUNvc3QpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghb3V0Y29tZS50YXJnZXREaWVkKSB7XHJcbiAgICAgIGNvbnN0IGhlYWxzID0gYCR7b3V0Y29tZS5pc0NyaXQgPyBcImNyaXRzXCIgOiBcImhlYWxzXCJ9YDtcclxuICAgICAgbGV0IG1lc3NhZ2UgPSBgJHthY3Rpb24ubmFtZX0gJHtoZWFsc30gJHthY3Rpb24udGFyZ2V0Lm5hbWV9IGZvciAke291dGNvbWUuZWZmZWN0aXZlQW1vdW50fWA7XHJcblxyXG4gICAgICBpZiAob3V0Y29tZS5vdmVyaGVhbCkge1xyXG4gICAgICAgIG1lc3NhZ2UgKz0gYCAoJHtvdXRjb21lLm92ZXJoZWFsfSBvdmVyaGVhbClgO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBtZXNzYWdlICs9IFwiLlwiO1xyXG5cclxuICAgICAgdGhpcy5hZGRMb2cobWVzc2FnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5wbGF5ZXIuY2FzdFF1ZXVlZEhlYWwoKTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9vbkJvc3NLaWxsID0gKCkgPT4ge1xyXG4gICAgY29uc3QgYm9zc05hbWUgPSB0aGlzLmJvc3MoKS5uYW1lO1xyXG5cclxuICAgIHRoaXMuYWRkTG9nKGAke2Jvc3NOYW1lfSB3YXMgZGVmZWF0ZWQhYCk7XHJcblxyXG4gICAgY29uc3QgcHJvbXB0RnVuY3Rpb24gPSAobWVzc2FnZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZnJpZW5kbGllcy5zdG9wKCk7XHJcblxyXG4gICAgICAgIGFsZXJ0KG1lc3NhZ2UpO1xyXG5cclxuICAgICAgICB0aGlzLmluQ29tYmF0KGZhbHNlKTtcclxuICAgICAgfSwgMCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHJld2FyZCA9IFJld2FyZHMuZ2V0KGJvc3NOYW1lKTtcclxuICAgIGlmIChyZXdhcmQpIHtcclxuICAgICAgcHJvbXB0RnVuY3Rpb24oXHJcbiAgICAgICAgXCJHb29kIGpvYi4gWW91J3ZlIHVubG9ja2VkIHRoZSAnXCIgK1xyXG4gICAgICAgICAgcmV3YXJkLmhlYWxOYW1lICtcclxuICAgICAgICAgIFwiJyBzcGVsbC4gSXQgbWF5IGNvbWUgaW4gaGFuZHkgYWdhaW5zdCBcIiArXHJcbiAgICAgICAgICByZXdhcmQuYm9zc05hbWUgK1xyXG4gICAgICAgICAgXCIuXCJcclxuICAgICAgKTtcclxuXHJcbiAgICAgIHRoaXMucGxheWVyLmFjdGlvbnMucHVzaChyZXdhcmQuaGVhbE5hbWUpO1xyXG4gICAgICB0aGlzLnBsYXllci5tYXhNYW5hKE1hdGgucm91bmQodGhpcy5wbGF5ZXIubWF4TWFuYSgpICogMS4yKSk7XHJcbiAgICAgIHRoaXMuZnJpZW5kbGllcy5tZW1iZXJzLmZvckVhY2goKGZyaWVuZGx5KSA9PlxyXG4gICAgICAgIGZyaWVuZGx5Lm1heEhlYWx0aChNYXRoLnJvdW5kKGZyaWVuZGx5Lm1heEhlYWx0aCgpICogMS4xKSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIHRoaXMuZnJpZW5kbGllcy5yZXNldCgpO1xyXG4gICAgICB0aGlzLnBsYXllci5yZXN0b3JlTWFuYVRvTWF4KCk7XHJcblxyXG4gICAgICB0aGlzLmJvc3MoXHJcbiAgICAgICAgQm9zc0ZhY3RvcnkuY3JlYXRlKFxyXG4gICAgICAgICAgcmV3YXJkLmJvc3NOYW1lLFxyXG4gICAgICAgICAgdGhpcy5wbGF5ZXIsXHJcbiAgICAgICAgICB0aGlzLmZyaWVuZGxpZXMubWVtYmVyc1swXSxcclxuICAgICAgICAgIHRoaXMuZnJpZW5kbGllcyxcclxuICAgICAgICAgIHRoaXMuX29uQm9zc0tpbGxcclxuICAgICAgICApXHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBwcm9tcHRGdW5jdGlvbihcIllvdSB3aW4hXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX29uRnJpZW5kbHlBdHRhY2sgPSAoZGFtYWdlTW9kaWZpZXI6IG51bWJlcikgPT4ge1xyXG4gICAgcmV0dXJuICgoaW5uZXJEYW1hZ2VNb2RpZmllcjogbnVtYmVyKSA9PiB7XHJcbiAgICAgIHJldHVybiAoZnJpZW5kbHk6IEZyaWVuZGx5KSA9PiB7XHJcbiAgICAgICAgY29uc3QgaXNDcml0ID0gTWF0aC5yYW5kb20oKSA8IDAuMjtcclxuICAgICAgICBsZXQgYXR0YWNrQW1vdW50ID1cclxuICAgICAgICAgIGlubmVyRGFtYWdlTW9kaWZpZXIgKiBSYW5kb20uZnJvbUludGVnZXJJbnRlcnZhbEluY2x1c2l2ZSg1MCwgODApO1xyXG5cclxuICAgICAgICBpZiAoaXNDcml0KSB7XHJcbiAgICAgICAgICBhdHRhY2tBbW91bnQgPSBhdHRhY2tBbW91bnQgKiAyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXR0YWNrQW1vdW50ID0gTWF0aC5yb3VuZChhdHRhY2tBbW91bnQpO1xyXG5cclxuICAgICAgICBjb25zdCBhdHRhY2tzID0gaXNDcml0ID8gXCJjcml0c1wiIDogXCJhdHRhY2tzXCI7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke2ZyaWVuZGx5Lm5hbWV9ICR7YXR0YWNrc30gJHtcclxuICAgICAgICAgIHRoaXMuYm9zcygpLm5hbWVcclxuICAgICAgICB9IGZvciAke2F0dGFja0Ftb3VudH1gO1xyXG5cclxuICAgICAgICB0aGlzLmFkZExvZyhtZXNzYWdlKTtcclxuICAgICAgICB0aGlzLmJvc3MoKS5oYXJtKGF0dGFja0Ftb3VudCk7XHJcbiAgICAgIH07XHJcbiAgICB9KShkYW1hZ2VNb2RpZmllciB8fCAxKTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9vbkZyaWVuZGx5RGVhdGggPSAoZnJpZW5kbHk6IEZyaWVuZGx5KSA9PiB7XHJcbiAgICB0aGlzLmFkZExvZyhgJHtmcmllbmRseS5uYW1lfSBkaWVkLmApO1xyXG5cclxuICAgIGZyaWVuZGx5LnN0b3AoKTtcclxuXHJcbiAgICBpZiAodGhpcy5wbGF5ZXIudGFyZ2V0KCkgPT09IGZyaWVuZGx5KSB7XHJcbiAgICAgIHRoaXMucGxheWVyLnNldFRhcmdldCh1bmRlZmluZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuYm9zcygpLm9uRGVhdGhPZkZyaWVuZGx5KGZyaWVuZGx5KTtcclxuXHJcbiAgICBpZiAodGhpcy5mcmllbmRsaWVzLmlzV2lwZWQoKSkge1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICB0aGlzLmZyaWVuZGxpZXMuc3RvcCgpO1xyXG4gICAgICAgIHRoaXMuYm9zcygpLnN0b3AoKTtcclxuICAgICAgICB0aGlzLnBhdXNlKCk7XHJcblxyXG4gICAgICAgIGFsZXJ0KFwiWW91IGxvc2UhXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmluQ29tYmF0KGZhbHNlKTtcclxuICAgICAgICB0aGlzLmZyaWVuZGxpZXMucmVzZXQoKTtcclxuICAgICAgICB0aGlzLnBsYXllci5yZXN0b3JlTWFuYVRvTWF4KCk7XHJcblxyXG4gICAgICAgIHRoaXMuYm9zcygpLnJlc2V0KCk7XHJcbiAgICAgICAgdGhpcy5yZXN1bWUoKTtcclxuICAgICAgfSwgMCk7XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgYWRkTG9nID0gKG1lc3NhZ2U6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc29sZS5sb2cobWVzc2FnZSk7XHJcbiAgfTtcclxuXHJcbiAgYWxsb3dQYXVzZTogYm9vbGVhbiA9IGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sID09PSBcImZpbGU6XCI7XHJcbiAgYWxsb3dTa2lwOiBib29sZWFuID0gZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wgPT09IFwiZmlsZTpcIjtcclxuICBhbmltYXRpb25zOiB0eXBlb2YgQW5pbWF0aW9ucyA9IEFuaW1hdGlvbnM7XHJcbiAgYm9zczoga28uT2JzZXJ2YWJsZTxCb3NzPjtcclxuICBjYW5jZWxDYXN0ID0gKCkgPT4ge1xyXG4gICAgY29uc3QgY3VycmVudENhc3QgPSB0aGlzLnBsYXllci5jdXJyZW50Q2FzdC52YWx1ZSgpO1xyXG4gICAgaWYgKGN1cnJlbnRDYXN0ICYmICFjdXJyZW50Q2FzdC5pc0luc3RhbnQpIHtcclxuICAgICAgY3VycmVudENhc3QuY2FuY2VsKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY2FzdCA9IChhY3Rpb25OYW1lOiBBY3Rpb25OYW1lKSA9PiB7XHJcbiAgICBpZiAodGhpcy5pc1BhdXNlZCgpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0YXJnZXQgPSB0aGlzLnBsYXllci50YXJnZXQoKTtcclxuICAgIGlmICghdGFyZ2V0KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBoZWFsUGFyYW1zID0ge1xyXG4gICAgICBjcml0Q2hhbmNlOiB0aGlzLnBsYXllci5jcml0Q2hhbmNlKCksXHJcbiAgICAgIG9uRmluaXNoOiB0aGlzLl9maW5pc2hDYXN0LFxyXG4gICAgICBvbkNhbmNlbDogdGhpcy5wbGF5ZXIuY2FuY2VsQ2FzdCxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgaGVhbCA9IEhlYWxGYWN0b3J5LmNyZWF0ZShhY3Rpb25OYW1lLCB0YXJnZXQsIGhlYWxQYXJhbXMpO1xyXG4gICAgaWYgKHRoaXMucGxheWVyLm1hbmEoKSA8IGhlYWwubWFuYUNvc3QpIHtcclxuICAgICAgLy8gT3V0IG9mIG1hbmFcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucGxheWVyLmNhc3QoaGVhbCk7XHJcbiAgfTtcclxuXHJcbiAgZW5nYWdlQm9zcyA9ICgpID0+IHtcclxuICAgIHRoaXMuYWRkTG9nKGAke3RoaXMuYm9zcygpLm5hbWV9IGVuZ2FnZWQuYCk7XHJcbiAgICB0aGlzLmJvc3MoKS5lbmdhZ2UoKTtcclxuICAgIHRoaXMuZnJpZW5kbGllcy5zdGFydCgpO1xyXG4gICAgdGhpcy5pbkNvbWJhdCh0cnVlKTtcclxuICB9O1xyXG5cclxuICBmcmllbmRsaWVzOiBQYXJ0eTtcclxuICBpbkNvbWJhdDoga28uT2JzZXJ2YWJsZTxib29sZWFuPjtcclxuICBpc1BhdXNlZDoga28uT2JzZXJ2YWJsZTxib29sZWFuPjtcclxuICBqb2luR3JvdXBCdXR0b25fb25DbGljayA9ICgpID0+IHtcclxuICAgIHRoaXMuc2hvd0ludHJvKGZhbHNlKTtcclxuICB9O1xyXG5cclxuICBwYXVzZSA9ICgpID0+IHtcclxuICAgIHRoaXMuaXNQYXVzZWQodHJ1ZSk7XHJcblxyXG4gICAgdGhpcy5ib3NzKCkucGF1c2UoKTtcclxuICAgIHRoaXMuZnJpZW5kbGllcy5wYXVzZSgpO1xyXG5cclxuICAgIEFuaW1hdGlvbkhlbHBlcnMucGF1c2UoKTtcclxuICB9O1xyXG5cclxuICBwbGF5ZXI6IFBsYXllcjtcclxuICByZXNldFN0YXRzX29uQ2xpY2sgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnN0YXRzLnJlc2V0KCk7XHJcbiAgfTtcclxuXHJcbiAgcmVzdW1lID0gKCkgPT4ge1xyXG4gICAgdGhpcy5pc1BhdXNlZChmYWxzZSk7XHJcblxyXG4gICAgdGhpcy5ib3NzKCkucmVzdW1lKCk7XHJcbiAgICB0aGlzLmZyaWVuZGxpZXMucmVzdW1lKCk7XHJcblxyXG4gICAgQW5pbWF0aW9uSGVscGVycy5yZXN1bWUoKTtcclxuICB9O1xyXG5cclxuICBzaG93QnVmZiA9IChidWZmOiBCdWZmLCBtZW1iZXI6IEZyaWVuZGx5KSA9PiB7XHJcbiAgICB0aGlzLnBsYXllci5zZXRUYXJnZXQobWVtYmVyKTtcclxuICB9O1xyXG5cclxuICBzaG93RGVidWZmID0gKGRlYnVmZjogRGVidWZmLCBtZW1iZXI6IEZyaWVuZGx5KSA9PiB7XHJcbiAgICB0aGlzLnBsYXllci5zZXRUYXJnZXQobWVtYmVyKTtcclxuICB9O1xyXG5cclxuICBzaG93SW50cm86IGtvLk9ic2VydmFibGU8Ym9vbGVhbj47XHJcbiAgc2hvd1N0YXRzOiBrby5PYnNlcnZhYmxlPGJvb2xlYW4+O1xyXG4gIHNraXAgPSAoKSA9PiB7XHJcbiAgICB0aGlzLmJvc3MoKS5zdG9wKCk7XHJcbiAgICB0aGlzLl9vbkJvc3NLaWxsKCk7XHJcbiAgfTtcclxuICBzdGF0cyA9IFN0YXRzO1xyXG4gIHRvZ2dsZVN0YXRzTGluayA9IGtvLnB1cmVDb21wdXRlZDxzdHJpbmc+KCgpID0+IHtcclxuICAgIHJldHVybiB0aGlzLnNob3dTdGF0cygpID8gXCJIaWRlIHN0YXRzXCIgOiBcIlNob3cgc3RhdHNcIjtcclxuICB9KTtcclxuICB0b2dnbGVTdGF0c19vbkNsaWNrID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zaG93U3RhdHMoIXRoaXMuc2hvd1N0YXRzKCkpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5zaG93SW50cm8gPSBrby5vYnNlcnZhYmxlKHRydWUpO1xyXG4gICAgdGhpcy5zaG93U3RhdHMgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcclxuICAgIHRoaXMuaXNQYXVzZWQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcclxuICAgIHRoaXMuaW5Db21iYXQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcclxuXHJcbiAgICB0aGlzLnBsYXllciA9IG5ldyBQbGF5ZXIoXHJcbiAgICAgIHtcclxuICAgICAgICBoZWFsdGg6IDEwOSxcclxuICAgICAgICBhdHRhY2tJbnRlcnZhbDogMzAwMDAsXHJcbiAgICAgICAgb25BdHRhY2s6IHRoaXMuX29uRnJpZW5kbHlBdHRhY2soMiksXHJcbiAgICAgICAgb25EZWF0aDogdGhpcy5fb25GcmllbmRseURlYXRoLFxyXG4gICAgICB9LFxyXG4gICAgICAxMDgxLFxyXG4gICAgICBbQWN0aW9uTmFtZS5TbWFsbEhlYWxdXHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0IHRhbmsgPSBuZXcgRnJpZW5kbHkoXCJUYW5rXCIsIHtcclxuICAgICAgaGVhbHRoOiAyMTIsXHJcbiAgICAgIGF0dGFja0ludGVydmFsOiA0MDAsXHJcbiAgICAgIG9uQXR0YWNrOiB0aGlzLl9vbkZyaWVuZGx5QXR0YWNrKDEpLFxyXG4gICAgICBvbkRlYXRoOiB0aGlzLl9vbkZyaWVuZGx5RGVhdGgsXHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmZyaWVuZGxpZXMgPSBuZXcgUGFydHkoW1xyXG4gICAgICB0YW5rLFxyXG4gICAgICBuZXcgRnJpZW5kbHkoXCJEUFMgIzFcIiwge1xyXG4gICAgICAgIGhlYWx0aDogMTI3LFxyXG4gICAgICAgIGF0dGFja0ludGVydmFsOiAxMDAwLFxyXG4gICAgICAgIGluaXRpYWxBdHRhY2tEZWxheTogNDAwMCxcclxuICAgICAgICBvbkF0dGFjazogdGhpcy5fb25GcmllbmRseUF0dGFjaygzLjIpLFxyXG4gICAgICAgIG9uRGVhdGg6IHRoaXMuX29uRnJpZW5kbHlEZWF0aCxcclxuICAgICAgfSksXHJcbiAgICAgIG5ldyBGcmllbmRseShcIkRQUyAjMlwiLCB7XHJcbiAgICAgICAgaGVhbHRoOiAxMTMsXHJcbiAgICAgICAgYXR0YWNrSW50ZXJ2YWw6IDEyMDAsXHJcbiAgICAgICAgaW5pdGlhbEF0dGFja0RlbGF5OiAzNTAwLFxyXG4gICAgICAgIG9uQXR0YWNrOiB0aGlzLl9vbkZyaWVuZGx5QXR0YWNrKDMuMCksXHJcbiAgICAgICAgb25EZWF0aDogdGhpcy5fb25GcmllbmRseURlYXRoLFxyXG4gICAgICB9KSxcclxuICAgICAgbmV3IEZyaWVuZGx5KFwiRFBTICMzXCIsIHtcclxuICAgICAgICBoZWFsdGg6IDE0MSxcclxuICAgICAgICBhdHRhY2tJbnRlcnZhbDogMTQwMCxcclxuICAgICAgICBpbml0aWFsQXR0YWNrRGVsYXk6IDMwMDAsXHJcbiAgICAgICAgb25BdHRhY2s6IHRoaXMuX29uRnJpZW5kbHlBdHRhY2soMi44KSxcclxuICAgICAgICBvbkRlYXRoOiB0aGlzLl9vbkZyaWVuZGx5RGVhdGgsXHJcbiAgICAgIH0pLFxyXG4gICAgICB0aGlzLnBsYXllcixcclxuICAgIF0pO1xyXG5cclxuICAgIHRoaXMuYm9zcyA9IGtvLm9ic2VydmFibGU8Qm9zcz4oXHJcbiAgICAgIEJvc3NGYWN0b3J5LmNyZWF0ZShcclxuICAgICAgICBCb3NzTmFtZS5Hb3Jkb1JhbXplZSxcclxuICAgICAgICB0aGlzLnBsYXllcixcclxuICAgICAgICB0YW5rLFxyXG4gICAgICAgIHRoaXMuZnJpZW5kbGllcyxcclxuICAgICAgICB0aGlzLl9vbkJvc3NLaWxsXHJcbiAgICAgIClcclxuICAgICk7XHJcblxyXG4gICAga28udXRpbHMucmVnaXN0ZXJFdmVudEhhbmRsZXIoXHJcbiAgICAgIGRvY3VtZW50IGFzIGFueSxcclxuICAgICAgXCJrZXlkb3duXCIsXHJcbiAgICAgIHRoaXMuX2RvY3VtZW50X29uS2V5UHJlc3NcclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7IHZpZXdNb2RlbDogR2FtZVZpZXdNb2RlbCwgdGVtcGxhdGU6IEdhbWVQYWdlSHRtbCB9O1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1232\n')},8505:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst AnimationHelpers_1 = __importDefault(__webpack_require__(5926));\r\nconst HealOutcome_1 = __importDefault(__webpack_require__(659));\r\nclass Heal {\r\n    constructor(target, params) {\r\n        this._complete = () => {\r\n            const outcome = this.getOutcome();\r\n            this._onFinish(this, outcome);\r\n        };\r\n        this._updateProgress = (progress) => {\r\n            this.castProgress = progress.complete || 0;\r\n        };\r\n        this.begin = (elements) => {\r\n            if (!elements || elements.length === 0) {\r\n                return;\r\n            }\r\n            elements[0].style.width = "0%";\r\n            AnimationHelpers_1.default.removeStyleAttribute(elements);\r\n        };\r\n        this.cancel = () => {\r\n            const outcome = new HealOutcome_1.default(this.name);\r\n            outcome.wasCancelled = true;\r\n            this._onCancel(this, outcome);\r\n        };\r\n        this.target = target;\r\n        this.isInstant = false;\r\n        this._onFinish = params.onFinish;\r\n        this._onCancel = params.onCancel;\r\n        this.castProgress = 0.0;\r\n    }\r\n    get animation() {\r\n        return [\r\n            {\r\n                properties: AnimationHelpers_1.default.fullWidth,\r\n                options: {\r\n                    duration: this.castTime,\r\n                    begin: this.begin,\r\n                    progress: AnimationHelpers_1.default.makeUpdateProgressFunction(this._updateProgress),\r\n                    complete: this._complete,\r\n                },\r\n            },\r\n        ];\r\n    }\r\n}\r\nexports["default"] = Heal;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODUwNS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUdBLHNFQUFrRDtBQUdsRCxnRUFBd0M7QUFHeEMsTUFBOEIsSUFBSTtJQXNDaEMsWUFBWSxNQUFnQixFQUFFLE1BQWtCO1FBckN4QyxjQUFTLEdBQUcsR0FBRyxFQUFFO1lBQ3ZCLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztZQUNsQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztRQUNoQyxDQUFDLENBQUM7UUFJTSxvQkFBZSxHQUFHLENBQUMsUUFBMkIsRUFBRSxFQUFFO1lBQ3hELElBQUksQ0FBQyxZQUFZLEdBQUcsUUFBUSxDQUFDLFFBQVEsSUFBSSxDQUFDLENBQUM7UUFDN0MsQ0FBQyxDQUFDO1FBRVEsVUFBSyxHQUF1QixDQUFDLFFBQXlCLEVBQUUsRUFBRTtZQUNsRSxJQUFJLENBQUMsUUFBUSxJQUFJLFFBQVEsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO2dCQUN0QyxPQUFPO2FBQ1I7WUFFRCxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7WUFDL0IsMEJBQWdCLENBQUMsb0JBQW9CLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDbEQsQ0FBQyxDQUFDO1FBTUYsV0FBTSxHQUFHLEdBQUcsRUFBRTtZQUNaLE1BQU0sT0FBTyxHQUFHLElBQUkscUJBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDM0MsT0FBTyxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7WUFFNUIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDaEMsQ0FBQyxDQUFDO1FBU0EsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFFckIsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFFdkIsSUFBSSxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDO1FBQ2pDLElBQUksQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQztRQUVqQyxJQUFJLENBQUMsWUFBWSxHQUFHLEdBQUcsQ0FBQztJQUMxQixDQUFDO0lBRUQsSUFBSSxTQUFTO1FBQ1gsT0FBTztZQUNMO2dCQUNFLFVBQVUsRUFBRSwwQkFBZ0IsQ0FBQyxTQUFTO2dCQUN0QyxPQUFPLEVBQUU7b0JBQ1AsUUFBUSxFQUFFLElBQUksQ0FBQyxRQUFRO29CQUN2QixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7b0JBQ2pCLFFBQVEsRUFBRSwwQkFBZ0IsQ0FBQywwQkFBMEIsQ0FDbkQsSUFBSSxDQUFDLGVBQWUsQ0FDckI7b0JBQ0QsUUFBUSxFQUFFLElBQUksQ0FBQyxTQUFTO2lCQUN6QjthQUNGO1NBQ0YsQ0FBQztJQUNKLENBQUM7Q0FDRjtBQWhFRCwwQkFnRUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFscy1wbGVhc2UvLi90cy9IZWFsLnRzPzAxNzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVmVsb2NpdHlDYWxsYmFja0ZuLCBWZWxvY2l0eVJlc3VsdCB9IGZyb20gXCJ2ZWxvY2l0eS1hbmltYXRlXCI7XHJcbmltcG9ydCB7IEFjdGlvbk5hbWUgfSBmcm9tIFwiLi9BY3Rpb25OYW1lXCI7XHJcbmltcG9ydCB7IEFuaW1hdGlvbiB9IGZyb20gXCIuL0FuaW1hdGlvblwiO1xyXG5pbXBvcnQgQW5pbWF0aW9uSGVscGVycyBmcm9tIFwiLi9BbmltYXRpb25IZWxwZXJzXCI7XHJcbmltcG9ydCB7IEFuaW1hdGlvblByb2dyZXNzIH0gZnJvbSBcIi4vQW5pbWF0aW9uUHJvZ3Jlc3NcIjtcclxuaW1wb3J0IEZyaWVuZGx5IGZyb20gXCIuL0ZyaWVuZGx5XCI7XHJcbmltcG9ydCBIZWFsT3V0Y29tZSBmcm9tIFwiLi9IZWFsT3V0Y29tZVwiO1xyXG5pbXBvcnQgeyBIZWFsUGFyYW1zIH0gZnJvbSBcIi4vSGVhbFBhcmFtc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgSGVhbCB7XHJcbiAgcHJpdmF0ZSBfY29tcGxldGUgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBvdXRjb21lID0gdGhpcy5nZXRPdXRjb21lKCk7XHJcbiAgICB0aGlzLl9vbkZpbmlzaCh0aGlzLCBvdXRjb21lKTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9vbkNhbmNlbDogKGFjdGlvbjogSGVhbCwgb3V0Y29tZTogSGVhbE91dGNvbWUpID0+IHZvaWQ7XHJcbiAgcHJpdmF0ZSBfb25GaW5pc2g6IChhY3Rpb246IEhlYWwsIG91dGNvbWU6IEhlYWxPdXRjb21lKSA9PiB2b2lkO1xyXG4gIHByaXZhdGUgX3VwZGF0ZVByb2dyZXNzID0gKHByb2dyZXNzOiBBbmltYXRpb25Qcm9ncmVzcykgPT4ge1xyXG4gICAgdGhpcy5jYXN0UHJvZ3Jlc3MgPSBwcm9ncmVzcy5jb21wbGV0ZSB8fCAwO1xyXG4gIH07XHJcblxyXG4gIHByb3RlY3RlZCBiZWdpbjogVmVsb2NpdHlDYWxsYmFja0ZuID0gKGVsZW1lbnRzPzogVmVsb2NpdHlSZXN1bHQpID0+IHtcclxuICAgIGlmICghZWxlbWVudHMgfHwgZWxlbWVudHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBlbGVtZW50c1swXS5zdHlsZS53aWR0aCA9IFwiMCVcIjtcclxuICAgIEFuaW1hdGlvbkhlbHBlcnMucmVtb3ZlU3R5bGVBdHRyaWJ1dGUoZWxlbWVudHMpO1xyXG4gIH07XHJcblxyXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBjYXN0VGltZTogbnVtYmVyO1xyXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBnZXRPdXRjb21lOiAoKSA9PiBIZWFsT3V0Y29tZTtcclxuICB0YXJnZXQ6IEZyaWVuZGx5O1xyXG5cclxuICBjYW5jZWwgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBvdXRjb21lID0gbmV3IEhlYWxPdXRjb21lKHRoaXMubmFtZSk7XHJcbiAgICBvdXRjb21lLndhc0NhbmNlbGxlZCA9IHRydWU7XHJcblxyXG4gICAgdGhpcy5fb25DYW5jZWwodGhpcywgb3V0Y29tZSk7XHJcbiAgfTtcclxuXHJcbiAgYWJzdHJhY3QgY2FzdDogKCkgPT4gSGVhbE91dGNvbWU7XHJcbiAgY2FzdFByb2dyZXNzOiBudW1iZXI7XHJcbiAgaXNJbnN0YW50OiBib29sZWFuO1xyXG4gIGFic3RyYWN0IG1hbmFDb3N0OiBudW1iZXI7XHJcbiAgYWJzdHJhY3QgbmFtZTogQWN0aW9uTmFtZTtcclxuXHJcbiAgY29uc3RydWN0b3IodGFyZ2V0OiBGcmllbmRseSwgcGFyYW1zOiBIZWFsUGFyYW1zKSB7XHJcbiAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcclxuXHJcbiAgICB0aGlzLmlzSW5zdGFudCA9IGZhbHNlO1xyXG5cclxuICAgIHRoaXMuX29uRmluaXNoID0gcGFyYW1zLm9uRmluaXNoO1xyXG4gICAgdGhpcy5fb25DYW5jZWwgPSBwYXJhbXMub25DYW5jZWw7XHJcblxyXG4gICAgdGhpcy5jYXN0UHJvZ3Jlc3MgPSAwLjA7XHJcbiAgfVxyXG5cclxuICBnZXQgYW5pbWF0aW9uKCk6IEFuaW1hdGlvbltdIHtcclxuICAgIHJldHVybiBbXHJcbiAgICAgIHtcclxuICAgICAgICBwcm9wZXJ0aWVzOiBBbmltYXRpb25IZWxwZXJzLmZ1bGxXaWR0aCxcclxuICAgICAgICBvcHRpb25zOiB7XHJcbiAgICAgICAgICBkdXJhdGlvbjogdGhpcy5jYXN0VGltZSxcclxuICAgICAgICAgIGJlZ2luOiB0aGlzLmJlZ2luLFxyXG4gICAgICAgICAgcHJvZ3Jlc3M6IEFuaW1hdGlvbkhlbHBlcnMubWFrZVVwZGF0ZVByb2dyZXNzRnVuY3Rpb24oXHJcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVByb2dyZXNzXHJcbiAgICAgICAgICApLFxyXG4gICAgICAgICAgY29tcGxldGU6IHRoaXMuX2NvbXBsZXRlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICBdO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8505\n')},9986:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst ActionName_1 = __webpack_require__(8470);\r\nconst MediumHeal_1 = __importDefault(__webpack_require__(5581));\r\nconst Renew_1 = __importDefault(__webpack_require__(6038));\r\nconst SmallHeal_1 = __importDefault(__webpack_require__(6205));\r\nclass HealFactory {\r\n    create(healName, target, healParams) {\r\n        switch (healName) {\r\n            case ActionName_1.ActionName.SmallHeal:\r\n                return new SmallHeal_1.default(target, healParams);\r\n            case ActionName_1.ActionName.Renew:\r\n                return new Renew_1.default(target, healParams);\r\n            case ActionName_1.ActionName.MediumHeal:\r\n                return new MediumHeal_1.default(target, healParams);\r\n        }\r\n    }\r\n}\r\nexports["default"] = new HealFactory();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTk4Ni5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLCtDQUEwQztBQUkxQyxnRUFBNEM7QUFDNUMsMkRBQWtDO0FBQ2xDLCtEQUEwQztBQUUxQyxNQUFNLFdBQVc7SUFDZixNQUFNLENBQUMsUUFBb0IsRUFBRSxNQUFnQixFQUFFLFVBQXNCO1FBQ25FLFFBQVEsUUFBUSxFQUFFO1lBQ2hCLEtBQUssdUJBQVUsQ0FBQyxTQUFTO2dCQUN2QixPQUFPLElBQUksbUJBQVMsQ0FBQyxNQUFNLEVBQUUsVUFBVSxDQUFDLENBQUM7WUFDM0MsS0FBSyx1QkFBVSxDQUFDLEtBQUs7Z0JBQ25CLE9BQU8sSUFBSSxlQUFLLENBQUMsTUFBTSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1lBQ3ZDLEtBQUssdUJBQVUsQ0FBQyxVQUFVO2dCQUN4QixPQUFPLElBQUksb0JBQVUsQ0FBQyxNQUFNLEVBQUUsVUFBVSxDQUFDLENBQUM7U0FDN0M7SUFDSCxDQUFDO0NBQ0Y7QUFFRCxxQkFBZSxJQUFJLFdBQVcsRUFBRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHMtcGxlYXNlLy4vdHMvSGVhbEZhY3RvcnkudHM/NWMzMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY3Rpb25OYW1lIH0gZnJvbSBcIi4vQWN0aW9uTmFtZVwiO1xyXG5pbXBvcnQgRnJpZW5kbHkgZnJvbSBcIi4vRnJpZW5kbHlcIjtcclxuaW1wb3J0IEhlYWwgZnJvbSBcIi4vSGVhbFwiO1xyXG5pbXBvcnQgeyBIZWFsUGFyYW1zIH0gZnJvbSBcIi4vSGVhbFBhcmFtc1wiO1xyXG5pbXBvcnQgTWVkaXVtSGVhbCBmcm9tIFwiLi9IZWFscy9NZWRpdW1IZWFsXCI7XHJcbmltcG9ydCBSZW5ldyBmcm9tIFwiLi9IZWFscy9SZW5ld1wiO1xyXG5pbXBvcnQgU21hbGxIZWFsIGZyb20gXCIuL0hlYWxzL1NtYWxsSGVhbFwiO1xyXG5cclxuY2xhc3MgSGVhbEZhY3Rvcnkge1xyXG4gIGNyZWF0ZShoZWFsTmFtZTogQWN0aW9uTmFtZSwgdGFyZ2V0OiBGcmllbmRseSwgaGVhbFBhcmFtczogSGVhbFBhcmFtcyk6IEhlYWwge1xyXG4gICAgc3dpdGNoIChoZWFsTmFtZSkge1xyXG4gICAgICBjYXNlIEFjdGlvbk5hbWUuU21hbGxIZWFsOlxyXG4gICAgICAgIHJldHVybiBuZXcgU21hbGxIZWFsKHRhcmdldCwgaGVhbFBhcmFtcyk7XHJcbiAgICAgIGNhc2UgQWN0aW9uTmFtZS5SZW5ldzpcclxuICAgICAgICByZXR1cm4gbmV3IFJlbmV3KHRhcmdldCwgaGVhbFBhcmFtcyk7XHJcbiAgICAgIGNhc2UgQWN0aW9uTmFtZS5NZWRpdW1IZWFsOlxyXG4gICAgICAgIHJldHVybiBuZXcgTWVkaXVtSGVhbCh0YXJnZXQsIGhlYWxQYXJhbXMpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbmV3IEhlYWxGYWN0b3J5KCk7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9986\n')},659:(__unused_webpack_module,exports)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nclass HealOutcome {\r\n    constructor(healName) {\r\n        this._amount = 0;\r\n        this._isCrit = false;\r\n        this._isFromHotBuff = false;\r\n        this._isFirstHotTick = false;\r\n        this._manaSpent = 0;\r\n        this._overheal = 0;\r\n        this._targetDied = false;\r\n        this._wasCancelled = false;\r\n        this._healName = healName;\r\n    }\r\n    get healName() {\r\n        return this._healName;\r\n    }\r\n    get amount() {\r\n        return this._amount;\r\n    }\r\n    set amount(value) {\r\n        this._amount = value;\r\n    }\r\n    get effectiveAmount() {\r\n        return this.amount - this._overheal;\r\n    }\r\n    get isCrit() {\r\n        return this._isCrit;\r\n    }\r\n    set isCrit(value) {\r\n        this._isCrit = value;\r\n    }\r\n    get isFromHotBuff() {\r\n        return this._isFromHotBuff;\r\n    }\r\n    set isFromHotBuff(value) {\r\n        this._isFromHotBuff = value;\r\n    }\r\n    get isFirstHotTick() {\r\n        return this._isFirstHotTick;\r\n    }\r\n    set isFirstHotTick(value) {\r\n        this._isFirstHotTick = value;\r\n    }\r\n    get manaSpent() {\r\n        return this._manaSpent;\r\n    }\r\n    set manaSpent(value) {\r\n        this._manaSpent = value;\r\n    }\r\n    get overheal() {\r\n        return this._overheal;\r\n    }\r\n    set overheal(value) {\r\n        this._overheal = value;\r\n    }\r\n    get targetDied() {\r\n        return this._targetDied;\r\n    }\r\n    set targetDied(value) {\r\n        this._targetDied = value;\r\n    }\r\n    get wasCancelled() {\r\n        return this._wasCancelled;\r\n    }\r\n    set wasCancelled(value) {\r\n        this._wasCancelled = value;\r\n    }\r\n}\r\nexports["default"] = HealOutcome;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjU5LmpzIiwibWFwcGluZ3MiOiI7O0FBRUEsTUFBcUIsV0FBVztJQVc5QixZQUFZLFFBQW9CO1FBVHhCLFlBQU8sR0FBVyxDQUFDLENBQUM7UUFDcEIsWUFBTyxHQUFZLEtBQUssQ0FBQztRQUN6QixtQkFBYyxHQUFZLEtBQUssQ0FBQztRQUNoQyxvQkFBZSxHQUFZLEtBQUssQ0FBQztRQUNqQyxlQUFVLEdBQVcsQ0FBQyxDQUFDO1FBQ3ZCLGNBQVMsR0FBVyxDQUFDLENBQUM7UUFDdEIsZ0JBQVcsR0FBWSxLQUFLLENBQUM7UUFDN0Isa0JBQWEsR0FBWSxLQUFLLENBQUM7UUFHckMsSUFBSSxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUM7SUFDNUIsQ0FBQztJQUVELElBQUksUUFBUTtRQUNWLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUN4QixDQUFDO0lBRUQsSUFBSSxNQUFNO1FBQ1IsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ3RCLENBQUM7SUFFRCxJQUFJLE1BQU0sQ0FBQyxLQUFhO1FBQ3RCLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxJQUFJLGVBQWU7UUFDakIsT0FBTyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDdEMsQ0FBQztJQUVELElBQUksTUFBTTtRQUNSLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQztJQUN0QixDQUFDO0lBRUQsSUFBSSxNQUFNLENBQUMsS0FBYztRQUN2QixJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztJQUN2QixDQUFDO0lBRUQsSUFBSSxhQUFhO1FBQ2YsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDO0lBQzdCLENBQUM7SUFFRCxJQUFJLGFBQWEsQ0FBQyxLQUFjO1FBQzlCLElBQUksQ0FBQyxjQUFjLEdBQUcsS0FBSyxDQUFDO0lBQzlCLENBQUM7SUFFRCxJQUFJLGNBQWM7UUFDaEIsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDO0lBQzlCLENBQUM7SUFFRCxJQUFJLGNBQWMsQ0FBQyxLQUFjO1FBQy9CLElBQUksQ0FBQyxlQUFlLEdBQUcsS0FBSyxDQUFDO0lBQy9CLENBQUM7SUFFRCxJQUFJLFNBQVM7UUFDWCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7SUFDekIsQ0FBQztJQUVELElBQUksU0FBUyxDQUFDLEtBQWE7UUFDekIsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7SUFDMUIsQ0FBQztJQUVELElBQUksUUFBUTtRQUNWLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUN4QixDQUFDO0lBRUQsSUFBSSxRQUFRLENBQUMsS0FBYTtRQUN4QixJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztJQUN6QixDQUFDO0lBRUQsSUFBSSxVQUFVO1FBQ1osT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDO0lBQzFCLENBQUM7SUFFRCxJQUFJLFVBQVUsQ0FBQyxLQUFjO1FBQzNCLElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO0lBQzNCLENBQUM7SUFFRCxJQUFJLFlBQVk7UUFDZCxPQUFPLElBQUksQ0FBQyxhQUFhLENBQUM7SUFDNUIsQ0FBQztJQUVELElBQUksWUFBWSxDQUFDLEtBQWM7UUFDN0IsSUFBSSxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUM7SUFDN0IsQ0FBQztDQUNGO0FBdEZELGlDQXNGQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWxzLXBsZWFzZS8uL3RzL0hlYWxPdXRjb21lLnRzPzczZTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWN0aW9uTmFtZSB9IGZyb20gXCIuL0FjdGlvbk5hbWVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhlYWxPdXRjb21lIHtcclxuICBwcml2YXRlIF9oZWFsTmFtZTogQWN0aW9uTmFtZTtcclxuICBwcml2YXRlIF9hbW91bnQ6IG51bWJlciA9IDA7XHJcbiAgcHJpdmF0ZSBfaXNDcml0OiBib29sZWFuID0gZmFsc2U7XHJcbiAgcHJpdmF0ZSBfaXNGcm9tSG90QnVmZjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIHByaXZhdGUgX2lzRmlyc3RIb3RUaWNrOiBib29sZWFuID0gZmFsc2U7XHJcbiAgcHJpdmF0ZSBfbWFuYVNwZW50OiBudW1iZXIgPSAwO1xyXG4gIHByaXZhdGUgX292ZXJoZWFsOiBudW1iZXIgPSAwO1xyXG4gIHByaXZhdGUgX3RhcmdldERpZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBwcml2YXRlIF93YXNDYW5jZWxsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgY29uc3RydWN0b3IoaGVhbE5hbWU6IEFjdGlvbk5hbWUpIHtcclxuICAgIHRoaXMuX2hlYWxOYW1lID0gaGVhbE5hbWU7XHJcbiAgfVxyXG5cclxuICBnZXQgaGVhbE5hbWUoKTogQWN0aW9uTmFtZSB7XHJcbiAgICByZXR1cm4gdGhpcy5faGVhbE5hbWU7XHJcbiAgfVxyXG5cclxuICBnZXQgYW1vdW50KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5fYW1vdW50O1xyXG4gIH1cclxuXHJcbiAgc2V0IGFtb3VudCh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLl9hbW91bnQgPSB2YWx1ZTtcclxuICB9XHJcblxyXG4gIGdldCBlZmZlY3RpdmVBbW91bnQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmFtb3VudCAtIHRoaXMuX292ZXJoZWFsO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGlzQ3JpdCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9pc0NyaXQ7XHJcbiAgfVxyXG5cclxuICBzZXQgaXNDcml0KHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLl9pc0NyaXQgPSB2YWx1ZTtcclxuICB9XHJcblxyXG4gIGdldCBpc0Zyb21Ib3RCdWZmKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lzRnJvbUhvdEJ1ZmY7XHJcbiAgfVxyXG5cclxuICBzZXQgaXNGcm9tSG90QnVmZih2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgdGhpcy5faXNGcm9tSG90QnVmZiA9IHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGlzRmlyc3RIb3RUaWNrKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lzRmlyc3RIb3RUaWNrO1xyXG4gIH1cclxuXHJcbiAgc2V0IGlzRmlyc3RIb3RUaWNrKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLl9pc0ZpcnN0SG90VGljayA9IHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgZ2V0IG1hbmFTcGVudCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuX21hbmFTcGVudDtcclxuICB9XHJcblxyXG4gIHNldCBtYW5hU3BlbnQodmFsdWU6IG51bWJlcikge1xyXG4gICAgdGhpcy5fbWFuYVNwZW50ID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuICBnZXQgb3ZlcmhlYWwoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLl9vdmVyaGVhbDtcclxuICB9XHJcblxyXG4gIHNldCBvdmVyaGVhbCh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLl9vdmVyaGVhbCA9IHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHRhcmdldERpZWQoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5fdGFyZ2V0RGllZDtcclxuICB9XHJcblxyXG4gIHNldCB0YXJnZXREaWVkKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLl90YXJnZXREaWVkID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuICBnZXQgd2FzQ2FuY2VsbGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX3dhc0NhbmNlbGxlZDtcclxuICB9XHJcblxyXG4gIHNldCB3YXNDYW5jZWxsZWQodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuX3dhc0NhbmNlbGxlZCA9IHZhbHVlO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///659\n')},6926:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, "default", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o["default"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst ko = __importStar(__webpack_require__(9687));\r\nclass HealStat {\r\n    constructor(healName) {\r\n        this.efficiency = ko.pureComputed(() => {\r\n            if (this.numHeals() === 0 || this.total() === 0) {\r\n                return "-";\r\n            }\r\n            const efficiency = (100 * this._effectiveAmount()) / this.total();\r\n            return `${efficiency.toFixed(2)}%`;\r\n        });\r\n        this.reset = () => {\r\n            this._effectiveAmount(0);\r\n            this.numCrits(0);\r\n            this.numHeals(0);\r\n            this.overheal(0);\r\n            this.total(0);\r\n        };\r\n        this.name = healName;\r\n        this._effectiveAmount = ko.observable(0);\r\n        this.numCrits = ko.observable(0);\r\n        this.numHeals = ko.observable(0);\r\n        this.overheal = ko.observable(0);\r\n        this.total = ko.observable(0);\r\n    }\r\n    add(healOutcome) {\r\n        if (!healOutcome.isFromHotBuff || healOutcome.isFirstHotTick) {\r\n            this.numHeals(this.numHeals() + 1);\r\n        }\r\n        if (healOutcome.isCrit) {\r\n            this.numCrits(this.numCrits() + 1);\r\n        }\r\n        this.total(this.total() + healOutcome.amount);\r\n        this._effectiveAmount(this._effectiveAmount() + healOutcome.effectiveAmount);\r\n        this.overheal(this.overheal() + healOutcome.overheal);\r\n    }\r\n}\r\nexports["default"] = HealStat;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjkyNi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxtREFBK0I7QUFJL0IsTUFBcUIsUUFBUTtJQXdCM0IsWUFBWSxRQUFvQjtRQWhCaEMsZUFBVSxHQUE0QixFQUFFLENBQUMsWUFBWSxDQUFDLEdBQUcsRUFBRTtZQUN6RCxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsRUFBRTtnQkFDL0MsT0FBTyxHQUFHLENBQUM7YUFDWjtZQUNELE1BQU0sVUFBVSxHQUFHLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQ2xFLE9BQU8sR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUM7UUFDckMsQ0FBQyxDQUFDLENBQUM7UUFFSCxVQUFLLEdBQUcsR0FBRyxFQUFFO1lBQ1gsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3pCLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDakIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNqQixJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pCLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEIsQ0FBQyxDQUFDO1FBR0EsSUFBSSxDQUFDLElBQUksR0FBRyxRQUFRLENBQUM7UUFFckIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekMsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2pDLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNqQyxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakMsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUFFRCxHQUFHLENBQUMsV0FBd0I7UUFDMUIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLElBQUksV0FBVyxDQUFDLGNBQWMsRUFBRTtZQUM1RCxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztTQUNwQztRQUVELElBQUksV0FBVyxDQUFDLE1BQU0sRUFBRTtZQUN0QixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztTQUNwQztRQUVELElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxHQUFHLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM5QyxJQUFJLENBQUMsZ0JBQWdCLENBQ25CLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxHQUFHLFdBQVcsQ0FBQyxlQUFlLENBQ3RELENBQUM7UUFDRixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDeEQsQ0FBQztDQUNGO0FBakRELDhCQWlEQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWxzLXBsZWFzZS8uL3RzL0hlYWxTdGF0LnRzPzVkNmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMga28gZnJvbSBcImtub2Nrb3V0XCI7XHJcbmltcG9ydCB7IEFjdGlvbk5hbWUgfSBmcm9tIFwiLi9BY3Rpb25OYW1lXCI7XHJcbmltcG9ydCBIZWFsT3V0Y29tZSBmcm9tIFwiLi9IZWFsT3V0Y29tZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVhbFN0YXQge1xyXG4gIHByaXZhdGUgX2VmZmVjdGl2ZUFtb3VudDoga28uT2JzZXJ2YWJsZTxudW1iZXI+O1xyXG4gIG5hbWU6IEFjdGlvbk5hbWU7XHJcbiAgbnVtQ3JpdHM6IGtvLk9ic2VydmFibGU8bnVtYmVyPjtcclxuICBudW1IZWFsczoga28uT2JzZXJ2YWJsZTxudW1iZXI+O1xyXG4gIG92ZXJoZWFsOiBrby5PYnNlcnZhYmxlPG51bWJlcj47XHJcbiAgdG90YWw6IGtvLk9ic2VydmFibGU8bnVtYmVyPjtcclxuXHJcbiAgZWZmaWNpZW5jeToga28uUHVyZUNvbXB1dGVkPHN0cmluZz4gPSBrby5wdXJlQ29tcHV0ZWQoKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMubnVtSGVhbHMoKSA9PT0gMCB8fCB0aGlzLnRvdGFsKCkgPT09IDApIHtcclxuICAgICAgcmV0dXJuIFwiLVwiO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZWZmaWNpZW5jeSA9ICgxMDAgKiB0aGlzLl9lZmZlY3RpdmVBbW91bnQoKSkgLyB0aGlzLnRvdGFsKCk7XHJcbiAgICByZXR1cm4gYCR7ZWZmaWNpZW5jeS50b0ZpeGVkKDIpfSVgO1xyXG4gIH0pO1xyXG5cclxuICByZXNldCA9ICgpID0+IHtcclxuICAgIHRoaXMuX2VmZmVjdGl2ZUFtb3VudCgwKTtcclxuICAgIHRoaXMubnVtQ3JpdHMoMCk7XHJcbiAgICB0aGlzLm51bUhlYWxzKDApO1xyXG4gICAgdGhpcy5vdmVyaGVhbCgwKTtcclxuICAgIHRoaXMudG90YWwoMCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3RydWN0b3IoaGVhbE5hbWU6IEFjdGlvbk5hbWUpIHtcclxuICAgIHRoaXMubmFtZSA9IGhlYWxOYW1lO1xyXG5cclxuICAgIHRoaXMuX2VmZmVjdGl2ZUFtb3VudCA9IGtvLm9ic2VydmFibGUoMCk7XHJcbiAgICB0aGlzLm51bUNyaXRzID0ga28ub2JzZXJ2YWJsZSgwKTtcclxuICAgIHRoaXMubnVtSGVhbHMgPSBrby5vYnNlcnZhYmxlKDApO1xyXG4gICAgdGhpcy5vdmVyaGVhbCA9IGtvLm9ic2VydmFibGUoMCk7XHJcbiAgICB0aGlzLnRvdGFsID0ga28ub2JzZXJ2YWJsZSgwKTtcclxuICB9XHJcblxyXG4gIGFkZChoZWFsT3V0Y29tZTogSGVhbE91dGNvbWUpIHtcclxuICAgIGlmICghaGVhbE91dGNvbWUuaXNGcm9tSG90QnVmZiB8fCBoZWFsT3V0Y29tZS5pc0ZpcnN0SG90VGljaykge1xyXG4gICAgICB0aGlzLm51bUhlYWxzKHRoaXMubnVtSGVhbHMoKSArIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChoZWFsT3V0Y29tZS5pc0NyaXQpIHtcclxuICAgICAgdGhpcy5udW1Dcml0cyh0aGlzLm51bUNyaXRzKCkgKyAxKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnRvdGFsKHRoaXMudG90YWwoKSArIGhlYWxPdXRjb21lLmFtb3VudCk7XHJcbiAgICB0aGlzLl9lZmZlY3RpdmVBbW91bnQoXHJcbiAgICAgIHRoaXMuX2VmZmVjdGl2ZUFtb3VudCgpICsgaGVhbE91dGNvbWUuZWZmZWN0aXZlQW1vdW50XHJcbiAgICApO1xyXG4gICAgdGhpcy5vdmVyaGVhbCh0aGlzLm92ZXJoZWFsKCkgKyBoZWFsT3V0Y29tZS5vdmVyaGVhbCk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6926\n')},5581:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst ActionName_1 = __webpack_require__(8470);\r\nconst Heal_1 = __importDefault(__webpack_require__(8505));\r\nconst Random_1 = __importDefault(__webpack_require__(3640));\r\nclass MediumHeal extends Heal_1.default {\r\n    constructor(target, params) {\r\n        super(target, params);\r\n        this.castTime = 2000;\r\n        this.getOutcome = () => this.cast();\r\n        this.cast = () => {\r\n            const isCrit = Math.random() < this._critChance;\r\n            let healAmount = Random_1.default.fromIntegerIntervalInclusive(38, 50);\r\n            if (isCrit) {\r\n                healAmount = Math.round(healAmount * this._critMultiplier);\r\n            }\r\n            return this.target.heal(this.name, healAmount, isCrit);\r\n        };\r\n        this.manaCost = 60;\r\n        this.name = ActionName_1.ActionName.MediumHeal;\r\n        this._critChance = 0.1;\r\n        this._critMultiplier = 1.5;\r\n    }\r\n}\r\nexports["default"] = MediumHeal;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTU4MS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLCtDQUEyQztBQUUzQywwREFBMkI7QUFFM0IsNERBQStCO0FBRS9CLE1BQXFCLFVBQVcsU0FBUSxjQUFJO0lBcUIxQyxZQUFZLE1BQWdCLEVBQUUsTUFBa0I7UUFDOUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQztRQWxCZCxhQUFRLEdBQVcsSUFBSSxDQUFDO1FBQ3hCLGVBQVUsR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFFaEMsU0FBSSxHQUFHLEdBQUcsRUFBRTtZQUNuQixNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztZQUNoRCxJQUFJLFVBQVUsR0FBRyxnQkFBTSxDQUFDLDRCQUE0QixDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztZQUU3RCxJQUFJLE1BQU0sRUFBRTtnQkFDVixVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO2FBQzVEO1lBRUQsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLFVBQVUsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUN6RCxDQUFDLENBQUM7UUFFRixhQUFRLEdBQVcsRUFBRSxDQUFDO1FBQ3RCLFNBQUksR0FBZSx1QkFBVSxDQUFDLFVBQVUsQ0FBQztRQUt2QyxJQUFJLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQztRQUN2QixJQUFJLENBQUMsZUFBZSxHQUFHLEdBQUcsQ0FBQztJQUM3QixDQUFDO0NBQ0Y7QUEzQkQsZ0NBMkJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHMtcGxlYXNlLy4vdHMvSGVhbHMvTWVkaXVtSGVhbC50cz9lZTY0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFjdGlvbk5hbWUgfSBmcm9tIFwidHMvQWN0aW9uTmFtZVwiO1xyXG5pbXBvcnQgRnJpZW5kbHkgZnJvbSBcInRzL0ZyaWVuZGx5XCI7XHJcbmltcG9ydCBIZWFsIGZyb20gXCJ0cy9IZWFsXCI7XHJcbmltcG9ydCB7IEhlYWxQYXJhbXMgfSBmcm9tIFwidHMvSGVhbFBhcmFtc1wiO1xyXG5pbXBvcnQgUmFuZG9tIGZyb20gXCJ0cy9SYW5kb21cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lZGl1bUhlYWwgZXh0ZW5kcyBIZWFsIHtcclxuICBwcml2YXRlIF9jcml0Q2hhbmNlOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBfY3JpdE11bHRpcGxpZXI6IG51bWJlcjtcclxuXHJcbiAgcHJvdGVjdGVkIGNhc3RUaW1lOiBudW1iZXIgPSAyMDAwO1xyXG4gIHByb3RlY3RlZCBnZXRPdXRjb21lID0gKCkgPT4gdGhpcy5jYXN0KCk7XHJcblxyXG4gIG92ZXJyaWRlIGNhc3QgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBpc0NyaXQgPSBNYXRoLnJhbmRvbSgpIDwgdGhpcy5fY3JpdENoYW5jZTtcclxuICAgIGxldCBoZWFsQW1vdW50ID0gUmFuZG9tLmZyb21JbnRlZ2VySW50ZXJ2YWxJbmNsdXNpdmUoMzgsIDUwKTtcclxuXHJcbiAgICBpZiAoaXNDcml0KSB7XHJcbiAgICAgIGhlYWxBbW91bnQgPSBNYXRoLnJvdW5kKGhlYWxBbW91bnQgKiB0aGlzLl9jcml0TXVsdGlwbGllcik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMudGFyZ2V0LmhlYWwodGhpcy5uYW1lLCBoZWFsQW1vdW50LCBpc0NyaXQpO1xyXG4gIH07XHJcblxyXG4gIG1hbmFDb3N0OiBudW1iZXIgPSA2MDtcclxuICBuYW1lOiBBY3Rpb25OYW1lID0gQWN0aW9uTmFtZS5NZWRpdW1IZWFsO1xyXG5cclxuICBjb25zdHJ1Y3Rvcih0YXJnZXQ6IEZyaWVuZGx5LCBwYXJhbXM6IEhlYWxQYXJhbXMpIHtcclxuICAgIHN1cGVyKHRhcmdldCwgcGFyYW1zKTtcclxuXHJcbiAgICB0aGlzLl9jcml0Q2hhbmNlID0gMC4xO1xyXG4gICAgdGhpcy5fY3JpdE11bHRpcGxpZXIgPSAxLjU7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5581\n')},6038:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst ActionName_1 = __webpack_require__(8470);\r\nconst AnimationHelpers_1 = __importDefault(__webpack_require__(5926));\r\nconst BuffName_1 = __webpack_require__(8176);\r\nconst Heal_1 = __importDefault(__webpack_require__(8505));\r\nconst HealOutcome_1 = __importDefault(__webpack_require__(659));\r\nconst HotBuff_1 = __importDefault(__webpack_require__(4225));\r\nclass Renew extends Heal_1.default {\r\n    constructor(target, params) {\r\n        super(target, params);\r\n        this._hasTicked = false;\r\n        this.castTime = 250;\r\n        this.getOutcome = () => {\r\n            const healOutcome = new HealOutcome_1.default(this.name);\r\n            healOutcome.manaSpent = this.manaCost;\r\n            return healOutcome;\r\n        };\r\n        this.begin = (elements) => {\r\n            AnimationHelpers_1.default.removeStyleAttribute(elements);\r\n            this.cast();\r\n        };\r\n        this.cast = () => {\r\n            const renewBuff = new HotBuff_1.default({\r\n                name: BuffName_1.BuffName.Renew,\r\n                description: "The target feels renewed, gaining health over time.",\r\n                duration: 10000,\r\n                interval: 2000,\r\n                target: this.target,\r\n                effect: (renewTarget) => {\r\n                    const isCrit = Math.random() < this._critChance;\r\n                    let healAmount = 8;\r\n                    if (isCrit) {\r\n                        healAmount = Math.round(healAmount * this._critMultiplier);\r\n                    }\r\n                    renewTarget.heal(this.name, healAmount, isCrit, true, !this._hasTicked);\r\n                    this._hasTicked = true;\r\n                },\r\n            });\r\n            this.target.applyBuff(renewBuff);\r\n            const healOutcome = new HealOutcome_1.default(this.name);\r\n            return healOutcome;\r\n        };\r\n        this.manaCost = 80;\r\n        this.name = ActionName_1.ActionName.Renew;\r\n        this.isInstant = true;\r\n        this._critChance = 0.1;\r\n        this._critMultiplier = 1.5;\r\n    }\r\n}\r\nexports["default"] = Renew;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjAzOC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLCtDQUEyQztBQUMzQyxzRUFBbUQ7QUFDbkQsNkNBQXVDO0FBRXZDLDBEQUEyQjtBQUMzQixnRUFBeUM7QUFFekMsNkRBQWlDO0FBR2pDLE1BQXFCLEtBQU0sU0FBUSxjQUFJO0lBaURyQyxZQUFZLE1BQWdCLEVBQUUsTUFBa0I7UUFDOUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQztRQS9DaEIsZUFBVSxHQUFZLEtBQUssQ0FBQztRQUUxQixhQUFRLEdBQVcsR0FBRyxDQUFDO1FBQ3ZCLGVBQVUsR0FBRyxHQUFnQixFQUFFO1lBQ3ZDLE1BQU0sV0FBVyxHQUFHLElBQUkscUJBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDL0MsV0FBVyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1lBQ3RDLE9BQU8sV0FBVyxDQUFDO1FBQ3JCLENBQUMsQ0FBQztRQUVpQixVQUFLLEdBQXVCLENBQzdDLFFBQXlCLEVBQ3pCLEVBQUU7WUFDRiwwQkFBZ0IsQ0FBQyxvQkFBb0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNoRCxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDZCxDQUFDLENBQUM7UUFFTyxTQUFJLEdBQUcsR0FBRyxFQUFFO1lBQ25CLE1BQU0sU0FBUyxHQUFHLElBQUksaUJBQU8sQ0FBQztnQkFDNUIsSUFBSSxFQUFFLG1CQUFRLENBQUMsS0FBSztnQkFDcEIsV0FBVyxFQUFFLHFEQUFxRDtnQkFDbEUsUUFBUSxFQUFFLEtBQUs7Z0JBQ2YsUUFBUSxFQUFFLElBQUk7Z0JBQ2QsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNO2dCQUNuQixNQUFNLEVBQUUsQ0FBQyxXQUFxQixFQUFFLEVBQUU7b0JBQ2hDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO29CQUNoRCxJQUFJLFVBQVUsR0FBRyxDQUFDLENBQUM7b0JBRW5CLElBQUksTUFBTSxFQUFFO3dCQUNWLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7cUJBQzVEO29CQUVELFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztvQkFFeEUsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7Z0JBQ3pCLENBQUM7YUFDRixDQUFDLENBQUM7WUFFSCxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUVqQyxNQUFNLFdBQVcsR0FBRyxJQUFJLHFCQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQy9DLE9BQU8sV0FBVyxDQUFDO1FBQ3JCLENBQUMsQ0FBQztRQUVGLGFBQVEsR0FBVyxFQUFFLENBQUM7UUFDdEIsU0FBSSxHQUFlLHVCQUFVLENBQUMsS0FBSyxDQUFDO1FBS2xDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBRXRCLElBQUksQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxlQUFlLEdBQUcsR0FBRyxDQUFDO0lBQzdCLENBQUM7Q0FDRjtBQXpERCwyQkF5REMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFscy1wbGVhc2UvLi90cy9IZWFscy9SZW5ldy50cz9lYjNlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFjdGlvbk5hbWUgfSBmcm9tIFwidHMvQWN0aW9uTmFtZVwiO1xyXG5pbXBvcnQgQW5pbWF0aW9uSGVscGVycyBmcm9tIFwidHMvQW5pbWF0aW9uSGVscGVyc1wiO1xyXG5pbXBvcnQgeyBCdWZmTmFtZSB9IGZyb20gXCJ0cy9CdWZmTmFtZVwiO1xyXG5pbXBvcnQgRnJpZW5kbHkgZnJvbSBcInRzL0ZyaWVuZGx5XCI7XHJcbmltcG9ydCBIZWFsIGZyb20gXCJ0cy9IZWFsXCI7XHJcbmltcG9ydCBIZWFsT3V0Y29tZSBmcm9tIFwidHMvSGVhbE91dGNvbWVcIjtcclxuaW1wb3J0IHsgSGVhbFBhcmFtcyB9IGZyb20gXCJ0cy9IZWFsUGFyYW1zXCI7XHJcbmltcG9ydCBIb3RCdWZmIGZyb20gXCJ0cy9Ib3RCdWZmXCI7XHJcbmltcG9ydCB7IFZlbG9jaXR5Q2FsbGJhY2tGbiwgVmVsb2NpdHlSZXN1bHQgfSBmcm9tIFwidmVsb2NpdHktYW5pbWF0ZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVuZXcgZXh0ZW5kcyBIZWFsIHtcclxuICBwcml2YXRlIF9jcml0Q2hhbmNlOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBfY3JpdE11bHRpcGxpZXI6IG51bWJlcjtcclxuICBwcml2YXRlIF9oYXNUaWNrZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgcHJvdGVjdGVkIGNhc3RUaW1lOiBudW1iZXIgPSAyNTA7XHJcbiAgcHJvdGVjdGVkIGdldE91dGNvbWUgPSAoKTogSGVhbE91dGNvbWUgPT4ge1xyXG4gICAgY29uc3QgaGVhbE91dGNvbWUgPSBuZXcgSGVhbE91dGNvbWUodGhpcy5uYW1lKTtcclxuICAgIGhlYWxPdXRjb21lLm1hbmFTcGVudCA9IHRoaXMubWFuYUNvc3Q7XHJcbiAgICByZXR1cm4gaGVhbE91dGNvbWU7XHJcbiAgfTtcclxuXHJcbiAgcHJvdGVjdGVkIG92ZXJyaWRlIGJlZ2luOiBWZWxvY2l0eUNhbGxiYWNrRm4gPSAoXHJcbiAgICBlbGVtZW50cz86IFZlbG9jaXR5UmVzdWx0XHJcbiAgKSA9PiB7XHJcbiAgICBBbmltYXRpb25IZWxwZXJzLnJlbW92ZVN0eWxlQXR0cmlidXRlKGVsZW1lbnRzKTtcclxuICAgIHRoaXMuY2FzdCgpO1xyXG4gIH07XHJcblxyXG4gIG92ZXJyaWRlIGNhc3QgPSAoKSA9PiB7XHJcbiAgICBjb25zdCByZW5ld0J1ZmYgPSBuZXcgSG90QnVmZih7XHJcbiAgICAgIG5hbWU6IEJ1ZmZOYW1lLlJlbmV3LFxyXG4gICAgICBkZXNjcmlwdGlvbjogXCJUaGUgdGFyZ2V0IGZlZWxzIHJlbmV3ZWQsIGdhaW5pbmcgaGVhbHRoIG92ZXIgdGltZS5cIixcclxuICAgICAgZHVyYXRpb246IDEwMDAwLFxyXG4gICAgICBpbnRlcnZhbDogMjAwMCxcclxuICAgICAgdGFyZ2V0OiB0aGlzLnRhcmdldCxcclxuICAgICAgZWZmZWN0OiAocmVuZXdUYXJnZXQ6IEZyaWVuZGx5KSA9PiB7XHJcbiAgICAgICAgY29uc3QgaXNDcml0ID0gTWF0aC5yYW5kb20oKSA8IHRoaXMuX2NyaXRDaGFuY2U7XHJcbiAgICAgICAgbGV0IGhlYWxBbW91bnQgPSA4O1xyXG5cclxuICAgICAgICBpZiAoaXNDcml0KSB7XHJcbiAgICAgICAgICBoZWFsQW1vdW50ID0gTWF0aC5yb3VuZChoZWFsQW1vdW50ICogdGhpcy5fY3JpdE11bHRpcGxpZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVuZXdUYXJnZXQuaGVhbCh0aGlzLm5hbWUsIGhlYWxBbW91bnQsIGlzQ3JpdCwgdHJ1ZSwgIXRoaXMuX2hhc1RpY2tlZCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2hhc1RpY2tlZCA9IHRydWU7XHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnRhcmdldC5hcHBseUJ1ZmYocmVuZXdCdWZmKTtcclxuXHJcbiAgICBjb25zdCBoZWFsT3V0Y29tZSA9IG5ldyBIZWFsT3V0Y29tZSh0aGlzLm5hbWUpO1xyXG4gICAgcmV0dXJuIGhlYWxPdXRjb21lO1xyXG4gIH07XHJcblxyXG4gIG1hbmFDb3N0OiBudW1iZXIgPSA4MDtcclxuICBuYW1lOiBBY3Rpb25OYW1lID0gQWN0aW9uTmFtZS5SZW5ldztcclxuXHJcbiAgY29uc3RydWN0b3IodGFyZ2V0OiBGcmllbmRseSwgcGFyYW1zOiBIZWFsUGFyYW1zKSB7XHJcbiAgICBzdXBlcih0YXJnZXQsIHBhcmFtcyk7XHJcblxyXG4gICAgdGhpcy5pc0luc3RhbnQgPSB0cnVlO1xyXG5cclxuICAgIHRoaXMuX2NyaXRDaGFuY2UgPSAwLjE7XHJcbiAgICB0aGlzLl9jcml0TXVsdGlwbGllciA9IDEuNTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6038\n')},6205:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst ActionName_1 = __webpack_require__(8470);\r\nconst Heal_1 = __importDefault(__webpack_require__(8505));\r\nconst Random_1 = __importDefault(__webpack_require__(3640));\r\nclass SmallHeal extends Heal_1.default {\r\n    constructor(target, params) {\r\n        super(target, params);\r\n        this.castTime = 1000;\r\n        this.getOutcome = () => this.cast();\r\n        this.cast = () => {\r\n            const isCrit = Math.random() < this._critChance;\r\n            let healAmount = Random_1.default.fromIntegerIntervalInclusive(18, 24);\r\n            if (isCrit) {\r\n                healAmount = Math.round(healAmount * this._critMultiplier);\r\n            }\r\n            return this.target.heal(this.name, healAmount, isCrit);\r\n        };\r\n        this.manaCost = 40;\r\n        this.name = ActionName_1.ActionName.SmallHeal;\r\n        this._critChance = 0.1;\r\n        this._critMultiplier = 1.5;\r\n    }\r\n}\r\nexports["default"] = SmallHeal;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjIwNS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLCtDQUEyQztBQUUzQywwREFBMkI7QUFFM0IsNERBQStCO0FBRS9CLE1BQXFCLFNBQVUsU0FBUSxjQUFJO0lBcUJ6QyxZQUFZLE1BQWdCLEVBQUUsTUFBa0I7UUFDOUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQztRQWxCZCxhQUFRLEdBQVcsSUFBSSxDQUFDO1FBQ3hCLGVBQVUsR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFFaEMsU0FBSSxHQUFHLEdBQUcsRUFBRTtZQUNuQixNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztZQUNoRCxJQUFJLFVBQVUsR0FBRyxnQkFBTSxDQUFDLDRCQUE0QixDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztZQUU3RCxJQUFJLE1BQU0sRUFBRTtnQkFDVixVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO2FBQzVEO1lBRUQsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLFVBQVUsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUN6RCxDQUFDLENBQUM7UUFFRixhQUFRLEdBQVcsRUFBRSxDQUFDO1FBQ3RCLFNBQUksR0FBZSx1QkFBVSxDQUFDLFNBQVMsQ0FBQztRQUt0QyxJQUFJLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQztRQUN2QixJQUFJLENBQUMsZUFBZSxHQUFHLEdBQUcsQ0FBQztJQUM3QixDQUFDO0NBQ0Y7QUEzQkQsK0JBMkJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHMtcGxlYXNlLy4vdHMvSGVhbHMvU21hbGxIZWFsLnRzPzIyOWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWN0aW9uTmFtZSB9IGZyb20gXCJ0cy9BY3Rpb25OYW1lXCI7XHJcbmltcG9ydCBGcmllbmRseSBmcm9tIFwidHMvRnJpZW5kbHlcIjtcclxuaW1wb3J0IEhlYWwgZnJvbSBcInRzL0hlYWxcIjtcclxuaW1wb3J0IHsgSGVhbFBhcmFtcyB9IGZyb20gXCJ0cy9IZWFsUGFyYW1zXCI7XHJcbmltcG9ydCBSYW5kb20gZnJvbSBcInRzL1JhbmRvbVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU21hbGxIZWFsIGV4dGVuZHMgSGVhbCB7XHJcbiAgcHJpdmF0ZSBfY3JpdENoYW5jZTogbnVtYmVyO1xyXG4gIHByaXZhdGUgX2NyaXRNdWx0aXBsaWVyOiBudW1iZXI7XHJcblxyXG4gIHByb3RlY3RlZCBjYXN0VGltZTogbnVtYmVyID0gMTAwMDtcclxuICBwcm90ZWN0ZWQgZ2V0T3V0Y29tZSA9ICgpID0+IHRoaXMuY2FzdCgpO1xyXG5cclxuICBvdmVycmlkZSBjYXN0ID0gKCkgPT4ge1xyXG4gICAgY29uc3QgaXNDcml0ID0gTWF0aC5yYW5kb20oKSA8IHRoaXMuX2NyaXRDaGFuY2U7XHJcbiAgICBsZXQgaGVhbEFtb3VudCA9IFJhbmRvbS5mcm9tSW50ZWdlckludGVydmFsSW5jbHVzaXZlKDE4LCAyNCk7XHJcblxyXG4gICAgaWYgKGlzQ3JpdCkge1xyXG4gICAgICBoZWFsQW1vdW50ID0gTWF0aC5yb3VuZChoZWFsQW1vdW50ICogdGhpcy5fY3JpdE11bHRpcGxpZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLnRhcmdldC5oZWFsKHRoaXMubmFtZSwgaGVhbEFtb3VudCwgaXNDcml0KTtcclxuICB9O1xyXG5cclxuICBtYW5hQ29zdDogbnVtYmVyID0gNDA7XHJcbiAgbmFtZTogQWN0aW9uTmFtZSA9IEFjdGlvbk5hbWUuU21hbGxIZWFsO1xyXG5cclxuICBjb25zdHJ1Y3Rvcih0YXJnZXQ6IEZyaWVuZGx5LCBwYXJhbXM6IEhlYWxQYXJhbXMpIHtcclxuICAgIHN1cGVyKHRhcmdldCwgcGFyYW1zKTtcclxuXHJcbiAgICB0aGlzLl9jcml0Q2hhbmNlID0gMC4xO1xyXG4gICAgdGhpcy5fY3JpdE11bHRpcGxpZXIgPSAxLjU7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6205\n')},4225:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst Buff_1 = __importDefault(__webpack_require__(9347));\r\nconst Loop_1 = __importDefault(__webpack_require__(893));\r\nclass HotBuff extends Buff_1.default {\r\n    constructor(params) {\r\n        super(params);\r\n        this._tick = () => {\r\n            this._effect(this._target);\r\n            if (++this._tickCount === this._numTicks) {\r\n                this._loop.stop();\r\n                this._target.removeBuff(this.name);\r\n            }\r\n        };\r\n        this.pause = () => {\r\n            this._loop.pause();\r\n        };\r\n        this.resume = () => {\r\n            this._loop.resume();\r\n        };\r\n        this.start = (target) => {\r\n            this._target = target;\r\n            this._loop.start();\r\n        };\r\n        this.stop = () => {\r\n            this._loop.stop();\r\n        };\r\n        this._interval = params.interval || 2000;\r\n        this._tickCount = 0;\r\n        this._numTicks = Math.floor(this._duration / this._interval);\r\n        this._loop = new Loop_1.default(params.name, this._tick, this._interval);\r\n    }\r\n}\r\nexports["default"] = HotBuff;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDIyNS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLDBEQUEwQjtBQUcxQix5REFBMEI7QUFNMUIsTUFBcUIsT0FBUSxTQUFRLGNBQUk7SUErQnZDLFlBQVksTUFBcUI7UUFDL0IsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBM0JHLFVBQUssR0FBRyxHQUFHLEVBQUU7WUFDOUIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFFM0IsSUFBSSxFQUFFLElBQUksQ0FBQyxVQUFVLEtBQUssSUFBSSxDQUFDLFNBQVMsRUFBRTtnQkFDeEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFDbEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQ3BDO1FBQ0gsQ0FBQyxDQUFDO1FBRU8sVUFBSyxHQUFHLEdBQUcsRUFBRTtZQUNwQixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ3JCLENBQUMsQ0FBQztRQUVGLFdBQU0sR0FBRyxHQUFHLEVBQUU7WUFDWixJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ3RCLENBQUMsQ0FBQztRQUVGLFVBQUssR0FBRyxDQUFDLE1BQWdCLEVBQUUsRUFBRTtZQUMzQixJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztZQUN0QixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ3JCLENBQUMsQ0FBQztRQUVGLFNBQUksR0FBRyxHQUFHLEVBQUU7WUFDVixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ3BCLENBQUMsQ0FBQztRQUtBLElBQUksQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUM7UUFDekMsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUM7UUFDcEIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBRTdELElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxjQUFJLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNqRSxDQUFDO0NBQ0Y7QUF4Q0QsNkJBd0NDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHMtcGxlYXNlLy4vdHMvSG90QnVmZi50cz9mNjExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCdWZmIGZyb20gXCIuL0J1ZmZcIjtcclxuaW1wb3J0IHsgQnVmZlBhcmFtcyB9IGZyb20gXCIuL0J1ZmZQYXJhbXNcIjtcclxuaW1wb3J0IEZyaWVuZGx5IGZyb20gXCIuL0ZyaWVuZGx5XCI7XHJcbmltcG9ydCBMb29wIGZyb20gXCIuL0xvb3BcIjtcclxuXHJcbnR5cGUgSG90QnVmZlBhcmFtcyA9IEJ1ZmZQYXJhbXMgJiB7XHJcbiAgaW50ZXJ2YWw6IG51bWJlcjtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhvdEJ1ZmYgZXh0ZW5kcyBCdWZmIHtcclxuICBwcml2YXRlIF9pbnRlcnZhbDogbnVtYmVyO1xyXG4gIHByaXZhdGUgX251bVRpY2tzOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBfdGlja0NvdW50OiBudW1iZXI7XHJcblxyXG4gIHByb3RlY3RlZCBvdmVycmlkZSBfdGljayA9ICgpID0+IHtcclxuICAgIHRoaXMuX2VmZmVjdCh0aGlzLl90YXJnZXQpO1xyXG5cclxuICAgIGlmICgrK3RoaXMuX3RpY2tDb3VudCA9PT0gdGhpcy5fbnVtVGlja3MpIHtcclxuICAgICAgdGhpcy5fbG9vcC5zdG9wKCk7XHJcbiAgICAgIHRoaXMuX3RhcmdldC5yZW1vdmVCdWZmKHRoaXMubmFtZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgb3ZlcnJpZGUgcGF1c2UgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9sb29wLnBhdXNlKCk7XHJcbiAgfTtcclxuXHJcbiAgcmVzdW1lID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fbG9vcC5yZXN1bWUoKTtcclxuICB9O1xyXG5cclxuICBzdGFydCA9ICh0YXJnZXQ6IEZyaWVuZGx5KSA9PiB7XHJcbiAgICB0aGlzLl90YXJnZXQgPSB0YXJnZXQ7XHJcbiAgICB0aGlzLl9sb29wLnN0YXJ0KCk7XHJcbiAgfTtcclxuXHJcbiAgc3RvcCA9ICgpID0+IHtcclxuICAgIHRoaXMuX2xvb3Auc3RvcCgpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBhcmFtczogSG90QnVmZlBhcmFtcykge1xyXG4gICAgc3VwZXIocGFyYW1zKTtcclxuXHJcbiAgICB0aGlzLl9pbnRlcnZhbCA9IHBhcmFtcy5pbnRlcnZhbCB8fCAyMDAwO1xyXG4gICAgdGhpcy5fdGlja0NvdW50ID0gMDtcclxuICAgIHRoaXMuX251bVRpY2tzID0gTWF0aC5mbG9vcih0aGlzLl9kdXJhdGlvbiAvIHRoaXMuX2ludGVydmFsKTtcclxuXHJcbiAgICB0aGlzLl9sb29wID0gbmV3IExvb3AocGFyYW1zLm5hbWUsIHRoaXMuX3RpY2ssIHRoaXMuX2ludGVydmFsKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4225\n')},3607:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.getDebuffIcon = exports.getBuffIcon = void 0;\r\nconst BuffName_1 = __webpack_require__(8176);\r\nconst DebuffName_1 = __webpack_require__(8017);\r\nfunction getBuffIcon(buffName) {\r\n    switch (buffName) {\r\n        case BuffName_1.BuffName.Renew:\r\n            return "";\r\n    }\r\n}\r\nexports.getBuffIcon = getBuffIcon;\r\nfunction getDebuffIcon(debuffName) {\r\n    switch (debuffName) {\r\n        case DebuffName_1.DebuffName.FoodPoisoning:\r\n            return "";\r\n        case DebuffName_1.DebuffName.Confusion:\r\n            return "";\r\n        case DebuffName_1.DebuffName.Uncertainty:\r\n            return "";\r\n        case DebuffName_1.DebuffName.Bleed:\r\n            return "";\r\n        case DebuffName_1.DebuffName.Silence:\r\n            return "";\r\n    }\r\n}\r\nexports.getDebuffIcon = getDebuffIcon;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzYwNy5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBQSw2Q0FBc0M7QUFDdEMsK0NBQTBDO0FBRTFDLFNBQWdCLFdBQVcsQ0FBQyxRQUFrQjtJQUM1QyxRQUFRLFFBQVEsRUFBRTtRQUNoQixLQUFLLG1CQUFRLENBQUMsS0FBSztZQUNqQixPQUFPLElBQUksQ0FBQztLQUNmO0FBQ0gsQ0FBQztBQUxELGtDQUtDO0FBRUQsU0FBZ0IsYUFBYSxDQUFDLFVBQXNCO0lBQ2xELFFBQVEsVUFBVSxFQUFFO1FBQ2xCLEtBQUssdUJBQVUsQ0FBQyxhQUFhO1lBQzNCLE9BQU8sSUFBSSxDQUFDO1FBQ2QsS0FBSyx1QkFBVSxDQUFDLFNBQVM7WUFDdkIsT0FBTyxJQUFJLENBQUM7UUFDZCxLQUFLLHVCQUFVLENBQUMsV0FBVztZQUN6QixPQUFPLE9BQU8sQ0FBQztRQUNqQixLQUFLLHVCQUFVLENBQUMsS0FBSztZQUNuQixPQUFPLElBQUksQ0FBQztRQUNkLEtBQUssdUJBQVUsQ0FBQyxPQUFPO1lBQ3JCLE9BQU8sSUFBSSxDQUFDO0tBQ2Y7QUFDSCxDQUFDO0FBYkQsc0NBYUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFscy1wbGVhc2UvLi90cy9JY29ucy50cz8zYTM5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJ1ZmZOYW1lIH0gZnJvbSBcIi4vQnVmZk5hbWVcIjtcclxuaW1wb3J0IHsgRGVidWZmTmFtZSB9IGZyb20gXCIuL0RlYnVmZk5hbWVcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRCdWZmSWNvbihidWZmTmFtZTogQnVmZk5hbWUpOiBzdHJpbmcge1xyXG4gIHN3aXRjaCAoYnVmZk5hbWUpIHtcclxuICAgIGNhc2UgQnVmZk5hbWUuUmVuZXc6XHJcbiAgICAgIHJldHVybiBcIvCfjL9cIjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXREZWJ1ZmZJY29uKGRlYnVmZk5hbWU6IERlYnVmZk5hbWUpOiBzdHJpbmcge1xyXG4gIHN3aXRjaCAoZGVidWZmTmFtZSkge1xyXG4gICAgY2FzZSBEZWJ1ZmZOYW1lLkZvb2RQb2lzb25pbmc6XHJcbiAgICAgIHJldHVybiBcIvCfpKJcIjtcclxuICAgIGNhc2UgRGVidWZmTmFtZS5Db25mdXNpb246XHJcbiAgICAgIHJldHVybiBcIvCfmJVcIjtcclxuICAgIGNhc2UgRGVidWZmTmFtZS5VbmNlcnRhaW50eTpcclxuICAgICAgcmV0dXJuIFwi8J+YteKAjfCfkqtcIjtcclxuICAgIGNhc2UgRGVidWZmTmFtZS5CbGVlZDpcclxuICAgICAgcmV0dXJuIFwi8J+puFwiO1xyXG4gICAgY2FzZSBEZWJ1ZmZOYW1lLlNpbGVuY2U6XHJcbiAgICAgIHJldHVybiBcIvCfpKtcIjtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3607\n')},521:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, "default", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o["default"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst ko = __importStar(__webpack_require__(9687));\r\nconst velocity_animate_1 = __importDefault(__webpack_require__(8581));\r\nfunction applyExtensions() {\r\n    ko.bindingHandlers.animate = {\r\n        update: (element, valueAccessor) => {\r\n            const currentCast = valueAccessor();\r\n            if (!currentCast) {\r\n                return;\r\n            }\r\n            ko.utils.arrayForEach([].concat(currentCast.animation), (animationStep) => {\r\n                animationStep.options.easing = "linear";\r\n                (0, velocity_animate_1.default)(element, animationStep.properties, animationStep.options);\r\n            });\r\n        },\r\n    };\r\n    ko.bindingHandlers.animateAction = {\r\n        update: (element, valueAccessor, allBindings, viewModel, bindingContext) => {\r\n            const action = ko.unwrap(valueAccessor());\r\n            if (!action) {\r\n                return;\r\n            }\r\n            if (!ko.bindingHandlers.animate.update) {\r\n                return;\r\n            }\r\n            ko.bindingHandlers.animate.update(element, () => {\r\n                return { animation: { properties: action, options: {} } };\r\n            }, allBindings, viewModel, bindingContext);\r\n        },\r\n    };\r\n}\r\nexports["default"] = applyExtensions;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTIxLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG1EQUErQjtBQUMvQixzRUFJMEI7QUFHMUIsU0FBd0IsZUFBZTtJQUNyQyxFQUFFLENBQUMsZUFBZSxDQUFDLE9BQU8sR0FBRztRQUMzQixNQUFNLEVBQUUsQ0FBQyxPQUF5QixFQUFFLGFBQXdCLEVBQUUsRUFBRTtZQUM5RCxNQUFNLFdBQVcsR0FBRyxhQUFhLEVBQUUsQ0FBQztZQUVwQyxJQUFJLENBQUMsV0FBVyxFQUFFO2dCQUNoQixPQUFPO2FBQ1I7WUFFRCxFQUFFLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FDbkIsRUFBRSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLEVBQ2hDLENBQUMsYUFBd0IsRUFBRSxFQUFFO2dCQUMzQixhQUFhLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxRQUFRLENBQUM7Z0JBQ3hDLDhCQUFRLEVBQUMsT0FBTyxFQUFFLGFBQWEsQ0FBQyxVQUFVLEVBQUUsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3JFLENBQUMsQ0FDRixDQUFDO1FBQ0osQ0FBQztLQUNGLENBQUM7SUFFRixFQUFFLENBQUMsZUFBZSxDQUFDLGFBQWEsR0FBRztRQUNqQyxNQUFNLEVBQUUsQ0FDTixPQUF5QixFQUN6QixhQUF3QixFQUN4QixXQUEyQixFQUMzQixTQUFjLEVBQ2QsY0FBc0MsRUFDdEMsRUFBRTtZQUNGLE1BQU0sTUFBTSxHQUFpQyxFQUFFLENBQUMsTUFBTSxDQUFDLGFBQWEsRUFBRSxDQUFDLENBQUM7WUFFeEUsSUFBSSxDQUFDLE1BQU0sRUFBRTtnQkFDWCxPQUFPO2FBQ1I7WUFFRCxJQUFJLENBQUMsRUFBRSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFO2dCQUN0QyxPQUFPO2FBQ1I7WUFFRCxFQUFFLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQy9CLE9BQU8sRUFDUCxHQUFxQixFQUFFO2dCQUNyQixPQUFPLEVBQUUsU0FBUyxFQUFFLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztZQUM1RCxDQUFDLEVBQ0QsV0FBVyxFQUNYLFNBQVMsRUFDVCxjQUFjLENBQ2YsQ0FBQztRQUNKLENBQUM7S0FDRixDQUFDO0FBQ0osQ0FBQztBQWhERCxxQ0FnREMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFscy1wbGVhc2UvLi90cy9Lbm9ja291dEV4dGVuc2lvbnMudHM/MzdhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBrbyBmcm9tIFwia25vY2tvdXRcIjtcclxuaW1wb3J0IFZlbG9jaXR5LCB7XHJcbiAgUHJvcGVydGllcyxcclxuICBWZWxvY2l0eUVsZW1lbnRzLFxyXG4gIFZlbG9jaXR5UHJvcGVydHksXHJcbn0gZnJvbSBcInZlbG9jaXR5LWFuaW1hdGVcIjtcclxuaW1wb3J0IHsgQW5pbWF0aW9uLCBBbmltYXRpb25XcmFwcGVyIH0gZnJvbSBcIi4vQW5pbWF0aW9uXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhcHBseUV4dGVuc2lvbnMoKSB7XHJcbiAga28uYmluZGluZ0hhbmRsZXJzLmFuaW1hdGUgPSB7XHJcbiAgICB1cGRhdGU6IChlbGVtZW50OiBWZWxvY2l0eUVsZW1lbnRzLCB2YWx1ZUFjY2Vzc29yOiAoKSA9PiBhbnkpID0+IHtcclxuICAgICAgY29uc3QgY3VycmVudENhc3QgPSB2YWx1ZUFjY2Vzc29yKCk7XHJcblxyXG4gICAgICBpZiAoIWN1cnJlbnRDYXN0KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBrby51dGlscy5hcnJheUZvckVhY2goXHJcbiAgICAgICAgW10uY29uY2F0KGN1cnJlbnRDYXN0LmFuaW1hdGlvbiksXHJcbiAgICAgICAgKGFuaW1hdGlvblN0ZXA6IEFuaW1hdGlvbikgPT4ge1xyXG4gICAgICAgICAgYW5pbWF0aW9uU3RlcC5vcHRpb25zLmVhc2luZyA9IFwibGluZWFyXCI7XHJcbiAgICAgICAgICBWZWxvY2l0eShlbGVtZW50LCBhbmltYXRpb25TdGVwLnByb3BlcnRpZXMsIGFuaW1hdGlvblN0ZXAub3B0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgfSxcclxuICB9O1xyXG5cclxuICBrby5iaW5kaW5nSGFuZGxlcnMuYW5pbWF0ZUFjdGlvbiA9IHtcclxuICAgIHVwZGF0ZTogKFxyXG4gICAgICBlbGVtZW50OiBWZWxvY2l0eUVsZW1lbnRzLFxyXG4gICAgICB2YWx1ZUFjY2Vzc29yOiAoKSA9PiBhbnksXHJcbiAgICAgIGFsbEJpbmRpbmdzOiBrby5BbGxCaW5kaW5ncyxcclxuICAgICAgdmlld01vZGVsOiBhbnksXHJcbiAgICAgIGJpbmRpbmdDb250ZXh0OiBrby5CaW5kaW5nQ29udGV4dDxhbnk+XHJcbiAgICApID0+IHtcclxuICAgICAgY29uc3QgYWN0aW9uOiBQcm9wZXJ0aWVzPFZlbG9jaXR5UHJvcGVydHk+ID0ga28udW53cmFwKHZhbHVlQWNjZXNzb3IoKSk7XHJcblxyXG4gICAgICBpZiAoIWFjdGlvbikge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFrby5iaW5kaW5nSGFuZGxlcnMuYW5pbWF0ZS51cGRhdGUpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGtvLmJpbmRpbmdIYW5kbGVycy5hbmltYXRlLnVwZGF0ZShcclxuICAgICAgICBlbGVtZW50LFxyXG4gICAgICAgICgpOiBBbmltYXRpb25XcmFwcGVyID0+IHtcclxuICAgICAgICAgIHJldHVybiB7IGFuaW1hdGlvbjogeyBwcm9wZXJ0aWVzOiBhY3Rpb24sIG9wdGlvbnM6IHt9IH0gfTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFsbEJpbmRpbmdzLFxyXG4gICAgICAgIHZpZXdNb2RlbCxcclxuICAgICAgICBiaW5kaW5nQ29udGV4dFxyXG4gICAgICApO1xyXG4gICAgfSxcclxuICB9O1xyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///521\n')},893:(__unused_webpack_module,exports)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nvar LoopState;\r\n(function (LoopState) {\r\n    LoopState[LoopState["Stopped"] = 0] = "Stopped";\r\n    LoopState[LoopState["Paused"] = 1] = "Paused";\r\n    LoopState[LoopState["Running"] = 2] = "Running";\r\n})(LoopState || (LoopState = {}));\r\nclass Loop {\r\n    constructor(name, callback, delay, startDelay = 0) {\r\n        this._loop = (delayOverride) => {\r\n            this._runLoopIteration(delayOverride);\r\n        };\r\n        this._runLoopIteration = (delayOverride) => {\r\n            this._timerStart = new Date().getTime();\r\n            this._timerRemaining =\r\n                delayOverride ||\r\n                    (typeof this._delay === "function" ? this._delay() : this._delay);\r\n            this._timerId = setTimeout(() => {\r\n                if (this._state === LoopState.Running) {\r\n                    this._callback();\r\n                }\r\n                // The callback could have paused/stopped the loop.\r\n                if (this._state === LoopState.Running) {\r\n                    this._runLoopIteration();\r\n                }\r\n            }, this._timerRemaining);\r\n        };\r\n        this._state = LoopState.Stopped;\r\n        this._timerId = -1;\r\n        this._timerRemaining = -1;\r\n        this._timerStart = -1;\r\n        this.pause = () => {\r\n            if (this._state !== LoopState.Running) {\r\n                return;\r\n            }\r\n            this._timerRemaining -= new Date().getTime() - this._timerStart;\r\n            clearTimeout(this._timerStart);\r\n            this._timerStart = -1;\r\n            this._state = LoopState.Paused;\r\n        };\r\n        this.resume = () => {\r\n            if (this._state !== LoopState.Paused) {\r\n                return;\r\n            }\r\n            this._state = LoopState.Running;\r\n            this._loop(this._timerRemaining);\r\n        };\r\n        this.restart = () => {\r\n            this.stop();\r\n            this.start(LoopState.Paused);\r\n        };\r\n        this.start = (initialState = LoopState.Running) => {\r\n            this._state = initialState;\r\n            if (this._startDelay) {\r\n                setTimeout(this._loop, this._startDelay);\r\n            }\r\n            else {\r\n                this._loop();\r\n            }\r\n        };\r\n        this.stop = () => {\r\n            this._timerStart = -1;\r\n            this._timerRemaining = -1;\r\n            clearTimeout(this._timerId);\r\n            this._timerId = -1;\r\n            this._state = LoopState.Stopped;\r\n        };\r\n        this.name = name;\r\n        this._callback = callback;\r\n        this._delay = delay;\r\n        this._startDelay = startDelay;\r\n    }\r\n}\r\nexports["default"] = Loop;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQyxDQUFDO2FBQzFDO2lCQUFNO2dCQUNMLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQzthQUNkO1FBQ0gsQ0FBQyxDQUFDO1FBRUYsU0FBSSxHQUFHLEdBQUcsRUFBRTtZQUNWLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDdEIsSUFBSSxDQUFDLGVBQWUsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUUxQixZQUFZLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQzVCLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDbkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUMsT0FBTyxDQUFDO1FBQ2xDLENBQUMsQ0FBQztRQVFBLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDO1FBQzFCLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ3BCLElBQUksQ0FBQyxXQUFXLEdBQUcsVUFBVSxDQUFDO0lBQ2hDLENBQUM7Q0FDRjtBQXhGRCwwQkF3RkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFscy1wbGVhc2UvLi90cy9Mb29wLnRzP2Y0OTgiXSwic291cmNlc0NvbnRlbnQiOlsiZW51bSBMb29wU3RhdGUge1xyXG4gIFN0b3BwZWQgPSAwLFxyXG4gIFBhdXNlZCA9IDEsXHJcbiAgUnVubmluZyA9IDIsXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvb3Age1xyXG4gIHByaXZhdGUgX2NhbGxiYWNrOiAoKSA9PiB2b2lkO1xyXG4gIHByaXZhdGUgX2RlbGF5OiAoKCkgPT4gbnVtYmVyKSB8IG51bWJlcjtcclxuICBwcml2YXRlIF9sb29wID0gKGRlbGF5T3ZlcnJpZGU/OiBudW1iZXIpID0+IHtcclxuICAgIHRoaXMuX3J1bkxvb3BJdGVyYXRpb24oZGVsYXlPdmVycmlkZSk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBfcnVuTG9vcEl0ZXJhdGlvbiA9IChkZWxheU92ZXJyaWRlPzogbnVtYmVyKSA9PiB7XHJcbiAgICB0aGlzLl90aW1lclN0YXJ0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICB0aGlzLl90aW1lclJlbWFpbmluZyA9XHJcbiAgICAgIGRlbGF5T3ZlcnJpZGUgfHxcclxuICAgICAgKHR5cGVvZiB0aGlzLl9kZWxheSA9PT0gXCJmdW5jdGlvblwiID8gdGhpcy5fZGVsYXkoKSA6IHRoaXMuX2RlbGF5KTtcclxuXHJcbiAgICB0aGlzLl90aW1lcklkID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gTG9vcFN0YXRlLlJ1bm5pbmcpIHtcclxuICAgICAgICB0aGlzLl9jYWxsYmFjaygpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBUaGUgY2FsbGJhY2sgY291bGQgaGF2ZSBwYXVzZWQvc3RvcHBlZCB0aGUgbG9vcC5cclxuICAgICAgaWYgKHRoaXMuX3N0YXRlID09PSBMb29wU3RhdGUuUnVubmluZykge1xyXG4gICAgICAgIHRoaXMuX3J1bkxvb3BJdGVyYXRpb24oKTtcclxuICAgICAgfVxyXG4gICAgfSwgdGhpcy5fdGltZXJSZW1haW5pbmcpO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX3N0YXJ0RGVsYXk6IG51bWJlcjtcclxuICBwcml2YXRlIF9zdGF0ZTogTG9vcFN0YXRlID0gTG9vcFN0YXRlLlN0b3BwZWQ7XHJcbiAgcHJpdmF0ZSBfdGltZXJJZDogbnVtYmVyID0gLTE7XHJcbiAgcHJpdmF0ZSBfdGltZXJSZW1haW5pbmc6IG51bWJlciA9IC0xO1xyXG4gIHByaXZhdGUgX3RpbWVyU3RhcnQ6IG51bWJlciA9IC0xO1xyXG5cclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgcGF1c2UgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5fc3RhdGUgIT09IExvb3BTdGF0ZS5SdW5uaW5nKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl90aW1lclJlbWFpbmluZyAtPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHRoaXMuX3RpbWVyU3RhcnQ7XHJcblxyXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyU3RhcnQpO1xyXG4gICAgdGhpcy5fdGltZXJTdGFydCA9IC0xO1xyXG4gICAgdGhpcy5fc3RhdGUgPSBMb29wU3RhdGUuUGF1c2VkO1xyXG4gIH07XHJcblxyXG4gIHJlc3VtZSA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLl9zdGF0ZSAhPT0gTG9vcFN0YXRlLlBhdXNlZCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fc3RhdGUgPSBMb29wU3RhdGUuUnVubmluZztcclxuICAgIHRoaXMuX2xvb3AodGhpcy5fdGltZXJSZW1haW5pbmcpO1xyXG4gIH07XHJcblxyXG4gIHJlc3RhcnQgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnN0b3AoKTtcclxuICAgIHRoaXMuc3RhcnQoTG9vcFN0YXRlLlBhdXNlZCk7XHJcbiAgfTtcclxuXHJcbiAgc3RhcnQgPSAoaW5pdGlhbFN0YXRlOiBMb29wU3RhdGUgPSBMb29wU3RhdGUuUnVubmluZykgPT4ge1xyXG4gICAgdGhpcy5fc3RhdGUgPSBpbml0aWFsU3RhdGU7XHJcblxyXG4gICAgaWYgKHRoaXMuX3N0YXJ0RGVsYXkpIHtcclxuICAgICAgc2V0VGltZW91dCh0aGlzLl9sb29wLCB0aGlzLl9zdGFydERlbGF5KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2xvb3AoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBzdG9wID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fdGltZXJTdGFydCA9IC0xO1xyXG4gICAgdGhpcy5fdGltZXJSZW1haW5pbmcgPSAtMTtcclxuXHJcbiAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXJJZCk7XHJcbiAgICB0aGlzLl90aW1lcklkID0gLTE7XHJcbiAgICB0aGlzLl9zdGF0ZSA9IExvb3BTdGF0ZS5TdG9wcGVkO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgbmFtZTogc3RyaW5nLFxyXG4gICAgY2FsbGJhY2s6ICgpID0+IHZvaWQsXHJcbiAgICBkZWxheTogKCgpID0+IG51bWJlcikgfCBudW1iZXIsXHJcbiAgICBzdGFydERlbGF5OiBudW1iZXIgPSAwXHJcbiAgKSB7XHJcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgIHRoaXMuX2RlbGF5ID0gZGVsYXk7XHJcbiAgICB0aGlzLl9zdGFydERlbGF5ID0gc3RhcnREZWxheTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///893\n')},7657:(__unused_webpack_module,exports)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nclass Loops {\r\n    constructor(...loops) {\r\n        this._loops = new Map();\r\n        this.get = (loopName) => {\r\n            const loop = this._loops.get(loopName);\r\n            if (!loop) {\r\n                throw `Cannot find loop named ${loopName}`;\r\n            }\r\n            return loop;\r\n        };\r\n        this.pause = () => {\r\n            this._loops.forEach((loop) => {\r\n                loop.pause();\r\n            });\r\n        };\r\n        this.resume = () => {\r\n            this._loops.forEach((loop) => {\r\n                loop.resume();\r\n            });\r\n        };\r\n        this.start = () => {\r\n            this._loops.forEach((loop) => {\r\n                loop.start();\r\n            });\r\n        };\r\n        this.stop = () => {\r\n            this._loops.forEach((loop) => {\r\n                loop.stop();\r\n            });\r\n        };\r\n        for (let loop of loops) {\r\n            this._loops.set(loop.name, loop);\r\n        }\r\n    }\r\n}\r\nexports["default"] = Loops;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzY1Ny5qcyIsIm1hcHBpbmdzIjoiOztBQUVBLE1BQXFCLEtBQUs7SUFvQ3hCLFlBQVksR0FBRyxLQUFhO1FBbkNwQixXQUFNLEdBQXNCLElBQUksR0FBRyxFQUFFLENBQUM7UUFFOUMsUUFBRyxHQUFHLENBQUMsUUFBZ0IsRUFBUSxFQUFFO1lBQy9CLE1BQU0sSUFBSSxHQUFxQixJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUN6RCxJQUFJLENBQUMsSUFBSSxFQUFFO2dCQUNULE1BQU0sMEJBQTBCLFFBQVEsRUFBRSxDQUFDO2FBQzVDO1lBRUQsT0FBTyxJQUFJLENBQUM7UUFDZCxDQUFDLENBQUM7UUFFRixVQUFLLEdBQUcsR0FBRyxFQUFFO1lBQ1gsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFVLEVBQUUsRUFBRTtnQkFDakMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQ2YsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUM7UUFFRixXQUFNLEdBQUcsR0FBRyxFQUFFO1lBQ1osSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFVLEVBQUUsRUFBRTtnQkFDakMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2hCLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDO1FBRUYsVUFBSyxHQUFHLEdBQUcsRUFBRTtZQUNYLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBVSxFQUFFLEVBQUU7Z0JBQ2pDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNmLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDO1FBRUYsU0FBSSxHQUFHLEdBQUcsRUFBRTtZQUNWLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBVSxFQUFFLEVBQUU7Z0JBQ2pDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNkLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDO1FBR0EsS0FBSyxJQUFJLElBQUksSUFBSSxLQUFLLEVBQUU7WUFDdEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztTQUNsQztJQUNILENBQUM7Q0FDRjtBQXpDRCwyQkF5Q0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFscy1wbGVhc2UvLi90cy9Mb29wcy50cz84ZjBkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMb29wIGZyb20gXCIuL0xvb3BcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvb3BzIHtcclxuICBwcml2YXRlIF9sb29wczogTWFwPHN0cmluZywgTG9vcD4gPSBuZXcgTWFwKCk7XHJcblxyXG4gIGdldCA9IChsb29wTmFtZTogc3RyaW5nKTogTG9vcCA9PiB7XHJcbiAgICBjb25zdCBsb29wOiBMb29wIHwgdW5kZWZpbmVkID0gdGhpcy5fbG9vcHMuZ2V0KGxvb3BOYW1lKTtcclxuICAgIGlmICghbG9vcCkge1xyXG4gICAgICB0aHJvdyBgQ2Fubm90IGZpbmQgbG9vcCBuYW1lZCAke2xvb3BOYW1lfWA7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGxvb3A7XHJcbiAgfTtcclxuXHJcbiAgcGF1c2UgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9sb29wcy5mb3JFYWNoKChsb29wOiBMb29wKSA9PiB7XHJcbiAgICAgIGxvb3AucGF1c2UoKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHJlc3VtZSA9ICgpID0+IHtcclxuICAgIHRoaXMuX2xvb3BzLmZvckVhY2goKGxvb3A6IExvb3ApID0+IHtcclxuICAgICAgbG9vcC5yZXN1bWUoKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHN0YXJ0ID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fbG9vcHMuZm9yRWFjaCgobG9vcDogTG9vcCkgPT4ge1xyXG4gICAgICBsb29wLnN0YXJ0KCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBzdG9wID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fbG9vcHMuZm9yRWFjaCgobG9vcDogTG9vcCkgPT4ge1xyXG4gICAgICBsb29wLnN0b3AoKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0cnVjdG9yKC4uLmxvb3BzOiBMb29wW10pIHtcclxuICAgIGZvciAobGV0IGxvb3Agb2YgbG9vcHMpIHtcclxuICAgICAgdGhpcy5fbG9vcHMuc2V0KGxvb3AubmFtZSwgbG9vcCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7657\n')},3836:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst Player_1 = __importDefault(__webpack_require__(698));\r\nconst Random_1 = __importDefault(__webpack_require__(3640));\r\nclass Party {\r\n    constructor(members) {\r\n        this.getLivingMembers = () => {\r\n            return this.members.filter((member) => {\r\n                return !member.isDead();\r\n            });\r\n        };\r\n        this.getMemberByIndex = (index) => {\r\n            if (!this.members[index]) {\r\n                throw `Could not get member at index ${index}`;\r\n            }\r\n            return this.members[index];\r\n        };\r\n        this.getOneRandomNpc = () => this.getRandomMembers(1)[0];\r\n        this.getRandomMembers = (amount, allowPlayer, allowDead) => {\r\n            if (amount === 0) {\r\n                return [];\r\n            }\r\n            const clone = allowDead && allowPlayer\r\n                ? Object.assign([], this.members)\r\n                : this.members.filter((member) => {\r\n                    let allowed = true;\r\n                    if (!allowPlayer) {\r\n                        allowed = !(member instanceof Player_1.default);\r\n                    }\r\n                    if (allowed && !allowDead) {\r\n                        allowed = !member.isDead();\r\n                    }\r\n                    return allowed;\r\n                });\r\n            if (amount >= clone.length) {\r\n                return clone;\r\n            }\r\n            const chooseMembersToRemove = amount > clone.length - amount;\r\n            amount = Math.min(amount, clone.length - amount);\r\n            const randomMembers = [];\r\n            for (let i = 0; i < amount; i++) {\r\n                const index = Random_1.default.nonNegativeIntegerUpToNonInclusive(clone.length);\r\n                randomMembers.push(clone.splice(index, 1)[0]);\r\n            }\r\n            return chooseMembersToRemove ? clone : randomMembers;\r\n        };\r\n        this.isWiped = () => this.members.every((member) => member.isDead());\r\n        this.pause = () => {\r\n            this.members.forEach((member) => {\r\n                member.pause();\r\n            });\r\n        };\r\n        this.reset = () => {\r\n            this.members.forEach((member) => {\r\n                member.reset();\r\n            });\r\n        };\r\n        this.resume = () => {\r\n            this.members.forEach((member) => {\r\n                member.resume();\r\n            });\r\n        };\r\n        this.start = () => {\r\n            this.members.forEach((member) => {\r\n                member.start();\r\n            });\r\n        };\r\n        this.stop = () => {\r\n            this.members.forEach((member) => {\r\n                member.stop();\r\n            });\r\n        };\r\n        this.members = members;\r\n    }\r\n}\r\nexports["default"] = Party;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzgzNi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUNBLDJEQUE4QjtBQUM5Qiw0REFBOEI7QUFFOUIsTUFBcUIsS0FBSztJQTRGeEIsWUFBWSxPQUFtQjtRQTNGL0IscUJBQWdCLEdBQUcsR0FBZSxFQUFFO1lBQ2xDLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFnQixFQUFFLEVBQUU7Z0JBQzlDLE9BQU8sQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7WUFDMUIsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUM7UUFFRixxQkFBZ0IsR0FBRyxDQUFDLEtBQWEsRUFBWSxFQUFFO1lBQzdDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO2dCQUN4QixNQUFNLGlDQUFpQyxLQUFLLEVBQUUsQ0FBQzthQUNoRDtZQUVELE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM3QixDQUFDLENBQUM7UUFFRixvQkFBZSxHQUFHLEdBQWEsRUFBRSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUU5RCxxQkFBZ0IsR0FBRyxDQUNqQixNQUFjLEVBQ2QsV0FBcUIsRUFDckIsU0FBbUIsRUFDUCxFQUFFO1lBQ2QsSUFBSSxNQUFNLEtBQUssQ0FBQyxFQUFFO2dCQUNoQixPQUFPLEVBQUUsQ0FBQzthQUNYO1lBRUQsTUFBTSxLQUFLLEdBQ1QsU0FBUyxJQUFJLFdBQVc7Z0JBQ3RCLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDO2dCQUNqQyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFnQixFQUFFLEVBQUU7b0JBQ3ZDLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQztvQkFFbkIsSUFBSSxDQUFDLFdBQVcsRUFBRTt3QkFDaEIsT0FBTyxHQUFHLENBQUMsQ0FBQyxNQUFNLFlBQVksZ0JBQU0sQ0FBQyxDQUFDO3FCQUN2QztvQkFFRCxJQUFJLE9BQU8sSUFBSSxDQUFDLFNBQVMsRUFBRTt3QkFDekIsT0FBTyxHQUFHLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO3FCQUM1QjtvQkFFRCxPQUFPLE9BQU8sQ0FBQztnQkFDakIsQ0FBQyxDQUFDLENBQUM7WUFFVCxJQUFJLE1BQU0sSUFBSSxLQUFLLENBQUMsTUFBTSxFQUFFO2dCQUMxQixPQUFPLEtBQUssQ0FBQzthQUNkO1lBRUQsTUFBTSxxQkFBcUIsR0FBRyxNQUFNLEdBQUcsS0FBSyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7WUFDN0QsTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLENBQUM7WUFFakQsTUFBTSxhQUFhLEdBQUcsRUFBRSxDQUFDO1lBQ3pCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQy9CLE1BQU0sS0FBSyxHQUFHLGdCQUFNLENBQUMsa0NBQWtDLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUN0RSxhQUFhLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDL0M7WUFFRCxPQUFPLHFCQUFxQixDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQztRQUN2RCxDQUFDLENBQUM7UUFFRixZQUFPLEdBQUcsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFnQixFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztRQUcxRSxVQUFLLEdBQUcsR0FBRyxFQUFFO1lBQ1gsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFnQixFQUFFLEVBQUU7Z0JBQ3hDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNqQixDQUFDLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQztRQUVGLFVBQUssR0FBRyxHQUFHLEVBQUU7WUFDWCxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQWdCLEVBQUUsRUFBRTtnQkFDeEMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQ2pCLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDO1FBRUYsV0FBTSxHQUFHLEdBQUcsRUFBRTtZQUNaLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBZ0IsRUFBRSxFQUFFO2dCQUN4QyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7WUFDbEIsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUM7UUFFRixVQUFLLEdBQUcsR0FBRyxFQUFFO1lBQ1gsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFnQixFQUFFLEVBQUU7Z0JBQ3hDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNqQixDQUFDLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQztRQUVGLFNBQUksR0FBRyxHQUFHLEVBQUU7WUFDVixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQWdCLEVBQUUsRUFBRTtnQkFDeEMsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ2hCLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDO1FBR0EsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7SUFDekIsQ0FBQztDQUNGO0FBL0ZELDJCQStGQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWxzLXBsZWFzZS8uL3RzL1BhcnR5LnRzP2QxNDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEZyaWVuZGx5IGZyb20gXCIuL0ZyaWVuZGx5XCI7XHJcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4vUGxheWVyXCI7XHJcbmltcG9ydCBSYW5kb20gZnJvbSBcIi4vUmFuZG9tXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXJ0eSB7XHJcbiAgZ2V0TGl2aW5nTWVtYmVycyA9ICgpOiBGcmllbmRseVtdID0+IHtcclxuICAgIHJldHVybiB0aGlzLm1lbWJlcnMuZmlsdGVyKChtZW1iZXI6IEZyaWVuZGx5KSA9PiB7XHJcbiAgICAgIHJldHVybiAhbWVtYmVyLmlzRGVhZCgpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgZ2V0TWVtYmVyQnlJbmRleCA9IChpbmRleDogbnVtYmVyKTogRnJpZW5kbHkgPT4ge1xyXG4gICAgaWYgKCF0aGlzLm1lbWJlcnNbaW5kZXhdKSB7XHJcbiAgICAgIHRocm93IGBDb3VsZCBub3QgZ2V0IG1lbWJlciBhdCBpbmRleCAke2luZGV4fWA7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMubWVtYmVyc1tpbmRleF07XHJcbiAgfTtcclxuXHJcbiAgZ2V0T25lUmFuZG9tTnBjID0gKCk6IEZyaWVuZGx5ID0+IHRoaXMuZ2V0UmFuZG9tTWVtYmVycygxKVswXTtcclxuXHJcbiAgZ2V0UmFuZG9tTWVtYmVycyA9IChcclxuICAgIGFtb3VudDogbnVtYmVyLFxyXG4gICAgYWxsb3dQbGF5ZXI/OiBib29sZWFuLFxyXG4gICAgYWxsb3dEZWFkPzogYm9vbGVhblxyXG4gICk6IEZyaWVuZGx5W10gPT4ge1xyXG4gICAgaWYgKGFtb3VudCA9PT0gMCkge1xyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY2xvbmUgPVxyXG4gICAgICBhbGxvd0RlYWQgJiYgYWxsb3dQbGF5ZXJcclxuICAgICAgICA/IE9iamVjdC5hc3NpZ24oW10sIHRoaXMubWVtYmVycylcclxuICAgICAgICA6IHRoaXMubWVtYmVycy5maWx0ZXIoKG1lbWJlcjogRnJpZW5kbHkpID0+IHtcclxuICAgICAgICAgICAgbGV0IGFsbG93ZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFhbGxvd1BsYXllcikge1xyXG4gICAgICAgICAgICAgIGFsbG93ZWQgPSAhKG1lbWJlciBpbnN0YW5jZW9mIFBsYXllcik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChhbGxvd2VkICYmICFhbGxvd0RlYWQpIHtcclxuICAgICAgICAgICAgICBhbGxvd2VkID0gIW1lbWJlci5pc0RlYWQoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGFsbG93ZWQ7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICBpZiAoYW1vdW50ID49IGNsb25lLmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gY2xvbmU7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY2hvb3NlTWVtYmVyc1RvUmVtb3ZlID0gYW1vdW50ID4gY2xvbmUubGVuZ3RoIC0gYW1vdW50O1xyXG4gICAgYW1vdW50ID0gTWF0aC5taW4oYW1vdW50LCBjbG9uZS5sZW5ndGggLSBhbW91bnQpO1xyXG5cclxuICAgIGNvbnN0IHJhbmRvbU1lbWJlcnMgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW1vdW50OyBpKyspIHtcclxuICAgICAgY29uc3QgaW5kZXggPSBSYW5kb20ubm9uTmVnYXRpdmVJbnRlZ2VyVXBUb05vbkluY2x1c2l2ZShjbG9uZS5sZW5ndGgpO1xyXG4gICAgICByYW5kb21NZW1iZXJzLnB1c2goY2xvbmUuc3BsaWNlKGluZGV4LCAxKVswXSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNob29zZU1lbWJlcnNUb1JlbW92ZSA/IGNsb25lIDogcmFuZG9tTWVtYmVycztcclxuICB9O1xyXG5cclxuICBpc1dpcGVkID0gKCkgPT4gdGhpcy5tZW1iZXJzLmV2ZXJ5KChtZW1iZXI6IEZyaWVuZGx5KSA9PiBtZW1iZXIuaXNEZWFkKCkpO1xyXG5cclxuICBtZW1iZXJzOiBGcmllbmRseVtdO1xyXG4gIHBhdXNlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5tZW1iZXJzLmZvckVhY2goKG1lbWJlcjogRnJpZW5kbHkpID0+IHtcclxuICAgICAgbWVtYmVyLnBhdXNlKCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICByZXNldCA9ICgpID0+IHtcclxuICAgIHRoaXMubWVtYmVycy5mb3JFYWNoKChtZW1iZXI6IEZyaWVuZGx5KSA9PiB7XHJcbiAgICAgIG1lbWJlci5yZXNldCgpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgcmVzdW1lID0gKCkgPT4ge1xyXG4gICAgdGhpcy5tZW1iZXJzLmZvckVhY2goKG1lbWJlcjogRnJpZW5kbHkpID0+IHtcclxuICAgICAgbWVtYmVyLnJlc3VtZSgpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgc3RhcnQgPSAoKSA9PiB7XHJcbiAgICB0aGlzLm1lbWJlcnMuZm9yRWFjaCgobWVtYmVyOiBGcmllbmRseSkgPT4ge1xyXG4gICAgICBtZW1iZXIuc3RhcnQoKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHN0b3AgPSAoKSA9PiB7XHJcbiAgICB0aGlzLm1lbWJlcnMuZm9yRWFjaCgobWVtYmVyOiBGcmllbmRseSkgPT4ge1xyXG4gICAgICBtZW1iZXIuc3RvcCgpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3RydWN0b3IobWVtYmVyczogRnJpZW5kbHlbXSkge1xyXG4gICAgdGhpcy5tZW1iZXJzID0gbWVtYmVycztcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3836\n')},698:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, "default", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o["default"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst ko = __importStar(__webpack_require__(9687));\r\nconst ActionObservable_1 = __importDefault(__webpack_require__(6491));\r\nconst AnimationHelpers_1 = __importDefault(__webpack_require__(5926));\r\nconst Animations_1 = __importDefault(__webpack_require__(9454));\r\nconst DebuffType_1 = __webpack_require__(1660);\r\nconst Friendly_1 = __importDefault(__webpack_require__(2472));\r\nclass Player extends Friendly_1.default {\r\n    constructor(params, mana, actions) {\r\n        super("Player", params);\r\n        this._adjustMana = (amount) => {\r\n            const currentMana = this.mana();\r\n            const newMana = currentMana + amount;\r\n            if (newMana >= this.maxMana()) {\r\n                this.mana(this.maxMana());\r\n            }\r\n            else if (newMana <= 0) {\r\n                this.mana(0);\r\n            }\r\n            else {\r\n                this.mana(newMana);\r\n            }\r\n        };\r\n        this._cast = (heal) => {\r\n            if (this._isSilenced()) {\r\n                return;\r\n            }\r\n            if (heal.isInstant) {\r\n                this.spendMana(heal.manaCost);\r\n            }\r\n            this.currentCast.action("finish");\r\n            this.currentCast.value(heal);\r\n        };\r\n        this._regenMana = () => {\r\n            const increase = Math.round(this.maxMana() * 0.05);\r\n            this._adjustMana(increase);\r\n            this.regenManaNotifier(true);\r\n        };\r\n        this._queuedAction = null;\r\n        this._onDeath = () => {\r\n            this.stop();\r\n            this.buffs.removeAll();\r\n            this.debuffs.removeAll();\r\n            this.isDead(true);\r\n            this.target(undefined);\r\n        };\r\n        this.cancelCast = () => {\r\n            this._queuedAction = null;\r\n            this.currentCast.action("stop");\r\n            this.currentCast.value(null);\r\n        };\r\n        this.cast = (heal) => {\r\n            if (this._isSilenced()) {\r\n                return;\r\n            }\r\n            const currentCast = this.currentCast.value();\r\n            if (currentCast) {\r\n                if (!currentCast.isInstant && currentCast.castProgress > 0.5) {\r\n                    // If an action is cast while already casting, queue up the action.\r\n                    // It will cast immediately after the current cast completes.\r\n                    this._queuedAction = heal;\r\n                }\r\n                return;\r\n            }\r\n            this._cast(heal);\r\n        };\r\n        this.castQueuedHeal = () => {\r\n            if (this._queuedAction) {\r\n                this._cast(this._queuedAction);\r\n                this._queuedAction = null;\r\n            }\r\n            else {\r\n                this.currentCast.value(null);\r\n            }\r\n        };\r\n        this.critChance = ko.pureComputed(() => 0.1);\r\n        this.currentCast = new ActionObservable_1.default();\r\n        this.getActionByIndex = (index) => {\r\n            return index >= 0 && this.actions().length > index\r\n                ? this.actions()[index]\r\n                : null;\r\n        };\r\n        this.hasFullMana = ko.pureComputed(() => this.mana() >= this.maxMana());\r\n        this.manaPercentageString = ko.pureComputed(() => `${(100.0 * this.mana()) / this.maxMana()}%`);\r\n        this.manaStatusString = ko.pureComputed(() => `${this.mana()} / ${this.maxMana()}`);\r\n        this.regenManaNotifier = ko\r\n            .observable(true)\r\n            .extend({ notify: "always" });\r\n        this.restoreManaToMax = () => {\r\n            this.mana(this.maxMana());\r\n        };\r\n        this.setTarget = (target) => {\r\n            if (!this.isDead()) {\r\n                this.target(target);\r\n            }\r\n        };\r\n        this.spendMana = (amount) => {\r\n            this._adjustMana(0 - amount);\r\n        };\r\n        this.mana = ko.observable(mana);\r\n        this.maxMana = ko.observable(mana);\r\n        this.actions = ko.observableArray(actions);\r\n        this.target = ko.observable();\r\n    }\r\n    _isSilenced() {\r\n        return this.getDebuffsByType(DebuffType_1.DebuffType.Silence).length > 0;\r\n    }\r\n    get regenManaAnimation() {\r\n        const wrapper = { ...Animations_1.default.fullWidth5000 };\r\n        wrapper.animation.options.begin = () => this.regenManaNotifier(true);\r\n        wrapper.animation.options.complete = (elements) => {\r\n            AnimationHelpers_1.default.removeStyleAttribute(elements);\r\n            this._regenMana();\r\n        };\r\n        return wrapper;\r\n    }\r\n}\r\nexports["default"] = Player;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztJQUM5RCxDQUFDO0lBNEVELElBQUksa0JBQWtCO1FBQ3BCLE1BQU0sT0FBTyxHQUFHLEVBQUUsR0FBRyxvQkFBVSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ2hELE9BQU8sQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLEtBQUssR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckUsT0FBTyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsUUFBUSxHQUFHLENBQ25DLFFBQXNELEVBQ3RELEVBQUU7WUFDRiwwQkFBZ0IsQ0FBQyxvQkFBb0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNoRCxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDcEIsQ0FBQyxDQUFDO1FBQ0YsT0FBTyxPQUFPLENBQUM7SUFDakIsQ0FBQztDQXlCRjtBQTVJRCw0QkE0SUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFscy1wbGVhc2UvLi90cy9QbGF5ZXIudHM/ODUwMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBrbyBmcm9tIFwia25vY2tvdXRcIjtcclxuaW1wb3J0IHsgSFRNTG9yU1ZHRWxlbWVudCwgVmVsb2NpdHlSZXN1bHQgfSBmcm9tIFwidmVsb2NpdHktYW5pbWF0ZVwiO1xyXG5pbXBvcnQgeyBBY3Rpb25OYW1lIH0gZnJvbSBcIi4vQWN0aW9uTmFtZVwiO1xyXG5pbXBvcnQgQWN0aW9uT2JzZXJ2YWJsZSBmcm9tIFwiLi9BY3Rpb25PYnNlcnZhYmxlXCI7XHJcbmltcG9ydCB7IEFuaW1hdGlvbldyYXBwZXIgfSBmcm9tIFwiLi9BbmltYXRpb25cIjtcclxuaW1wb3J0IEFuaW1hdGlvbkhlbHBlcnMgZnJvbSBcIi4vQW5pbWF0aW9uSGVscGVyc1wiO1xyXG5pbXBvcnQgQW5pbWF0aW9ucyBmcm9tIFwiLi9BbmltYXRpb25zXCI7XHJcbmltcG9ydCB7IERlYnVmZlR5cGUgfSBmcm9tIFwiLi9EZWJ1ZmZUeXBlXCI7XHJcbmltcG9ydCBGcmllbmRseSBmcm9tIFwiLi9GcmllbmRseVwiO1xyXG5pbXBvcnQgeyBGcmllbmRseVBhcmFtcyB9IGZyb20gXCIuL0ZyaWVuZGx5UGFyYW1zXCI7XHJcbmltcG9ydCBIZWFsIGZyb20gXCIuL0hlYWxcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllciBleHRlbmRzIEZyaWVuZGx5IHtcclxuICBwcml2YXRlIF9hZGp1c3RNYW5hID0gKGFtb3VudDogbnVtYmVyKSA9PiB7XHJcbiAgICBjb25zdCBjdXJyZW50TWFuYSA9IHRoaXMubWFuYSgpO1xyXG4gICAgY29uc3QgbmV3TWFuYSA9IGN1cnJlbnRNYW5hICsgYW1vdW50O1xyXG5cclxuICAgIGlmIChuZXdNYW5hID49IHRoaXMubWF4TWFuYSgpKSB7XHJcbiAgICAgIHRoaXMubWFuYSh0aGlzLm1heE1hbmEoKSk7XHJcbiAgICB9IGVsc2UgaWYgKG5ld01hbmEgPD0gMCkge1xyXG4gICAgICB0aGlzLm1hbmEoMCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm1hbmEobmV3TWFuYSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBfY2FzdCA9IChoZWFsOiBIZWFsKSA9PiB7XHJcbiAgICBpZiAodGhpcy5faXNTaWxlbmNlZCgpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaGVhbC5pc0luc3RhbnQpIHtcclxuICAgICAgdGhpcy5zcGVuZE1hbmEoaGVhbC5tYW5hQ29zdCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jdXJyZW50Q2FzdC5hY3Rpb24oXCJmaW5pc2hcIik7XHJcbiAgICB0aGlzLmN1cnJlbnRDYXN0LnZhbHVlKGhlYWwpO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX2lzU2lsZW5jZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5nZXREZWJ1ZmZzQnlUeXBlKERlYnVmZlR5cGUuU2lsZW5jZSkubGVuZ3RoID4gMDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX3JlZ2VuTWFuYSA9ICgpID0+IHtcclxuICAgIGNvbnN0IGluY3JlYXNlID0gTWF0aC5yb3VuZCh0aGlzLm1heE1hbmEoKSAqIDAuMDUpO1xyXG4gICAgdGhpcy5fYWRqdXN0TWFuYShpbmNyZWFzZSk7XHJcbiAgICB0aGlzLnJlZ2VuTWFuYU5vdGlmaWVyKHRydWUpO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX3F1ZXVlZEFjdGlvbjogSGVhbCB8IG51bGwgPSBudWxsO1xyXG5cclxuICBwcm90ZWN0ZWQgb3ZlcnJpZGUgX29uRGVhdGggPSAoKSA9PiB7XHJcbiAgICB0aGlzLnN0b3AoKTtcclxuICAgIHRoaXMuYnVmZnMucmVtb3ZlQWxsKCk7XHJcbiAgICB0aGlzLmRlYnVmZnMucmVtb3ZlQWxsKCk7XHJcbiAgICB0aGlzLmlzRGVhZCh0cnVlKTtcclxuICAgIHRoaXMudGFyZ2V0KHVuZGVmaW5lZCk7XHJcbiAgfTtcclxuXHJcbiAgYWN0aW9uczoga28uT2JzZXJ2YWJsZUFycmF5PEFjdGlvbk5hbWU+O1xyXG4gIGNhbmNlbENhc3QgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9xdWV1ZWRBY3Rpb24gPSBudWxsO1xyXG4gICAgdGhpcy5jdXJyZW50Q2FzdC5hY3Rpb24oXCJzdG9wXCIpO1xyXG4gICAgdGhpcy5jdXJyZW50Q2FzdC52YWx1ZShudWxsKTtcclxuICB9O1xyXG5cclxuICBjYXN0ID0gKGhlYWw6IEhlYWwpID0+IHtcclxuICAgIGlmICh0aGlzLl9pc1NpbGVuY2VkKCkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGN1cnJlbnRDYXN0ID0gdGhpcy5jdXJyZW50Q2FzdC52YWx1ZSgpO1xyXG4gICAgaWYgKGN1cnJlbnRDYXN0KSB7XHJcbiAgICAgIGlmICghY3VycmVudENhc3QuaXNJbnN0YW50ICYmIGN1cnJlbnRDYXN0LmNhc3RQcm9ncmVzcyA+IDAuNSkge1xyXG4gICAgICAgIC8vIElmIGFuIGFjdGlvbiBpcyBjYXN0IHdoaWxlIGFscmVhZHkgY2FzdGluZywgcXVldWUgdXAgdGhlIGFjdGlvbi5cclxuICAgICAgICAvLyBJdCB3aWxsIGNhc3QgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGN1cnJlbnQgY2FzdCBjb21wbGV0ZXMuXHJcbiAgICAgICAgdGhpcy5fcXVldWVkQWN0aW9uID0gaGVhbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2Nhc3QoaGVhbCk7XHJcbiAgfTtcclxuXHJcbiAgY2FzdFF1ZXVlZEhlYWwgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5fcXVldWVkQWN0aW9uKSB7XHJcbiAgICAgIHRoaXMuX2Nhc3QodGhpcy5fcXVldWVkQWN0aW9uKTtcclxuICAgICAgdGhpcy5fcXVldWVkQWN0aW9uID0gbnVsbDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY3VycmVudENhc3QudmFsdWUobnVsbCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY3JpdENoYW5jZSA9IGtvLnB1cmVDb21wdXRlZCgoKSA9PiAwLjEpO1xyXG4gIGN1cnJlbnRDYXN0OiBBY3Rpb25PYnNlcnZhYmxlPEhlYWw+ID0gbmV3IEFjdGlvbk9ic2VydmFibGU8SGVhbD4oKTtcclxuICBnZXRBY3Rpb25CeUluZGV4ID0gKGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgIHJldHVybiBpbmRleCA+PSAwICYmIHRoaXMuYWN0aW9ucygpLmxlbmd0aCA+IGluZGV4XHJcbiAgICAgID8gdGhpcy5hY3Rpb25zKClbaW5kZXhdXHJcbiAgICAgIDogbnVsbDtcclxuICB9O1xyXG5cclxuICBoYXNGdWxsTWFuYToga28uUHVyZUNvbXB1dGVkPGJvb2xlYW4+ID0ga28ucHVyZUNvbXB1dGVkKFxyXG4gICAgKCkgPT4gdGhpcy5tYW5hKCkgPj0gdGhpcy5tYXhNYW5hKClcclxuICApO1xyXG4gIG1hbmE6IGtvLk9ic2VydmFibGU8bnVtYmVyPjtcclxuICBtYW5hUGVyY2VudGFnZVN0cmluZyA9IGtvLnB1cmVDb21wdXRlZChcclxuICAgICgpID0+IGAkeygxMDAuMCAqIHRoaXMubWFuYSgpKSAvIHRoaXMubWF4TWFuYSgpfSVgXHJcbiAgKTtcclxuICBtYW5hU3RhdHVzU3RyaW5nID0ga28ucHVyZUNvbXB1dGVkKFxyXG4gICAgKCkgPT4gYCR7dGhpcy5tYW5hKCl9IC8gJHt0aGlzLm1heE1hbmEoKX1gXHJcbiAgKTtcclxuICBtYXhNYW5hOiBrby5PYnNlcnZhYmxlPG51bWJlcj47XHJcbiAgcmVnZW5NYW5hTm90aWZpZXI6IGtvLk9ic2VydmFibGU8Ym9vbGVhbj4gPSBrb1xyXG4gICAgLm9ic2VydmFibGUodHJ1ZSlcclxuICAgIC5leHRlbmQoeyBub3RpZnk6IFwiYWx3YXlzXCIgfSk7XHJcblxyXG4gIGdldCByZWdlbk1hbmFBbmltYXRpb24oKTogQW5pbWF0aW9uV3JhcHBlciB7XHJcbiAgICBjb25zdCB3cmFwcGVyID0geyAuLi5BbmltYXRpb25zLmZ1bGxXaWR0aDUwMDAgfTtcclxuICAgIHdyYXBwZXIuYW5pbWF0aW9uLm9wdGlvbnMuYmVnaW4gPSAoKSA9PiB0aGlzLnJlZ2VuTWFuYU5vdGlmaWVyKHRydWUpO1xyXG4gICAgd3JhcHBlci5hbmltYXRpb24ub3B0aW9ucy5jb21wbGV0ZSA9IChcclxuICAgICAgZWxlbWVudHM6IFZlbG9jaXR5UmVzdWx0PEhUTUxvclNWR0VsZW1lbnQ+IHwgdW5kZWZpbmVkXHJcbiAgICApID0+IHtcclxuICAgICAgQW5pbWF0aW9uSGVscGVycy5yZW1vdmVTdHlsZUF0dHJpYnV0ZShlbGVtZW50cyk7XHJcbiAgICAgIHRoaXMuX3JlZ2VuTWFuYSgpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiB3cmFwcGVyO1xyXG4gIH1cclxuICByZXN0b3JlTWFuYVRvTWF4ID0gKCkgPT4ge1xyXG4gICAgdGhpcy5tYW5hKHRoaXMubWF4TWFuYSgpKTtcclxuICB9O1xyXG5cclxuICBzZXRUYXJnZXQgPSAodGFyZ2V0OiBGcmllbmRseSB8IHVuZGVmaW5lZCkgPT4ge1xyXG4gICAgaWYgKCF0aGlzLmlzRGVhZCgpKSB7XHJcbiAgICAgIHRoaXMudGFyZ2V0KHRhcmdldCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgc3BlbmRNYW5hID0gKGFtb3VudDogbnVtYmVyKSA9PiB7XHJcbiAgICB0aGlzLl9hZGp1c3RNYW5hKDAgLSBhbW91bnQpO1xyXG4gIH07XHJcblxyXG4gIHRhcmdldDoga28uT2JzZXJ2YWJsZTxGcmllbmRseSB8IHVuZGVmaW5lZD47XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBhcmFtczogRnJpZW5kbHlQYXJhbXMsIG1hbmE6IG51bWJlciwgYWN0aW9uczogQWN0aW9uTmFtZVtdKSB7XHJcbiAgICBzdXBlcihcIlBsYXllclwiLCBwYXJhbXMpO1xyXG5cclxuICAgIHRoaXMubWFuYSA9IGtvLm9ic2VydmFibGUobWFuYSk7XHJcbiAgICB0aGlzLm1heE1hbmEgPSBrby5vYnNlcnZhYmxlKG1hbmEpO1xyXG4gICAgdGhpcy5hY3Rpb25zID0ga28ub2JzZXJ2YWJsZUFycmF5PEFjdGlvbk5hbWU+KGFjdGlvbnMpO1xyXG4gICAgdGhpcy50YXJnZXQgPSBrby5vYnNlcnZhYmxlKCk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///698\n')},3779:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, "default", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o["default"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst ko = __importStar(__webpack_require__(9687));\r\nclass PreviousValueTracker {\r\n    constructor(initialValue) {\r\n        this.value = ko.observable(initialValue || null);\r\n        this.previous = ko.observable(initialValue || null);\r\n        this.value.subscribe((newValue) => {\r\n            if (newValue !== null) {\r\n                this.previous(newValue);\r\n            }\r\n        });\r\n    }\r\n}\r\nexports["default"] = PreviousValueTracker;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzc3OS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxtREFBK0I7QUFFL0IsTUFBcUIsb0JBQW9CO0lBSXZDLFlBQVksWUFBZ0I7UUFDMUIsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUMsVUFBVSxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsQ0FBQztRQUNqRCxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQyxVQUFVLENBQUMsWUFBWSxJQUFJLElBQUksQ0FBQyxDQUFDO1FBRXBELElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsUUFBa0IsRUFBRSxFQUFFO1lBQzFDLElBQUksUUFBUSxLQUFLLElBQUksRUFBRTtnQkFDckIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQzthQUN6QjtRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztDQUNGO0FBZEQsMENBY0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFscy1wbGVhc2UvLi90cy9QcmV2aW91c1ZhbHVlVHJhY2tlci50cz84NWI1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGtvIGZyb20gXCJrbm9ja291dFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJldmlvdXNWYWx1ZVRyYWNrZXI8VD4ge1xyXG4gIHByZXZpb3VzOiBrby5PYnNlcnZhYmxlPFQgfCBudWxsPjtcclxuICB2YWx1ZToga28uT2JzZXJ2YWJsZTxUIHwgbnVsbD47XHJcblxyXG4gIGNvbnN0cnVjdG9yKGluaXRpYWxWYWx1ZT86IFQpIHtcclxuICAgIHRoaXMudmFsdWUgPSBrby5vYnNlcnZhYmxlKGluaXRpYWxWYWx1ZSB8fCBudWxsKTtcclxuICAgIHRoaXMucHJldmlvdXMgPSBrby5vYnNlcnZhYmxlKGluaXRpYWxWYWx1ZSB8fCBudWxsKTtcclxuXHJcbiAgICB0aGlzLnZhbHVlLnN1YnNjcmliZSgobmV3VmFsdWU6IFQgfCBudWxsKSA9PiB7XHJcbiAgICAgIGlmIChuZXdWYWx1ZSAhPT0gbnVsbCkge1xyXG4gICAgICAgIHRoaXMucHJldmlvdXMobmV3VmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3779\n')},3640:(__unused_webpack_module,exports)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nclass Random {\r\n    constructor() {\r\n        this.fromFloatInterval = (min, max) => {\r\n            return (max - min) * Math.random() + min;\r\n        };\r\n        this.fromIntegerIntervalInclusive = (min, max) => {\r\n            return Math.round(Math.random() * (max - min + 1) + min);\r\n        };\r\n        this.nonNegativeIntegerUpToNonInclusive = (max) => {\r\n            return Math.floor(Math.random() * max);\r\n        };\r\n    }\r\n}\r\nexports["default"] = new Random();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzY0MC5qcyIsIm1hcHBpbmdzIjoiOztBQUFBLE1BQU0sTUFBTTtJQUFaO1FBQ0Usc0JBQWlCLEdBQUcsQ0FBQyxHQUFXLEVBQUUsR0FBVyxFQUFVLEVBQUU7WUFDdkQsT0FBTyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsR0FBRyxDQUFDO1FBQzNDLENBQUMsQ0FBQztRQUVGLGlDQUE0QixHQUFHLENBQUMsR0FBVyxFQUFFLEdBQVcsRUFBVSxFQUFFO1lBQ2xFLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQzNELENBQUMsQ0FBQztRQUVGLHVDQUFrQyxHQUFHLENBQUMsR0FBVyxFQUFVLEVBQUU7WUFDM0QsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxHQUFHLENBQUMsQ0FBQztRQUN6QyxDQUFDLENBQUM7SUFDSixDQUFDO0NBQUE7QUFFRCxxQkFBZSxJQUFJLE1BQU0sRUFBRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHMtcGxlYXNlLy4vdHMvUmFuZG9tLnRzPzcwOGQiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgUmFuZG9tIHtcclxuICBmcm9tRmxvYXRJbnRlcnZhbCA9IChtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgcmV0dXJuIChtYXggLSBtaW4pICogTWF0aC5yYW5kb20oKSArIG1pbjtcclxuICB9O1xyXG5cclxuICBmcm9tSW50ZWdlckludGVydmFsSW5jbHVzaXZlID0gKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciA9PiB7XHJcbiAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpICsgbWluKTtcclxuICB9O1xyXG5cclxuICBub25OZWdhdGl2ZUludGVnZXJVcFRvTm9uSW5jbHVzaXZlID0gKG1heDogbnVtYmVyKTogbnVtYmVyID0+IHtcclxuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtYXgpO1xyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBSYW5kb20oKTtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3640\n')},1666:(__unused_webpack_module,exports)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nclass Reward {\r\n    constructor(healName, bossName) {\r\n        this.healName = healName;\r\n        this.bossName = bossName;\r\n    }\r\n}\r\nexports["default"] = Reward;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTY2Ni5qcyIsIm1hcHBpbmdzIjoiOztBQUdBLE1BQXFCLE1BQU07SUFJekIsWUFBWSxRQUFvQixFQUFFLFFBQWtCO1FBQ2xELElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0lBQzNCLENBQUM7Q0FDRjtBQVJELDRCQVFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHMtcGxlYXNlLy4vdHMvUmV3YXJkLnRzP2UzNmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWN0aW9uTmFtZSB9IGZyb20gXCIuL0FjdGlvbk5hbWVcIjtcclxuaW1wb3J0IHsgQm9zc05hbWUgfSBmcm9tIFwiLi9Cb3NzZXMvQm9zc05hbWVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJld2FyZCB7XHJcbiAgaGVhbE5hbWU6IEFjdGlvbk5hbWU7XHJcbiAgYm9zc05hbWU6IEJvc3NOYW1lO1xyXG5cclxuICBjb25zdHJ1Y3RvcihoZWFsTmFtZTogQWN0aW9uTmFtZSwgYm9zc05hbWU6IEJvc3NOYW1lKSB7XHJcbiAgICB0aGlzLmhlYWxOYW1lID0gaGVhbE5hbWU7XHJcbiAgICB0aGlzLmJvc3NOYW1lID0gYm9zc05hbWU7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1666\n')},9225:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst ActionName_1 = __webpack_require__(8470);\r\nconst BossName_1 = __webpack_require__(1327);\r\nconst Reward_1 = __importDefault(__webpack_require__(1666));\r\nclass Rewards {\r\n    constructor() {\r\n        this.get = (bossName) => {\r\n            switch (bossName) {\r\n                case BossName_1.BossName.GordoRamzee:\r\n                    return new Reward_1.default(ActionName_1.ActionName.Renew, BossName_1.BossName.DonnyFrump);\r\n                case BossName_1.BossName.DonnyFrump:\r\n                    return new Reward_1.default(ActionName_1.ActionName.MediumHeal, BossName_1.BossName.ElongTusk);\r\n            }\r\n            return null;\r\n        };\r\n    }\r\n}\r\nexports["default"] = new Rewards();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTIyNS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLCtDQUEwQztBQUMxQyw2Q0FBNkM7QUFDN0MsNERBQThCO0FBRTlCLE1BQU0sT0FBTztJQUFiO1FBQ0UsUUFBRyxHQUFHLENBQUMsUUFBa0IsRUFBaUIsRUFBRTtZQUMxQyxRQUFRLFFBQVEsRUFBRTtnQkFDaEIsS0FBSyxtQkFBUSxDQUFDLFdBQVc7b0JBQ3ZCLE9BQU8sSUFBSSxnQkFBTSxDQUFDLHVCQUFVLENBQUMsS0FBSyxFQUFFLG1CQUFRLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQzNELEtBQUssbUJBQVEsQ0FBQyxVQUFVO29CQUN0QixPQUFPLElBQUksZ0JBQU0sQ0FBQyx1QkFBVSxDQUFDLFVBQVUsRUFBRSxtQkFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO2FBQ2hFO1lBQ0QsT0FBTyxJQUFJLENBQUM7UUFDZCxDQUFDLENBQUM7SUFDSixDQUFDO0NBQUE7QUFFRCxxQkFBZSxJQUFJLE9BQU8sRUFBRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhbHMtcGxlYXNlLy4vdHMvUmV3YXJkcy50cz85OTViIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFjdGlvbk5hbWUgfSBmcm9tIFwiLi9BY3Rpb25OYW1lXCI7XHJcbmltcG9ydCB7IEJvc3NOYW1lIH0gZnJvbSBcIi4vQm9zc2VzL0Jvc3NOYW1lXCI7XHJcbmltcG9ydCBSZXdhcmQgZnJvbSBcIi4vUmV3YXJkXCI7XHJcblxyXG5jbGFzcyBSZXdhcmRzIHtcclxuICBnZXQgPSAoYm9zc05hbWU6IEJvc3NOYW1lKTogUmV3YXJkIHwgbnVsbCA9PiB7XHJcbiAgICBzd2l0Y2ggKGJvc3NOYW1lKSB7XHJcbiAgICAgIGNhc2UgQm9zc05hbWUuR29yZG9SYW16ZWU6XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSZXdhcmQoQWN0aW9uTmFtZS5SZW5ldywgQm9zc05hbWUuRG9ubnlGcnVtcCk7XHJcbiAgICAgIGNhc2UgQm9zc05hbWUuRG9ubnlGcnVtcDpcclxuICAgICAgICByZXR1cm4gbmV3IFJld2FyZChBY3Rpb25OYW1lLk1lZGl1bUhlYWwsIEJvc3NOYW1lLkVsb25nVHVzayk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgUmV3YXJkcygpO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9225\n')},8062:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, "default", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o["default"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst ko = __importStar(__webpack_require__(9687));\r\nconst ActionName_1 = __webpack_require__(8470);\r\nconst HealStat_1 = __importDefault(__webpack_require__(6926));\r\nclass Stats {\r\n    constructor() {\r\n        const initialStat = new HealStat_1.default(ActionName_1.ActionName.SmallHeal);\r\n        this._healStats = new Map([[ActionName_1.ActionName.SmallHeal, initialStat]]);\r\n        this.healStats = ko.observableArray([initialStat]);\r\n    }\r\n    reset() {\r\n        this._healStats.forEach((stat) => {\r\n            stat.reset();\r\n        });\r\n    }\r\n    update(healOutcome) {\r\n        let healStat = this._healStats.get(healOutcome.healName);\r\n        if (healStat) {\r\n            healStat.add(healOutcome);\r\n        }\r\n        else {\r\n            healStat = new HealStat_1.default(healOutcome.healName);\r\n            healStat.add(healOutcome);\r\n            this._healStats.set(healOutcome.healName, healStat);\r\n            this.healStats.push(healStat);\r\n        }\r\n    }\r\n}\r\nexports["default"] = new Stats();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODA2Mi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxtREFBK0I7QUFDL0IsK0NBQTBDO0FBRTFDLDhEQUFrQztBQUVsQyxNQUFNLEtBQUs7SUFLVDtRQUNFLE1BQU0sV0FBVyxHQUFHLElBQUksa0JBQVEsQ0FBQyx1QkFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3ZELElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDLHVCQUFVLENBQUMsU0FBUyxFQUFFLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNqRSxJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQyxlQUFlLENBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO0lBQy9ELENBQUM7SUFFRCxLQUFLO1FBQ0gsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFjLEVBQUUsRUFBRTtZQUN6QyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDZixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRCxNQUFNLENBQUMsV0FBd0I7UUFDN0IsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3pELElBQUksUUFBUSxFQUFFO1lBQ1osUUFBUSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQztTQUMzQjthQUFNO1lBQ0wsUUFBUSxHQUFHLElBQUksa0JBQVEsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDOUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUUxQixJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQ3BELElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQy9CO0lBQ0gsQ0FBQztDQUNGO0FBRUQscUJBQWUsSUFBSSxLQUFLLEVBQUUsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWxzLXBsZWFzZS8uL3RzL1N0YXRzLnRzP2U1MjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMga28gZnJvbSBcImtub2Nrb3V0XCI7XHJcbmltcG9ydCB7IEFjdGlvbk5hbWUgfSBmcm9tIFwiLi9BY3Rpb25OYW1lXCI7XHJcbmltcG9ydCBIZWFsT3V0Y29tZSBmcm9tIFwiLi9IZWFsT3V0Y29tZVwiO1xyXG5pbXBvcnQgSGVhbFN0YXQgZnJvbSBcIi4vSGVhbFN0YXRcIjtcclxuXHJcbmNsYXNzIFN0YXRzIHtcclxuICBwcml2YXRlIF9oZWFsU3RhdHM6IE1hcDxBY3Rpb25OYW1lLCBIZWFsU3RhdD47XHJcblxyXG4gIGhlYWxTdGF0czoga28uT2JzZXJ2YWJsZUFycmF5PEhlYWxTdGF0PjtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBjb25zdCBpbml0aWFsU3RhdCA9IG5ldyBIZWFsU3RhdChBY3Rpb25OYW1lLlNtYWxsSGVhbCk7XHJcbiAgICB0aGlzLl9oZWFsU3RhdHMgPSBuZXcgTWFwKFtbQWN0aW9uTmFtZS5TbWFsbEhlYWwsIGluaXRpYWxTdGF0XV0pO1xyXG4gICAgdGhpcy5oZWFsU3RhdHMgPSBrby5vYnNlcnZhYmxlQXJyYXk8SGVhbFN0YXQ+KFtpbml0aWFsU3RhdF0pO1xyXG4gIH1cclxuXHJcbiAgcmVzZXQoKSB7XHJcbiAgICB0aGlzLl9oZWFsU3RhdHMuZm9yRWFjaCgoc3RhdDogSGVhbFN0YXQpID0+IHtcclxuICAgICAgc3RhdC5yZXNldCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUoaGVhbE91dGNvbWU6IEhlYWxPdXRjb21lKSB7XHJcbiAgICBsZXQgaGVhbFN0YXQgPSB0aGlzLl9oZWFsU3RhdHMuZ2V0KGhlYWxPdXRjb21lLmhlYWxOYW1lKTtcclxuICAgIGlmIChoZWFsU3RhdCkge1xyXG4gICAgICBoZWFsU3RhdC5hZGQoaGVhbE91dGNvbWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaGVhbFN0YXQgPSBuZXcgSGVhbFN0YXQoaGVhbE91dGNvbWUuaGVhbE5hbWUpO1xyXG4gICAgICBoZWFsU3RhdC5hZGQoaGVhbE91dGNvbWUpO1xyXG5cclxuICAgICAgdGhpcy5faGVhbFN0YXRzLnNldChoZWFsT3V0Y29tZS5oZWFsTmFtZSwgaGVhbFN0YXQpO1xyXG4gICAgICB0aGlzLmhlYWxTdGF0cy5wdXNoKGhlYWxTdGF0KTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBTdGF0cygpO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8062\n')},6983:(__unused_webpack_module,exports)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nclass Trigger {\r\n    constructor(callback) {\r\n        this._triggered = false;\r\n        this.execute = (healthPercentage) => {\r\n            if (!this._triggered) {\r\n                this._triggered = this._callback(healthPercentage);\r\n            }\r\n        };\r\n        this._callback = callback;\r\n    }\r\n}\r\nexports["default"] = Trigger;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjk4My5qcyIsIm1hcHBpbmdzIjoiOztBQUFBLE1BQXFCLE9BQU87SUFVMUIsWUFBWSxRQUErQztRQVJuRCxlQUFVLEdBQVksS0FBSyxDQUFDO1FBRXBDLFlBQU8sR0FBRyxDQUFDLGdCQUF3QixFQUFFLEVBQUU7WUFDckMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUU7Z0JBQ3BCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO2FBQ3BEO1FBQ0gsQ0FBQyxDQUFDO1FBR0EsSUFBSSxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUM7SUFDNUIsQ0FBQztDQUNGO0FBYkQsNkJBYUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFscy1wbGVhc2UvLi90cy9UcmlnZ2VyLnRzPzhhZTciXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJpZ2dlciB7XHJcbiAgcHJpdmF0ZSBfY2FsbGJhY2s6IChoZWFsdGhQZXJjZW50YWdlOiBudW1iZXIpID0+IGJvb2xlYW47XHJcbiAgcHJpdmF0ZSBfdHJpZ2dlcmVkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gIGV4ZWN1dGUgPSAoaGVhbHRoUGVyY2VudGFnZTogbnVtYmVyKSA9PiB7XHJcbiAgICBpZiAoIXRoaXMuX3RyaWdnZXJlZCkge1xyXG4gICAgICB0aGlzLl90cmlnZ2VyZWQgPSB0aGlzLl9jYWxsYmFjayhoZWFsdGhQZXJjZW50YWdlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdHJ1Y3RvcihjYWxsYmFjazogKGhlYWx0aFBlcmNlbnRhZ2U6IG51bWJlcikgPT4gYm9vbGVhbikge1xyXG4gICAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6983\n')},4256:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, "default", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o["default"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst ko = __importStar(__webpack_require__(9687));\r\nconst GameViewModel_1 = __importDefault(__webpack_require__(1232));\r\nconst KnockoutExtensions_1 = __importDefault(__webpack_require__(521));\r\nko.components.register("game", GameViewModel_1.default);\r\n(0, KnockoutExtensions_1.default)();\r\nko.applyBindings(null, document.body);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDI1Ni5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxtREFBK0I7QUFDL0IsbUVBQTRDO0FBQzVDLHVFQUFtRDtBQUVuRCxFQUFFLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsdUJBQWEsQ0FBQyxDQUFDO0FBRTlDLGdDQUFlLEdBQUUsQ0FBQztBQUVsQixFQUFFLENBQUMsYUFBYSxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFscy1wbGVhc2UvLi90cy9hcHAudHM/OWEwNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBrbyBmcm9tIFwia25vY2tvdXRcIjtcclxuaW1wb3J0IEdhbWVWaWV3TW9kZWwgZnJvbSBcIi4vR2FtZVZpZXdNb2RlbFwiO1xyXG5pbXBvcnQgYXBwbHlFeHRlbnNpb25zIGZyb20gXCIuL0tub2Nrb3V0RXh0ZW5zaW9uc1wiO1xyXG5cclxua28uY29tcG9uZW50cy5yZWdpc3RlcihcImdhbWVcIiwgR2FtZVZpZXdNb2RlbCk7XHJcblxyXG5hcHBseUV4dGVuc2lvbnMoKTtcclxuXHJcbmtvLmFwcGx5QmluZGluZ3MobnVsbCwgZG9jdW1lbnQuYm9keSk7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4256\n')},8581:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * velocity-animate (C) 2014-2017 Julian Shapiro.\n *\n * Licensed under the MIT license. See LICENSE file in the project root for details.\n */\n\nvar _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError("Cannot call a class as a function");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if ("value" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\n/**\r\n * Check if a variable is a boolean.\r\n */\nfunction isBoolean(variable) {\n    return variable === true || variable === false;\n}\n/**\r\n * Check if a variable is a function.\r\n */\nfunction isFunction(variable) {\n    return Object.prototype.toString.call(variable) === "[object Function]";\n}\n/**\r\n * Check if a variable is an HTMLElement or SVGElement.\r\n */\nfunction isNode(variable) {\n    return !!(variable && variable.nodeType);\n}\n/**\r\n * Check if a variable is a number.\r\n */\nfunction isNumber(variable) {\n    return typeof variable === "number";\n}\n/**\r\n * Check if a variable is a plain object (and not an instance).\r\n */\nfunction isPlainObject(variable) {\n    if (!variable || (typeof variable === "undefined" ? "undefined" : _typeof(variable)) !== "object" || variable.nodeType || Object.prototype.toString.call(variable) !== "[object Object]") {\n        return false;\n    }\n    var proto = Object.getPrototypeOf(variable);\n    return !proto || proto.hasOwnProperty("constructor") && proto.constructor === Object;\n}\n/**\r\n * Check if a variable is a string.\r\n */\nfunction isString(variable) {\n    return typeof variable === "string";\n}\n/**\r\n * Check if a variable is the result of calling Velocity.\r\n */\nfunction isVelocityResult(variable) {\n    return variable && isNumber(variable.length) && isFunction(variable.velocity);\n}\n/**\r\n * Check if a variable is an array-like wrapped jQuery, Zepto or similar, where\r\n * each indexed value is a Node.\r\n */\nfunction isWrapped(variable) {\n    return variable && variable !== window && isNumber(variable.length) && !isString(variable) && !isFunction(variable) && !isNode(variable) && (variable.length === 0 || isNode(variable[0]));\n}\n/**\r\n * Check is a property is an enumerable member of an object.\r\n */\nfunction propertyIsEnumerable(obj, property) {\n    return Object.prototype.propertyIsEnumerable.call(obj, property);\n}\n\n// Project\n/**\r\n * Add a single className to an Element.\r\n */\nfunction addClass(element, className) {\n    if (element instanceof Element) {\n        if (element.classList) {\n            element.classList.add(className);\n        } else {\n            removeClass(element, className);\n            element.className += (element.className.length ? " " : "") + className;\n        }\n    }\n}\n/**\r\n * Clone an array, works for array-like too.\r\n */\nfunction cloneArray(arrayLike) {\n    return Array.prototype.slice.call(arrayLike, 0);\n}\n/**\r\n * The <strong><code>defineProperty()</code></strong> function provides a\r\n * shortcut to defining a property that cannot be accidentally iterated across.\r\n */\nfunction defineProperty$1(proto, name, value, readonly) {\n    if (proto) {\n        Object.defineProperty(proto, name, {\n            configurable: !readonly,\n            writable: !readonly,\n            value: value\n        });\n    }\n}\n/**\r\n * When there are multiple locations for a value pass them all in, then get the\r\n * first value that is valid.\r\n */\nfunction getValue() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n    }\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n        for (var _iterator = args[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var arg = _step.value;\n\n            if (arg !== undefined && arg === arg) {\n                return arg;\n            }\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n            }\n        } finally {\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n}\n/**\r\n * Shim to get the current milliseconds - on anything except old IE it\'ll use\r\n * Date.now() and save creating an object. If that doesn\'t exist then it\'ll\r\n * create one that gets GC.\r\n */\nvar now = Date.now ? Date.now : function () {\n    return new Date().getTime();\n};\n/**\r\n * Remove a single className from an Element.\r\n */\nfunction removeClass(element, className) {\n    if (element instanceof Element) {\n        if (element.classList) {\n            element.classList.remove(className);\n        } else {\n            // TODO: Need some jsperf tests on performance - can we get rid of the regex and maybe use split / array manipulation?\n            element.className = element.className.replace(new RegExp("(^|\\\\s)" + className + "(\\\\s|$)", "gi"), " ");\n        }\n    }\n}\n\n// Project\n// Constants\nvar Actions = {};\n/**\r\n * Used to register an action. This should never be called by users\r\n * directly, instead it should be called via  an action:<br/>\r\n * <code>Velocity("registerAction", "name", VelocityActionFn);</code>\r\n */\nfunction registerAction(args, internal) {\n    var name = args[0],\n        callback = args[1];\n    if (!isString(name)) {\n        console.warn("VelocityJS: Trying to set \'registerAction\' name to an invalid value:", name);\n    } else if (!isFunction(callback)) {\n        console.warn("VelocityJS: Trying to set \'registerAction\' callback to an invalid value:", name, callback);\n    } else if (Actions[name] && !propertyIsEnumerable(Actions, name)) {\n        console.warn("VelocityJS: Trying to override internal \'registerAction\' callback", name);\n    } else if (internal === true) {\n        defineProperty$1(Actions, name, callback);\n    } else {\n        Actions[name] = callback;\n    }\n}\nregisterAction(["registerAction", registerAction], true);\n\n/**\r\n * Without this it will only un-prefix properties that have a valid "normal"\r\n * version.\r\n */\nvar DURATION_FAST = 200;\nvar DURATION_NORMAL = 400;\nvar DURATION_SLOW = 600;\nvar FUZZY_MS_PER_SECOND = 980;\nvar DEFAULT_CACHE = true;\nvar DEFAULT_DELAY = 0;\nvar DEFAULT_DURATION = DURATION_NORMAL;\nvar DEFAULT_EASING = "swing";\nvar DEFAULT_FPSLIMIT = 60;\nvar DEFAULT_LOOP = 0;\nvar DEFAULT_PROMISE = true;\nvar DEFAULT_PROMISE_REJECT_EMPTY = true;\nvar DEFAULT_QUEUE = "";\nvar DEFAULT_REPEAT = 0;\nvar DEFAULT_SPEED = 1;\nvar DEFAULT_SYNC = true;\nvar CLASSNAME = "velocity-animating";\nvar Duration = {\n  fast: DURATION_FAST,\n  normal: DURATION_NORMAL,\n  slow: DURATION_SLOW\n};\n\n// Project\n// Constants\nvar Easings = {};\n/**\r\n * Used to register a easing. This should never be called by users\r\n * directly, instead it should be called via an action:<br/>\r\n * <code>Velocity("registerEasing", "name", VelocityEasingFn);</code>\r\n */\nfunction registerEasing(args) {\n    var name = args[0],\n        callback = args[1];\n    if (!isString(name)) {\n        console.warn("VelocityJS: Trying to set \'registerEasing\' name to an invalid value:", name);\n    } else if (!isFunction(callback)) {\n        console.warn("VelocityJS: Trying to set \'registerEasing\' callback to an invalid value:", name, callback);\n    } else if (Easings[name]) {\n        console.warn("VelocityJS: Trying to override \'registerEasing\' callback", name);\n    } else {\n        Easings[name] = callback;\n    }\n}\nregisterAction(["registerEasing", registerEasing], true);\n/**\r\n * Linear easing, used for sequence parts that don\'t have an actual easing\r\n * function.\r\n */\nfunction linearEasing(percentComplete, startValue, endValue, property) {\n    return startValue + percentComplete * (endValue - startValue);\n}\n/**\r\n * Swing is the default for jQuery and Velocity.\r\n */\nfunction swingEasing(percentComplete, startValue, endValue) {\n    return startValue + (0.5 - Math.cos(percentComplete * Math.PI) / 2) * (endValue - startValue);\n}\n/**\r\n * A less exaggerated version of easeInOutElastic.\r\n */\nfunction springEasing(percentComplete, startValue, endValue) {\n    return startValue + (1 - Math.cos(percentComplete * 4.5 * Math.PI) * Math.exp(-percentComplete * 6)) * (endValue - startValue);\n}\nregisterEasing(["linear", linearEasing]);\nregisterEasing(["swing", swingEasing]);\nregisterEasing(["spring", springEasing]);\n\n// Project\n/**\r\n * Fix to a range of <code>0 <= num <= 1</code>.\r\n */\nfunction fixRange(num) {\n    return Math.min(Math.max(num, 0), 1);\n}\nfunction A(aA1, aA2) {\n    return 1 - 3 * aA2 + 3 * aA1;\n}\nfunction B(aA1, aA2) {\n    return 3 * aA2 - 6 * aA1;\n}\nfunction C(aA1) {\n    return 3 * aA1;\n}\nfunction calcBezier(aT, aA1, aA2) {\n    return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\n}\nfunction getSlope(aT, aA1, aA2) {\n    return 3 * A(aA1, aA2) * aT * aT + 2 * B(aA1, aA2) * aT + C(aA1);\n}\nfunction generateBezier() {\n    var NEWTON_ITERATIONS = 4,\n        NEWTON_MIN_SLOPE = 0.001,\n        SUBDIVISION_PRECISION = 0.0000001,\n        SUBDIVISION_MAX_ITERATIONS = 10,\n        kSplineTableSize = 11,\n        kSampleStepSize = 1 / (kSplineTableSize - 1),\n        float32ArraySupported = "Float32Array" in window;\n    /* Must contain four args. */\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n    }\n\n    if (args.length !== 4) {\n        return;\n    }\n    /* Args must be numbers. */\n    for (var i = 0; i < 4; ++i) {\n        if (typeof args[i] !== "number" || isNaN(args[i]) || !isFinite(args[i])) {\n            return;\n        }\n    }\n    /* X values must be in the [0, 1] range. */\n    var mX1 = fixRange(args[0]);\n    var mY1 = args[1];\n    var mX2 = fixRange(args[2]);\n    var mY2 = args[3];\n    var mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n    function newtonRaphsonIterate(aX, aGuessT) {\n        for (var _i = 0; _i < NEWTON_ITERATIONS; ++_i) {\n            var currentSlope = getSlope(aGuessT, mX1, mX2);\n            if (currentSlope === 0) {\n                return aGuessT;\n            }\n            var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n            aGuessT -= currentX / currentSlope;\n        }\n        return aGuessT;\n    }\n    function calcSampleValues() {\n        for (var _i2 = 0; _i2 < kSplineTableSize; ++_i2) {\n            mSampleValues[_i2] = calcBezier(_i2 * kSampleStepSize, mX1, mX2);\n        }\n    }\n    function binarySubdivide(aX, aA, aB) {\n        var currentX = void 0,\n            currentT = void 0,\n            i = 0;\n        do {\n            currentT = aA + (aB - aA) / 2;\n            currentX = calcBezier(currentT, mX1, mX2) - aX;\n            if (currentX > 0) {\n                aB = currentT;\n            } else {\n                aA = currentT;\n            }\n        } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n        return currentT;\n    }\n    function getTForX(aX) {\n        var lastSample = kSplineTableSize - 1;\n        var intervalStart = 0,\n            currentSample = 1;\n        for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\n            intervalStart += kSampleStepSize;\n        }\n        --currentSample;\n        var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]),\n            guessForT = intervalStart + dist * kSampleStepSize,\n            initialSlope = getSlope(guessForT, mX1, mX2);\n        if (initialSlope >= NEWTON_MIN_SLOPE) {\n            return newtonRaphsonIterate(aX, guessForT);\n        } else if (initialSlope === 0) {\n            return guessForT;\n        } else {\n            return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize);\n        }\n    }\n    var precomputed = false;\n    function precompute() {\n        precomputed = true;\n        if (mX1 !== mY1 || mX2 !== mY2) {\n            calcSampleValues();\n        }\n    }\n    var str = "generateBezier(" + [mX1, mY1, mX2, mY2] + ")",\n        f = function f(percentComplete, startValue, endValue, property) {\n        if (!precomputed) {\n            precompute();\n        }\n        if (percentComplete === 0) {\n            return startValue;\n        }\n        if (percentComplete === 1) {\n            return endValue;\n        }\n        if (mX1 === mY1 && mX2 === mY2) {\n            return startValue + percentComplete * (endValue - startValue);\n        }\n        return startValue + calcBezier(getTForX(percentComplete), mY1, mY2) * (endValue - startValue);\n    };\n    f.getControlPoints = function () {\n        return [{ x: mX1, y: mY1 }, { x: mX2, y: mY2 }];\n    };\n    f.toString = function () {\n        return str;\n    };\n    return f;\n}\n/* Common easings */\nvar easeIn = generateBezier(0.42, 0, 1, 1),\n    easeOut = generateBezier(0, 0, 0.58, 1),\n    easeInOut = generateBezier(0.42, 0, 0.58, 1);\nregisterEasing(["ease", generateBezier(0.25, 0.1, 0.25, 1)]);\nregisterEasing(["easeIn", easeIn]);\nregisterEasing(["ease-in", easeIn]);\nregisterEasing(["easeOut", easeOut]);\nregisterEasing(["ease-out", easeOut]);\nregisterEasing(["easeInOut", easeInOut]);\nregisterEasing(["ease-in-out", easeInOut]);\nregisterEasing(["easeInSine", generateBezier(0.47, 0, 0.745, 0.715)]);\nregisterEasing(["easeOutSine", generateBezier(0.39, 0.575, 0.565, 1)]);\nregisterEasing(["easeInOutSine", generateBezier(0.445, 0.05, 0.55, 0.95)]);\nregisterEasing(["easeInQuad", generateBezier(0.55, 0.085, 0.68, 0.53)]);\nregisterEasing(["easeOutQuad", generateBezier(0.25, 0.46, 0.45, 0.94)]);\nregisterEasing(["easeInOutQuad", generateBezier(0.455, 0.03, 0.515, 0.955)]);\nregisterEasing(["easeInCubic", generateBezier(0.55, 0.055, 0.675, 0.19)]);\nregisterEasing(["easeOutCubic", generateBezier(0.215, 0.61, 0.355, 1)]);\nregisterEasing(["easeInOutCubic", generateBezier(0.645, 0.045, 0.355, 1)]);\nregisterEasing(["easeInQuart", generateBezier(0.895, 0.03, 0.685, 0.22)]);\nregisterEasing(["easeOutQuart", generateBezier(0.165, 0.84, 0.44, 1)]);\nregisterEasing(["easeInOutQuart", generateBezier(0.77, 0, 0.175, 1)]);\nregisterEasing(["easeInQuint", generateBezier(0.755, 0.05, 0.855, 0.06)]);\nregisterEasing(["easeOutQuint", generateBezier(0.23, 1, 0.32, 1)]);\nregisterEasing(["easeInOutQuint", generateBezier(0.86, 0, 0.07, 1)]);\nregisterEasing(["easeInExpo", generateBezier(0.95, 0.05, 0.795, 0.035)]);\nregisterEasing(["easeOutExpo", generateBezier(0.19, 1, 0.22, 1)]);\nregisterEasing(["easeInOutExpo", generateBezier(1, 0, 0, 1)]);\nregisterEasing(["easeInCirc", generateBezier(0.6, 0.04, 0.98, 0.335)]);\nregisterEasing(["easeOutCirc", generateBezier(0.075, 0.82, 0.165, 1)]);\nregisterEasing(["easeInOutCirc", generateBezier(0.785, 0.135, 0.15, 0.86)]);\n\n/* Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */\n/* Given a tension, friction, and duration, a simulation at 60FPS will first run without a defined duration in order to calculate the full path. A second pass\r\n then adjusts the time delta -- using the relation between actual time and duration -- to calculate the path for the duration-constrained animation. */\nfunction springAccelerationForState(state) {\n    return -state.tension * state.x - state.friction * state.v;\n}\nfunction springEvaluateStateWithDerivative(initialState, dt, derivative) {\n    var state = {\n        x: initialState.x + derivative.dx * dt,\n        v: initialState.v + derivative.dv * dt,\n        tension: initialState.tension,\n        friction: initialState.friction\n    };\n    return {\n        dx: state.v,\n        dv: springAccelerationForState(state)\n    };\n}\nfunction springIntegrateState(state, dt) {\n    var a = {\n        dx: state.v,\n        dv: springAccelerationForState(state)\n    },\n        b = springEvaluateStateWithDerivative(state, dt * 0.5, a),\n        c = springEvaluateStateWithDerivative(state, dt * 0.5, b),\n        d = springEvaluateStateWithDerivative(state, dt, c),\n        dxdt = 1 / 6 * (a.dx + 2 * (b.dx + c.dx) + d.dx),\n        dvdt = 1 / 6 * (a.dv + 2 * (b.dv + c.dv) + d.dv);\n    state.x = state.x + dxdt * dt;\n    state.v = state.v + dvdt * dt;\n    return state;\n}\nfunction generateSpringRK4(tension, friction, duration) {\n    var initState = {\n        x: -1,\n        v: 0,\n        tension: parseFloat(tension) || 500,\n        friction: parseFloat(friction) || 20\n    },\n        path = [0],\n        tolerance = 1 / 10000,\n        DT = 16 / 1000,\n        haveDuration = duration != null; // deliberate "==", as undefined == null != 0\n    var timeLapsed = 0,\n        dt = void 0,\n        lastState = void 0;\n    /* Calculate the actual time it takes for this animation to complete with the provided conditions. */\n    if (haveDuration) {\n        /* Run the simulation without a duration. */\n        timeLapsed = generateSpringRK4(initState.tension, initState.friction);\n        /* Compute the adjusted time delta. */\n        dt = timeLapsed / duration * DT;\n    } else {\n        dt = DT;\n    }\n    while (true) {\n        /* Next/step function .*/\n        lastState = springIntegrateState(lastState || initState, dt);\n        /* Store the position. */\n        path.push(1 + lastState.x);\n        timeLapsed += 16;\n        /* If the change threshold is reached, break. */\n        if (!(Math.abs(lastState.x) > tolerance && Math.abs(lastState.v) > tolerance)) {\n            break;\n        }\n    }\n    /* If duration is not defined, return the actual time required for completing this animation. Otherwise, return a closure that holds the\r\n     computed path and returns a snapshot of the position according to a given percentComplete. */\n    return !haveDuration ? timeLapsed : function (percentComplete, startValue, endValue) {\n        if (percentComplete === 0) {\n            return startValue;\n        }\n        if (percentComplete === 1) {\n            return endValue;\n        }\n        return startValue + path[Math.floor(percentComplete * (path.length - 1))] * (endValue - startValue);\n    };\n}\n\n// Constants\nvar cache = {};\nfunction generateStep(steps) {\n    var fn = cache[steps];\n    if (fn) {\n        return fn;\n    }\n    return cache[steps] = function (percentComplete, startValue, endValue) {\n        if (percentComplete === 0) {\n            return startValue;\n        }\n        if (percentComplete === 1) {\n            return endValue;\n        }\n        return startValue + Math.round(percentComplete * steps) * (1 / steps) * (endValue - startValue);\n    };\n}\n\n// Project\n/**\r\n * Parse a duration value and return an ms number. Optionally return a\r\n * default value if the number is not valid.\r\n */\nfunction parseDuration(duration, def) {\n    if (isNumber(duration)) {\n        return duration;\n    }\n    if (isString(duration)) {\n        return Duration[duration.toLowerCase()] || parseFloat(duration.replace("ms", "").replace("s", "000"));\n    }\n    return def == null ? undefined : parseDuration(def);\n}\n/**\r\n * Validate a <code>cache</code> option.\r\n */\nfunction validateCache(value) {\n    if (isBoolean(value)) {\n        return value;\n    }\n    if (value != null) {\n        console.warn("VelocityJS: Trying to set \'cache\' to an invalid value:", value);\n    }\n}\n/**\r\n * Validate a <code>begin</code> option.\r\n */\nfunction validateBegin(value) {\n    if (isFunction(value)) {\n        return value;\n    }\n    if (value != null) {\n        console.warn("VelocityJS: Trying to set \'begin\' to an invalid value:", value);\n    }\n}\n/**\r\n * Validate a <code>complete</code> option.\r\n */\nfunction validateComplete(value, noError) {\n    if (isFunction(value)) {\n        return value;\n    }\n    if (value != null && !noError) {\n        console.warn("VelocityJS: Trying to set \'complete\' to an invalid value:", value);\n    }\n}\n/**\r\n * Validate a <code>delay</code> option.\r\n */\nfunction validateDelay(value) {\n    var parsed = parseDuration(value);\n    if (!isNaN(parsed)) {\n        return parsed;\n    }\n    if (value != null) {\n        console.error("VelocityJS: Trying to set \'delay\' to an invalid value:", value);\n    }\n}\n/**\r\n * Validate a <code>duration</code> option.\r\n */\nfunction validateDuration(value, noError) {\n    var parsed = parseDuration(value);\n    if (!isNaN(parsed) && parsed >= 0) {\n        return parsed;\n    }\n    if (value != null && !noError) {\n        console.error("VelocityJS: Trying to set \'duration\' to an invalid value:", value);\n    }\n}\n/**\r\n * Validate a <code>easing</code> option.\r\n */\nfunction validateEasing(value, duration, noError) {\n    if (isString(value)) {\n        // Named easing\n        return Easings[value];\n    }\n    if (isFunction(value)) {\n        return value;\n    }\n    // TODO: We should only do these if the correct function exists - don\'t force loading.\n    if (Array.isArray(value)) {\n        if (value.length === 1) {\n            // Steps\n            return generateStep(value[0]);\n        }\n        if (value.length === 2) {\n            // springRK4 must be passed the animation\'s duration.\n            // Note: If the springRK4 array contains non-numbers,\n            // generateSpringRK4() returns an easing function generated with\n            // default tension and friction values.\n            return generateSpringRK4(value[0], value[1], duration);\n        }\n        if (value.length === 4) {\n            // Note: If the bezier array contains non-numbers, generateBezier()\n            // returns undefined.\n            return generateBezier.apply(null, value) || false;\n        }\n    }\n    if (value != null && !noError) {\n        console.error("VelocityJS: Trying to set \'easing\' to an invalid value:", value);\n    }\n}\n/**\r\n * Validate a <code>fpsLimit</code> option.\r\n */\nfunction validateFpsLimit(value) {\n    if (value === false) {\n        return 0;\n    } else {\n        var parsed = parseInt(value, 10);\n        if (!isNaN(parsed) && parsed >= 0) {\n            return Math.min(parsed, 60);\n        }\n    }\n    if (value != null) {\n        console.warn("VelocityJS: Trying to set \'fpsLimit\' to an invalid value:", value);\n    }\n}\n/**\r\n * Validate a <code>loop</code> option.\r\n */\nfunction validateLoop(value) {\n    switch (value) {\n        case false:\n            return 0;\n        case true:\n            return true;\n        default:\n            var parsed = parseInt(value, 10);\n            if (!isNaN(parsed) && parsed >= 0) {\n                return parsed;\n            }\n            break;\n    }\n    if (value != null) {\n        console.warn("VelocityJS: Trying to set \'loop\' to an invalid value:", value);\n    }\n}\n/**\r\n * Validate a <code>progress</code> option.\r\n */\nfunction validateProgress(value) {\n    if (isFunction(value)) {\n        return value;\n    }\n    if (value != null) {\n        console.warn("VelocityJS: Trying to set \'progress\' to an invalid value:", value);\n    }\n}\n/**\r\n * Validate a <code>promise</code> option.\r\n */\nfunction validatePromise(value) {\n    if (isBoolean(value)) {\n        return value;\n    }\n    if (value != null) {\n        console.warn("VelocityJS: Trying to set \'promise\' to an invalid value:", value);\n    }\n}\n/**\r\n * Validate a <code>promiseRejectEmpty</code> option.\r\n */\nfunction validatePromiseRejectEmpty(value) {\n    if (isBoolean(value)) {\n        return value;\n    }\n    if (value != null) {\n        console.warn("VelocityJS: Trying to set \'promiseRejectEmpty\' to an invalid value:", value);\n    }\n}\n/**\r\n * Validate a <code>queue</code> option.\r\n */\nfunction validateQueue(value, noError) {\n    if (value === false || isString(value)) {\n        return value;\n    }\n    if (value != null && !noError) {\n        console.warn("VelocityJS: Trying to set \'queue\' to an invalid value:", value);\n    }\n}\n/**\r\n * Validate a <code>repeat</code> option.\r\n */\nfunction validateRepeat(value) {\n    switch (value) {\n        case false:\n            return 0;\n        case true:\n            return true;\n        default:\n            var parsed = parseInt(value, 10);\n            if (!isNaN(parsed) && parsed >= 0) {\n                return parsed;\n            }\n            break;\n    }\n    if (value != null) {\n        console.warn("VelocityJS: Trying to set \'repeat\' to an invalid value:", value);\n    }\n}\n/**\r\n * Validate a <code>speed</code> option.\r\n */\nfunction validateSpeed(value) {\n    if (isNumber(value)) {\n        return value;\n    }\n    if (value != null) {\n        console.error("VelocityJS: Trying to set \'speed\' to an invalid value:", value);\n    }\n}\n/**\r\n * Validate a <code>sync</code> option.\r\n */\nfunction validateSync(value) {\n    if (isBoolean(value)) {\n        return value;\n    }\n    if (value != null) {\n        console.error("VelocityJS: Trying to set \'sync\' to an invalid value:", value);\n    }\n}\n\n// Project\n// NOTE: Add the variable here, then add the default state in "reset" below.\nvar cache$1 = void 0,\n    begin = void 0,\n    complete = void 0,\n    delay = void 0,\n    duration = void 0,\n    easing = void 0,\n    fpsLimit = void 0,\n    loop = void 0,\n    mobileHA = void 0,\n    minFrameTime = void 0,\n    promise = void 0,\n    promiseRejectEmpty = void 0,\n    queue = void 0,\n    repeat = void 0,\n    speed = void 0,\n    sync = void 0;\nvar defaults$1 = function () {\n    function defaults$$1() {\n        classCallCheck(this, defaults$$1);\n    }\n\n    createClass(defaults$$1, null, [{\n        key: "reset",\n        value: function reset() {\n            cache$1 = DEFAULT_CACHE;\n            begin = undefined;\n            complete = undefined;\n            delay = DEFAULT_DELAY;\n            duration = DEFAULT_DURATION;\n            easing = validateEasing(DEFAULT_EASING, DEFAULT_DURATION);\n            fpsLimit = DEFAULT_FPSLIMIT;\n            loop = DEFAULT_LOOP;\n            minFrameTime = FUZZY_MS_PER_SECOND / DEFAULT_FPSLIMIT;\n            promise = DEFAULT_PROMISE;\n            promiseRejectEmpty = DEFAULT_PROMISE_REJECT_EMPTY;\n            queue = DEFAULT_QUEUE;\n            repeat = DEFAULT_REPEAT;\n            speed = DEFAULT_SPEED;\n            sync = DEFAULT_SYNC;\n        }\n    }, {\n        key: "cache",\n        get: function get$$1() {\n            return cache$1;\n        },\n        set: function set$$1(value) {\n            value = validateCache(value);\n            if (value !== undefined) {\n                cache$1 = value;\n            }\n        }\n    }, {\n        key: "begin",\n        get: function get$$1() {\n            return begin;\n        },\n        set: function set$$1(value) {\n            value = validateBegin(value);\n            if (value !== undefined) {\n                begin = value;\n            }\n        }\n    }, {\n        key: "complete",\n        get: function get$$1() {\n            return complete;\n        },\n        set: function set$$1(value) {\n            value = validateComplete(value);\n            if (value !== undefined) {\n                complete = value;\n            }\n        }\n    }, {\n        key: "delay",\n        get: function get$$1() {\n            return delay;\n        },\n        set: function set$$1(value) {\n            value = validateDelay(value);\n            if (value !== undefined) {\n                delay = value;\n            }\n        }\n    }, {\n        key: "duration",\n        get: function get$$1() {\n            return duration;\n        },\n        set: function set$$1(value) {\n            value = validateDuration(value);\n            if (value !== undefined) {\n                duration = value;\n            }\n        }\n    }, {\n        key: "easing",\n        get: function get$$1() {\n            return easing;\n        },\n        set: function set$$1(value) {\n            value = validateEasing(value, duration);\n            if (value !== undefined) {\n                easing = value;\n            }\n        }\n    }, {\n        key: "fpsLimit",\n        get: function get$$1() {\n            return fpsLimit;\n        },\n        set: function set$$1(value) {\n            value = validateFpsLimit(value);\n            if (value !== undefined) {\n                fpsLimit = value;\n                minFrameTime = FUZZY_MS_PER_SECOND / value;\n            }\n        }\n    }, {\n        key: "loop",\n        get: function get$$1() {\n            return loop;\n        },\n        set: function set$$1(value) {\n            value = validateLoop(value);\n            if (value !== undefined) {\n                loop = value;\n            }\n        }\n    }, {\n        key: "mobileHA",\n        get: function get$$1() {\n            return mobileHA;\n        },\n        set: function set$$1(value) {\n            if (isBoolean(value)) {\n                mobileHA = value;\n            }\n        }\n    }, {\n        key: "minFrameTime",\n        get: function get$$1() {\n            return minFrameTime;\n        }\n    }, {\n        key: "promise",\n        get: function get$$1() {\n            return promise;\n        },\n        set: function set$$1(value) {\n            value = validatePromise(value);\n            if (value !== undefined) {\n                promise = value;\n            }\n        }\n    }, {\n        key: "promiseRejectEmpty",\n        get: function get$$1() {\n            return promiseRejectEmpty;\n        },\n        set: function set$$1(value) {\n            value = validatePromiseRejectEmpty(value);\n            if (value !== undefined) {\n                promiseRejectEmpty = value;\n            }\n        }\n    }, {\n        key: "queue",\n        get: function get$$1() {\n            return queue;\n        },\n        set: function set$$1(value) {\n            value = validateQueue(value);\n            if (value !== undefined) {\n                queue = value;\n            }\n        }\n    }, {\n        key: "repeat",\n        get: function get$$1() {\n            return repeat;\n        },\n        set: function set$$1(value) {\n            value = validateRepeat(value);\n            if (value !== undefined) {\n                repeat = value;\n            }\n        }\n    }, {\n        key: "repeatAgain",\n        get: function get$$1() {\n            return repeat;\n        }\n    }, {\n        key: "speed",\n        get: function get$$1() {\n            return speed;\n        },\n        set: function set$$1(value) {\n            value = validateSpeed(value);\n            if (value !== undefined) {\n                speed = value;\n            }\n        }\n    }, {\n        key: "sync",\n        get: function get$$1() {\n            return sync;\n        },\n        set: function set$$1(value) {\n            value = validateSync(value);\n            if (value !== undefined) {\n                sync = value;\n            }\n        }\n    }]);\n    return defaults$$1;\n}();\nObject.freeze(defaults$1);\n// Reset to our default values, currently everything is undefined.\ndefaults$1.reset();\n\n/**\r\n * The highest type index for finding the best normalization for a property.\r\n */\n/**\r\n * Unlike "actions", normalizations can always be replaced by users.\r\n */\nvar Normalizations = [];\n/**\r\n * Store a cross-reference to units to be added to specific normalization\r\n * functions if the user supplies a unit-less number.\r\n *\r\n * This is pretty much confined to adding "px" to several css properties.\r\n */\nvar NormalizationUnits = {};\n/**\r\n * Any normalisations that should never be cached are listed here.\r\n * Faster than an array - https://jsperf.com/array-includes-and-find-methods-vs-set-has\r\n */\nvar NoCacheNormalizations = new Set();\n/**\r\n * An array of classes used for the per-class normalizations. This\r\n * translates into a bitwise enum for quick cross-reference, and so that\r\n * the element doesn\'t need multiple <code>instanceof</code> calls every\r\n * frame.\r\n */\nvar constructors = [];\n/**\r\n * A cache of the various constructors we\'ve found and mapping to their real\r\n * name - saves expensive lookups.\r\n */\nvar constructorCache = new Map();\n\n// Project\n// Constants\nvar dataName = "velocityData";\n/**\r\n * Get (and create) the internal data store for an element.\r\n */\nfunction Data(element) {\n    // Use a string member so Uglify doesn\'t mangle it.\n    var data = element[dataName];\n    if (data) {\n        return data;\n    }\n    var window = element.ownerDocument.defaultView;\n    var types = 0;\n    for (var index = 0; index < constructors.length; index++) {\n        var _constructor = constructors[index];\n        if (isString(_constructor)) {\n            if (element instanceof window[_constructor]) {\n                types |= 1 << index; // tslint:disable-line:no-bitwise\n            }\n        } else if (element instanceof _constructor) {\n            types |= 1 << index; // tslint:disable-line:no-bitwise\n        }\n    }\n    // Use an intermediate object so it errors on incorrect data.\n    var newData = {\n        types: types,\n        count: 0,\n        computedStyle: null,\n        cache: {},\n        queueList: {},\n        lastAnimationList: {},\n        lastFinishList: {},\n        window: window\n    };\n    Object.defineProperty(element, dataName, {\n        value: newData\n    });\n    return newData;\n}\n\n// Constants\nvar isClient = window && window === window.window,\n    windowScrollAnchor = isClient && window.pageYOffset !== undefined;\nvar State = {\n    isClient: isClient,\n    isMobile: isClient && /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),\n    isGingerbread: isClient && /Android 2\\.3\\.[3-7]/i.test(navigator.userAgent),\n    prefixElement: isClient && document.createElement("div"),\n    windowScrollAnchor: windowScrollAnchor,\n    scrollAnchor: windowScrollAnchor ? window : !isClient || document.documentElement || document.body.parentNode || document.body,\n    scrollPropertyLeft: windowScrollAnchor ? "pageXOffset" : "scrollLeft",\n    scrollPropertyTop: windowScrollAnchor ? "pageYOffset" : "scrollTop",\n    className: CLASSNAME,\n    isTicking: false,\n    first: undefined,\n    last: undefined,\n    firstNew: undefined\n};\n\n// Project\n/**\r\n * Simple queue management. Un-named queue is directly within the element data,\r\n * named queue is within an object within it.\r\n */\nfunction animate(animation) {\n    var prev = State.last;\n    animation._prev = prev;\n    animation._next = undefined;\n    if (prev) {\n        prev._next = animation;\n    } else {\n        State.first = animation;\n    }\n    State.last = animation;\n    if (!State.firstNew) {\n        State.firstNew = animation;\n    }\n    var element = animation.element,\n        data = Data(element);\n    if (!data.count++) {\n        ////////////////////////\n        // Feature: Classname //\n        ////////////////////////\n        addClass(element, State.className);\n    }\n}\n/**\r\n * Add an item to an animation queue.\r\n */\nfunction queue$1(element, animation, queueName) {\n    var data = Data(element);\n    if (queueName !== false) {\n        // Store the last animation added so we can use it for the\n        // beginning of the next one.\n        data.lastAnimationList[queueName] = animation;\n    }\n    if (queueName === false) {\n        animate(animation);\n    } else {\n        if (!isString(queueName)) {\n            queueName = "";\n        }\n        var last = data.queueList[queueName];\n        if (!last) {\n            if (last === null) {\n                data.queueList[queueName] = animation;\n            } else {\n                data.queueList[queueName] = null;\n                animate(animation);\n            }\n        } else {\n            while (last._next) {\n                last = last._next;\n            }\n            last._next = animation;\n            animation._prev = last;\n        }\n    }\n}\n/**\r\n * Start the next animation on this element\'s queue (named or default).\r\n *\r\n * @returns the next animation that is starting.\r\n */\nfunction dequeue(element, queueName, skip) {\n    if (queueName !== false) {\n        if (!isString(queueName)) {\n            queueName = "";\n        }\n        var data = Data(element),\n            animation = data.queueList[queueName];\n        if (animation) {\n            data.queueList[queueName] = animation._next || null;\n            if (!skip) {\n                animate(animation);\n            }\n        } else if (animation === null) {\n            delete data.queueList[queueName];\n        }\n        return animation;\n    }\n}\n/**\r\n * Remove an animation from the active animation list. If it has a queue set\r\n * then remember it as the last animation for that queue, and free the one\r\n * that was previously there. If the animation list is completely empty then\r\n * mark us as finished.\r\n */\nfunction freeAnimationCall(animation) {\n    var next = animation._next,\n        prev = animation._prev,\n        queueName = animation.queue == null ? animation.options.queue : animation.queue;\n    if (State.firstNew === animation) {\n        State.firstNew = next;\n    }\n    if (State.first === animation) {\n        State.first = next;\n    } else if (prev) {\n        prev._next = next;\n    }\n    if (State.last === animation) {\n        State.last = prev;\n    } else if (next) {\n        next._prev = prev;\n    }\n    if (queueName) {\n        var data = Data(animation.element);\n        if (data) {\n            animation._next = animation._prev = undefined;\n        }\n    }\n}\n\nvar SequencesObject = {};\n\n// Project\n/**\r\n * Call the complete method of an animation in a separate function so it can\r\n * benefit from JIT compiling while still having a try/catch block.\r\n */\nfunction callComplete(activeCall) {\n    var callback = activeCall.complete || activeCall.options.complete;\n    if (callback) {\n        try {\n            var elements = activeCall.elements;\n            callback.call(elements, elements, activeCall);\n        } catch (error) {\n            setTimeout(function () {\n                throw error;\n            }, 1);\n        }\n    }\n}\n/**\r\n * Complete an animation. This might involve restarting (for loop or repeat\r\n * options). Once it is finished we also check for any callbacks or Promises\r\n * that need updating.\r\n */\nfunction completeCall(activeCall) {\n    // TODO: Check if it\'s not been completed already\n    var options = activeCall.options,\n        queue = getValue(activeCall.queue, options.queue),\n        isLoop = getValue(activeCall.loop, options.loop, defaults$1.loop),\n        isRepeat = getValue(activeCall.repeat, options.repeat, defaults$1.repeat),\n        isStopped = activeCall._flags & 8 /* STOPPED */; // tslint:disable-line:no-bitwise\n    if (!isStopped && (isLoop || isRepeat)) {\n        ////////////////////\n        // Option: Loop   //\n        // Option: Repeat //\n        ////////////////////\n        if (isRepeat && isRepeat !== true) {\n            activeCall.repeat = isRepeat - 1;\n        } else if (isLoop && isLoop !== true) {\n            activeCall.loop = isLoop - 1;\n            activeCall.repeat = getValue(activeCall.repeatAgain, options.repeatAgain, defaults$1.repeatAgain);\n        }\n        if (isLoop) {\n            activeCall._flags ^= 64 /* REVERSE */; // tslint:disable-line:no-bitwise\n        }\n        if (queue !== false) {\n            // Can\'t be called when stopped so no need for an extra check.\n            Data(activeCall.element).lastFinishList[queue] = activeCall.timeStart + getValue(activeCall.duration, options.duration, defaults$1.duration);\n        }\n        activeCall.timeStart = activeCall.ellapsedTime = activeCall.percentComplete = 0;\n        activeCall._flags &= ~4 /* STARTED */; // tslint:disable-line:no-bitwise\n    } else {\n        var element = activeCall.element,\n            data = Data(element);\n        if (! --data.count && !isStopped) {\n            ////////////////////////\n            // Feature: Classname //\n            ////////////////////////\n            removeClass(element, State.className);\n        }\n        //////////////////////\n        // Option: Complete //\n        //////////////////////\n        // If this is the last animation in this list then we can check for\n        // and complete calls or Promises.\n        // TODO: When deleting an element we need to adjust these values.\n        if (options && ++options._completed === options._total) {\n            if (!isStopped && options.complete) {\n                // We don\'t call the complete if the animation is stopped,\n                // and we clear the key to prevent it being called again.\n                callComplete(activeCall);\n                options.complete = null;\n            }\n            var resolver = options._resolver;\n            if (resolver) {\n                // Fulfil the Promise\n                resolver(activeCall.elements);\n                delete options._resolver;\n            }\n        }\n        ///////////////////\n        // Option: Queue //\n        ///////////////////\n        if (queue !== false) {\n            // We only do clever things with queues...\n            if (!isStopped) {\n                // If we\'re not stopping an animation, we need to remember\n                // what time it finished so that the next animation in\n                // sequence gets the correct start time.\n                data.lastFinishList[queue] = activeCall.timeStart + getValue(activeCall.duration, options.duration, defaults$1.duration);\n            }\n            // Start the next animation in sequence, or delete the queue if\n            // this was the last one.\n            dequeue(element, queue);\n        }\n        // Cleanup any pointers, and remember the last animation etc.\n        freeAnimationCall(activeCall);\n    }\n}\n\n// Project\n/**\r\n * Used to register a normalization. This should never be called by users\r\n * directly, instead it should be called via an action:<br/>\r\n * <code>Velocity("registerNormalization", "Element", "name", VelocityNormalizationsFn[, false]);</code>\r\n *\r\n * The second argument is the class of the animatable object. If this is passed\r\n * as a class name (ie, `"Element"` -> `window["Element"]`) then this will work\r\n * cross-iframe. If passed as an actual class (ie `Element`) then it will\r\n * attempt to find the class on the window and use that name instead. If it\r\n * can\'t find it then it will use the class passed, which allows for custom\r\n * animation targets, but will not work cross-iframe boundary.\r\n *\r\n * The fourth argument can be an explicit <code>false</code>, which prevents\r\n * the property from being cached. Please note that this can be dangerous\r\n * for performance!\r\n */\nfunction registerNormalization(args) {\n    var constructor = args[0],\n        name = args[1],\n        callback = args[2];\n    if (isString(constructor) && !(window[constructor] instanceof Object) || !isString(constructor) && !(constructor instanceof Object)) {\n        console.warn("VelocityJS: Trying to set \'registerNormalization\' constructor to an invalid value:", constructor);\n    } else if (!isString(name)) {\n        console.warn("VelocityJS: Trying to set \'registerNormalization\' name to an invalid value:", name);\n    } else if (!isFunction(callback)) {\n        console.warn("VelocityJS: Trying to set \'registerNormalization\' callback to an invalid value:", name, callback);\n    } else {\n        var index = constructors.indexOf(constructor),\n            nextArg = 3;\n        if (index < 0 && !isString(constructor)) {\n            if (constructorCache.has(constructor)) {\n                index = constructors.indexOf(constructorCache.get(constructor));\n            } else {\n                for (var property in window) {\n                    if (window[property] === constructor) {\n                        index = constructors.indexOf(property);\n                        if (index < 0) {\n                            index = constructors.push(property) - 1;\n                            Normalizations[index] = {};\n                            constructorCache.set(constructor, property);\n                        }\n                        break;\n                    }\n                }\n            }\n        }\n        if (index < 0) {\n            index = constructors.push(constructor) - 1;\n            Normalizations[index] = {};\n        }\n        Normalizations[index][name] = callback;\n        if (isString(args[nextArg])) {\n            var unit = args[nextArg++];\n            var units = NormalizationUnits[unit];\n            if (!units) {\n                units = NormalizationUnits[unit] = [];\n            }\n            units.push(callback);\n        }\n        if (args[nextArg] === false) {\n            NoCacheNormalizations.add(name);\n        }\n    }\n}\n/**\r\n * Used to check if a normalisation exists on a specific class.\r\n */\nfunction hasNormalization(args) {\n    var constructor = args[0],\n        name = args[1];\n    var index = constructors.indexOf(constructor);\n    if (index < 0 && !isString(constructor)) {\n        if (constructorCache.has(constructor)) {\n            index = constructors.indexOf(constructorCache.get(constructor));\n        } else {\n            for (var property in window) {\n                if (window[property] === constructor) {\n                    index = constructors.indexOf(property);\n                    break;\n                }\n            }\n        }\n    }\n    return index >= 0 && Normalizations[index].hasOwnProperty(name);\n}\n/**\r\n * Get the unit to add to a unitless number based on the normalization used.\r\n */\nfunction getNormalizationUnit(fn) {\n    for (var unit in NormalizationUnits) {\n        if (NormalizationUnits[unit].includes(fn)) {\n            return unit;\n        }\n    }\n    return "";\n}\n/**\r\n * Get the normalization for an element and propertyName combination. This\r\n * value should be cached at asking time, as it may change if the user adds\r\n * more normalizations.\r\n */\nfunction getNormalization(element, propertyName) {\n    var data = Data(element);\n    var fn = void 0;\n    for (var index = constructors.length - 1, types = data.types; !fn && index >= 0; index--) {\n        if (types & 1 << index) {\n            // tslint:disable-line:no-bitwise\n            fn = Normalizations[index][propertyName];\n        }\n    }\n    return fn;\n}\nregisterAction(["registerNormalization", registerNormalization]);\nregisterAction(["hasNormalization", hasNormalization]);\n\n// Project\n/**\r\n * The singular setPropertyValue, which routes the logic for all\r\n * normalizations.\r\n */\nfunction setPropertyValue(element, propertyName, propertyValue, fn) {\n    var noCache = NoCacheNormalizations.has(propertyName),\n        data = !noCache && Data(element);\n    if (noCache || data && data.cache[propertyName] !== propertyValue) {\n        // By setting it to undefined we force a true "get" later\n        if (!noCache) {\n            data.cache[propertyName] = propertyValue || undefined;\n        }\n        fn = fn || getNormalization(element, propertyName);\n        if (fn) {\n            fn(element, propertyValue);\n        }\n        if (Velocity$$1.debug >= 2) {\n            console.info("Set \\"" + propertyName + "\\": \\"" + propertyValue + "\\"", element);\n        }\n    }\n}\n\n/**\r\n * Remove nested `calc(0px + *)` or `calc(* + (0px + *))` correctly.\r\n */\nfunction removeNestedCalc(value) {\n    if (value.indexOf("calc(") >= 0) {\n        var tokens = value.split(/([\\(\\)])/);\n        var depth = 0;\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            switch (token) {\n                case "(":\n                    depth++;\n                    break;\n                case ")":\n                    depth--;\n                    break;\n                default:\n                    if (depth && token[0] === "0") {\n                        tokens[i] = token.replace(/^0[a-z%]+ \\+ /, "");\n                    }\n                    break;\n            }\n        }\n        return tokens.join("").replace(/(?:calc)?\\(([0-9\\.]+[a-z%]+)\\)/g, "$1");\n    }\n    return value;\n}\n\n/**\r\n * Cache every camelCase match to avoid repeating lookups.\r\n */\nvar cache$2 = {};\n/**\r\n * Camelcase a property name into its JavaScript notation (e.g.\r\n * "background-color" ==> "backgroundColor"). Camelcasing is used to\r\n * normalize property names between and across calls.\r\n */\nfunction camelCase(property) {\n  var fixed = cache$2[property];\n  if (fixed) {\n    return fixed;\n  }\n  return cache$2[property] = property.replace(/-([a-z])/g, function ($, letter) {\n    return letter.toUpperCase();\n  });\n}\n\n// Constants\nvar rxColor6 = /#([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})/gi,\n    rxColor3 = /#([a-f\\d])([a-f\\d])([a-f\\d])/gi,\n    rxColorName = /(rgba?\\(\\s*)?(\\b[a-z]+\\b)/g,\n    rxRGB = /rgb(a?)\\(([^\\)]+)\\)/gi,\n    rxSpaces = /\\s+/g;\n/**\r\n * This is the list of color names -> rgb values. The object is in here so\r\n * that the actual name conversion can be in a separate file and not\r\n * included for custom builds.\r\n */\nvar ColorNames = {};\n/**\r\n * Convert a hex list to an rgba value. Designed to be used in replace.\r\n */\nfunction makeRGBA(ignore, r, g, b) {\n    return "rgba(" + parseInt(r, 16) + "," + parseInt(g, 16) + "," + parseInt(b, 16) + ",1)";\n}\n/**\r\n * Replace any css colour name with its rgba() value. It is possible to use\r\n * the name within an "rgba(blue, 0.4)" string this way.\r\n */\nfunction fixColors(str) {\n    return str.replace(rxColor6, makeRGBA).replace(rxColor3, function ($0, r, g, b) {\n        return makeRGBA($0, r + r, g + g, b + b);\n    }).replace(rxColorName, function ($0, $1, $2) {\n        if (ColorNames[$2]) {\n            return ($1 ? $1 : "rgba(") + ColorNames[$2] + ($1 ? "" : ",1)");\n        }\n        return $0;\n    }).replace(rxRGB, function ($0, $1, $2) {\n        return "rgba(" + ($2.replace(rxSpaces, "") + ($1 ? "" : ",1")) + ")";\n    });\n}\n\n// Project\n/**\r\n * Figure out the dimensions for this width / height based on the\r\n * potential borders and whether we care about them.\r\n */\nfunction augmentDimension(element, name, wantInner) {\n    var isBorderBox = getPropertyValue(element, "boxSizing").toString().toLowerCase() === "border-box";\n    if (isBorderBox === wantInner) {\n        // in box-sizing mode, the CSS width / height accessors already\n        // give the outerWidth / outerHeight.\n        var sides = name === "width" ? ["Left", "Right"] : ["Top", "Bottom"],\n            fields = ["padding" + sides[0], "padding" + sides[1], "border" + sides[0] + "Width", "border" + sides[1] + "Width"];\n        var augment = 0;\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n            for (var _iterator = fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var field = _step.value;\n\n                var value = parseFloat(getPropertyValue(element, field));\n                if (!isNaN(value)) {\n                    augment += value;\n                }\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n\n        return wantInner ? -augment : augment;\n    }\n    return 0;\n}\n\n// Project\n/**\r\n * Get the width or height of an element, pulled out as it can be used when the\r\n * in two locations so don\'t want to repeat it.\r\n */\nfunction getWidthHeight(element, property) {\n    return element.getBoundingClientRect()[property] + augmentDimension(element, property, true) + "px";\n}\n// TODO: This is still a complete mess\nfunction computePropertyValue(element, property) {\n    var data = Data(element),\n\n    // If computedStyle is cached, use it. If not then get the correct one\n    // for the element to support cross-iframe boundaries.\n    computedStyle = data.computedStyle ? data.computedStyle : data.window.getComputedStyle(element, null);\n    var computedValue = 0;\n    if (!data.computedStyle) {\n        data.computedStyle = computedStyle;\n    }\n    if (computedStyle["display"] === "none") {\n        switch (property) {\n            case "width":\n            case "height":\n                // Browsers do not return height and width values for elements\n                // that are set to display:"none". Thus, we temporarily toggle\n                // display to the element type\'s default value.\n                setPropertyValue(element, "display", "auto");\n                computedValue = getWidthHeight(element, property);\n                setPropertyValue(element, "display", "none");\n                return String(computedValue);\n        }\n    }\n    /* IE and Firefox do not return a value for the generic borderColor -- they only return individual values for each border side\'s color.\r\n     Also, in all browsers, when border colors aren\'t all the same, a compound value is returned that Velocity isn\'t setup to parse.\r\n     So, as a polyfill for querying individual border side colors, we just return the top border\'s color and animate all borders from that value. */\n    /* TODO: There is a borderColor normalisation in legacy/ - figure out where this is needed... */\n    computedValue = computedStyle[property];\n    /* Fall back to the property\'s style value (if defined) when computedValue returns nothing,\r\n     which can happen when the element hasn\'t been painted. */\n    if (!computedValue) {\n        computedValue = element.style[property];\n    }\n    /* For top, right, bottom, and left (TRBL) values that are set to "auto" on elements of "fixed" or "absolute" position,\r\n     defer to jQuery for converting "auto" to a numeric value. (For elements with a "static" or "relative" position, "auto" has the same\r\n     effect as being set to 0, so no conversion is necessary.) */\n    /* An example of why numeric conversion is necessary: When an element with "position:absolute" has an untouched "left"\r\n     property, which reverts to "auto", left\'s value is 0 relative to its parent element, but is often non-zero relative\r\n     to its *containing* (not parent) element, which is the nearest "position:relative" ancestor or the viewport (and always the viewport in the case of "position:fixed"). */\n    if (computedValue === "auto") {\n        switch (property) {\n            case "width":\n            case "height":\n                computedValue = getWidthHeight(element, property);\n                break;\n            case "top":\n            case "left":\n\n            case "right":\n            case "bottom":\n                var position = getPropertyValue(element, "position");\n                if (position === "fixed" || position === "absolute") {\n                    // Note: this has no pixel unit on its returned values,\n                    // we re-add it here to conform with\n                    // computePropertyValue\'s behavior.\n                    computedValue = element.getBoundingClientRect[property] + "px";\n                    break;\n                }\n            // Deliberate fallthrough!\n            default:\n                computedValue = "0px";\n                break;\n        }\n    }\n    return computedValue ? String(computedValue) : "";\n}\n/**\r\n * Get a property value. This will grab via the cache if it exists, then\r\n * via any normalisations.\r\n */\nfunction getPropertyValue(element, propertyName, fn, skipCache) {\n    var data = Data(element);\n    var propertyValue = void 0;\n    if (NoCacheNormalizations.has(propertyName)) {\n        skipCache = true;\n    }\n    if (!skipCache && data && data.cache[propertyName] != null) {\n        propertyValue = data.cache[propertyName];\n    } else {\n        fn = fn || getNormalization(element, propertyName);\n        if (fn) {\n            propertyValue = fn(element);\n            if (data) {\n                data.cache[propertyName] = propertyValue;\n            }\n        }\n    }\n    if (Velocity$$1.debug >= 2) {\n        console.info("Get \\"" + propertyName + "\\": \\"" + propertyValue + "\\"", element);\n    }\n    return propertyValue;\n}\n\n// Project\n// Constants\nvar rxHex = /^#([A-f\\d]{3}){1,2}$/i,\n    commands = {\n    function: function _function(value, element, elements, elementArrayIndex, propertyName, tween) {\n        return value.call(element, elementArrayIndex, elements.length, propertyName);\n    },\n    number: function number(value, element, elements, elementArrayIndex, propertyName, tween) {\n        return String(value) + getNormalizationUnit(tween.fn);\n    },\n    string: function string(value, element, elements, elementArrayIndex, propertyName, tween) {\n        return fixColors(value);\n    },\n    undefined: function undefined(value, element, elements, elementArrayIndex, propertyName, tween) {\n        return fixColors(getPropertyValue(element, propertyName, tween.fn) || "");\n    }\n};\n/**\r\n * Expand a VelocityProperty argument into a valid sparse Tween array. This\r\n * pre-allocates the array as it is then the correct size and slightly\r\n * faster to access.\r\n */\nfunction expandProperties(animation, properties) {\n    var tweens = animation.tweens = Object.create(null),\n        elements = animation.elements,\n        element = animation.element,\n        elementArrayIndex = elements.indexOf(element),\n        data = Data(element),\n        queue = getValue(animation.queue, animation.options.queue),\n        duration = getValue(animation.options.duration, defaults$1.duration);\n    for (var property in properties) {\n        if (properties.hasOwnProperty(property)) {\n            var propertyName = camelCase(property),\n                fn = getNormalization(element, propertyName);\n            var valueData = properties[property];\n            if (!fn && propertyName !== "tween") {\n                if (Velocity$$1.debug) {\n                    console.log("Skipping \\"" + property + "\\" due to a lack of browser support.");\n                }\n                continue;\n            }\n            if (valueData == null) {\n                if (Velocity$$1.debug) {\n                    console.log("Skipping \\"" + property + "\\" due to no value supplied.");\n                }\n                continue;\n            }\n            var tween = tweens[propertyName] = {};\n            var endValue = void 0,\n                startValue = void 0;\n            tween.fn = fn;\n            if (isFunction(valueData)) {\n                // If we have a function as the main argument then resolve\n                // it first, in case it returns an array that needs to be\n                // split.\n                valueData = valueData.call(element, elementArrayIndex, elements.length, elements);\n            }\n            if (Array.isArray(valueData)) {\n                // valueData is an array in the form of\n                // [ endValue, [, easing] [, startValue] ]\n                var arr1 = valueData[1],\n                    arr2 = valueData[2];\n                endValue = valueData[0];\n                if (isString(arr1) && (/^[\\d-]/.test(arr1) || rxHex.test(arr1)) || isFunction(arr1) || isNumber(arr1)) {\n                    startValue = arr1;\n                } else if (isString(arr1) && Easings[arr1] || Array.isArray(arr1)) {\n                    tween.easing = validateEasing(arr1, duration);\n                    startValue = arr2;\n                } else {\n                    startValue = arr1 || arr2;\n                }\n            } else {\n                endValue = valueData;\n            }\n            tween.end = commands[typeof endValue === "undefined" ? "undefined" : _typeof(endValue)](endValue, element, elements, elementArrayIndex, propertyName, tween);\n            if (startValue != null || queue === false || data.queueList[queue] === undefined) {\n                tween.start = commands[typeof startValue === "undefined" ? "undefined" : _typeof(startValue)](startValue, element, elements, elementArrayIndex, propertyName, tween);\n                explodeTween(propertyName, tween, duration);\n            }\n        }\n    }\n}\n// TODO: Needs a better match for "translate3d" etc - a number must be preceded by some form of break...\nvar rxToken = /((?:[+\\-*/]=)?(?:[+-]?\\d*\\.\\d+|[+-]?\\d+)[a-z%]*|(?:.(?!$|[+-]?\\d|[+\\-*/]=[+-]?\\d))+.|.)/g,\n    rxNumber = /^([+\\-*/]=)?([+-]?\\d*\\.\\d+|[+-]?\\d+)(.*)$/;\n/**\r\n * Find a pattern between multiple strings, return a VelocitySequence with\r\n * the pattern and the tokenised values.\r\n *\r\n * If number then animate.\r\n * If a string then must match.\r\n * If units then convert between them by wrapping in a calc().\r\n * - If already in a calc then nest another layer.\r\n * If in an rgba() then the first three numbers are rounded.\r\n */\nfunction findPattern(parts, propertyName) {\n    var partsLength = parts.length,\n        tokens = [],\n        indexes = [];\n    var numbers = void 0;\n    // First tokenise the strings - these have all values, we will pull\n    // numbers later.\n    for (var part = 0; part < partsLength; part++) {\n        if (isString(parts[part])) {\n            if (parts[part] === "") {\n                tokens[part] = [""];\n            } else {\n                tokens[part] = cloneArray(parts[part].match(rxToken));\n            }\n            indexes[part] = 0;\n            // If it matches more than one thing then we\'ve got a number.\n            numbers = numbers || tokens[part].length > 1;\n            //console.log(`tokens:`, parts[part], tokens[part])\n        } else {\n            // We have an incomplete lineup, it will get tried again later...\n            return;\n        }\n    }\n    var sequence = [],\n        pattern = sequence.pattern = [],\n        addString = function addString(text) {\n        if (isString(pattern[pattern.length - 1])) {\n            pattern[pattern.length - 1] += text;\n        } else if (text) {\n            pattern.push(text);\n            for (var _part = 0; _part < partsLength; _part++) {\n                sequence[_part].push(null);\n            }\n        }\n    },\n        returnStringType = function returnStringType() {\n        if (numbers || pattern.length > 1) {\n            //console.error(`Velocity: Trying to pattern match mis-matched strings "${propertyName}":`, parts);\n            return;\n        }\n        var isDisplay = propertyName === "display",\n            isVisibility = propertyName === "visibility";\n        for (var _part2 = 0; _part2 < partsLength; _part2++) {\n            var value = parts[_part2];\n            sequence[_part2][0] = value;\n            // Don\'t care about duration...\n            sequence[_part2].easing = validateEasing(isDisplay && value === "none" || isVisibility && value === "hidden" || !isDisplay && !isVisibility ? "at-end" : "at-start", 400);\n        }\n        pattern[0] = false;\n        return sequence;\n    };\n    var more = true;\n    for (var _part3 = 0; _part3 < partsLength; _part3++) {\n        sequence[_part3] = [];\n    }\n    while (more) {\n        var bits = [],\n            units = [];\n        var text = void 0,\n            isUnitless = false,\n            hasNumbers = false;\n        for (var _part4 = 0; _part4 < partsLength; _part4++) {\n            var index = indexes[_part4]++,\n                token = tokens[_part4][index];\n            if (token) {\n                var num = token.match(rxNumber); // [ignore, change, number, unit]\n                if (num) {\n                    // It\'s a number, possibly with a += change and unit.\n                    if (text) {\n                        return returnStringType();\n                    }\n                    var digits = parseFloat(num[2]),\n                        unit = num[3],\n                        change = num[1] ? num[1][0] + unit : undefined,\n                        changeOrUnit = change || unit;\n                    if (digits && !units.includes(changeOrUnit)) {\n                        // Will be an empty string at the least.\n                        units.push(changeOrUnit);\n                    }\n                    if (!unit) {\n                        if (digits) {\n                            hasNumbers = true;\n                        } else {\n                            isUnitless = true;\n                        }\n                    }\n                    bits[_part4] = change ? [digits, changeOrUnit, true] : [digits, changeOrUnit];\n                } else if (bits.length) {\n                    return returnStringType();\n                } else {\n                    // It\'s a string.\n                    if (!text) {\n                        text = token;\n                    } else if (text !== token) {\n                        return returnStringType();\n                    }\n                }\n            } else if (!_part4) {\n                for (; _part4 < partsLength; _part4++) {\n                    var index2 = indexes[_part4]++;\n                    if (tokens[_part4][index2]) {\n                        return returnStringType();\n                    }\n                }\n                // IMPORTANT: This is the exit point.\n                more = false;\n                break;\n            } else {\n                // Different\n                return;\n            }\n        }\n        if (text) {\n            addString(text);\n        } else if (units.length) {\n            if (units.length === 2 && isUnitless && !hasNumbers) {\n                // If we only have two units, and one is empty, and it\'s only empty on "0", then treat us as having one unit\n                units.splice(units[0] ? 1 : 0, 1);\n            }\n            if (units.length === 1) {\n                // All the same units, so append number then unit.\n                var _unit = units[0],\n                    firstLetter = _unit[0];\n                switch (firstLetter) {\n                    case "+":\n                    case "-":\n                    case "*":\n                    case "/":\n                        if (propertyName) {\n                            console.error("Velocity: The first property must not contain a relative function \\"" + propertyName + "\\":", parts);\n                        }\n                        return;\n                }\n                pattern.push(false);\n                for (var _part5 = 0; _part5 < partsLength; _part5++) {\n                    sequence[_part5].push(bits[_part5][0]);\n                }\n                addString(_unit);\n            } else {\n                // Multiple units, so must be inside a calc.\n                addString("calc(");\n                var patternCalc = pattern.length - 1; // Store the beginning of our calc.\n                for (var i = 0; i < units.length; i++) {\n                    var _unit2 = units[i],\n                        _firstLetter = _unit2[0],\n                        isComplex = _firstLetter === "*" || _firstLetter === "/",\n                        isMaths = isComplex || _firstLetter === "+" || _firstLetter === "-";\n                    if (isComplex) {\n                        // TODO: Not sure this should be done automatically!\n                        pattern[patternCalc] += "(";\n                        addString(")");\n                    }\n                    if (i) {\n                        addString(" " + (isMaths ? _firstLetter : "+") + " ");\n                    }\n                    pattern.push(false);\n                    for (var _part6 = 0; _part6 < partsLength; _part6++) {\n                        var bit = bits[_part6],\n                            value = bit[1] === _unit2 ? bit[0] : bit.length === 3 ? sequence[_part6 - 1][sequence[_part6 - 1].length - 1] : isComplex ? 1 : 0;\n                        sequence[_part6].push(value);\n                    }\n                    addString(isMaths ? _unit2.substring(1) : _unit2);\n                }\n                addString(")");\n            }\n        }\n    }\n    // We\'ve got here, so a valid sequence - now check and fix RGB rounding\n    // and calc() nesting...\n    // TODO: Nested calc(a + calc(b + c)) -> calc(a + (b + c))\n    for (var _i = 0, inRGB = 0; _i < pattern.length; _i++) {\n        var _text = pattern[_i];\n        if (isString(_text)) {\n            if (inRGB && _text.indexOf(",") >= 0) {\n                inRGB++;\n            } else if (_text.indexOf("rgb") >= 0) {\n                inRGB = 1;\n            }\n        } else if (inRGB) {\n            if (inRGB < 4) {\n                pattern[_i] = true;\n            } else {\n                inRGB = 0;\n            }\n        }\n    }\n    return sequence;\n}\n/**\r\n * Convert a string-based tween with start and end strings, into a pattern\r\n * based tween with arrays.\r\n */\nfunction explodeTween(propertyName, tween, duration, starting) {\n    var startValue = tween.start,\n        endValue = tween.end;\n    if (!isString(endValue) || !isString(startValue)) {\n        return;\n    }\n    var sequence = findPattern([startValue, endValue], propertyName);\n    if (!sequence && starting) {\n        // This little piece will take a startValue, split out the\n        // various numbers in it, then copy the endValue into the\n        // startValue while replacing the numbers in it to match the\n        // original start numbers as a repeating sequence.\n        // Finally this function will run again with the new\n        // startValue and a now matching pattern.\n        var startNumbers = startValue.match(/\\d\\.?\\d*/g) || ["0"],\n            count = startNumbers.length;\n        var index = 0;\n        sequence = findPattern([endValue.replace(/\\d+\\.?\\d*/g, function () {\n            return startNumbers[index++ % count];\n        }), endValue], propertyName);\n    }\n    if (sequence) {\n        if (Velocity$$1.debug) {\n            console.log("Velocity: Sequence found:", sequence);\n        }\n        sequence[0].percent = 0;\n        sequence[1].percent = 1;\n        tween.sequence = sequence;\n        switch (tween.easing) {\n            case Easings["at-start"]:\n            case Easings["during"]:\n            case Easings["at-end"]:\n                sequence[0].easing = sequence[1].easing = tween.easing;\n                break;\n        }\n    }\n}\n/**\r\n * Expand all queued animations that haven\'t gone yet\r\n *\r\n * This will automatically expand the properties map for any recently added\r\n * animations so that the start and end values are correct.\r\n */\nfunction validateTweens(activeCall) {\n    // This might be called on an already-ready animation\n    if (State.firstNew === activeCall) {\n        State.firstNew = activeCall._next;\n    }\n    // Check if we\'re actually already ready\n    if (activeCall._flags & 1 /* EXPANDED */) {\n            // tslint:disable-line:no-bitwise\n            return;\n        }\n    var element = activeCall.element,\n        tweens = activeCall.tweens,\n        duration = getValue(activeCall.options.duration, defaults$1.duration);\n    // tslint:disable-next-line:forin\n    for (var propertyName in tweens) {\n        var tween = tweens[propertyName];\n        if (tween.start == null) {\n            // Get the start value as it\'s not been passed in\n            var startValue = getPropertyValue(activeCall.element, propertyName);\n            if (isString(startValue)) {\n                tween.start = fixColors(startValue);\n                explodeTween(propertyName, tween, duration, true);\n            } else if (!Array.isArray(startValue)) {\n                console.warn("bad type", tween, propertyName, startValue);\n            }\n        }\n        if (Velocity$$1.debug) {\n            console.log("tweensContainer \\"" + propertyName + "\\": " + JSON.stringify(tween), element);\n        }\n    }\n    activeCall._flags |= 1 /* EXPANDED */; // tslint:disable-line:no-bitwise\n}\n\n// Project\n/**\r\n * Call the begin method of an animation in a separate function so it can\r\n * benefit from JIT compiling while still having a try/catch block.\r\n */\nfunction beginCall(activeCall) {\n    var callback = activeCall.begin || activeCall.options.begin;\n    if (callback) {\n        try {\n            var elements = activeCall.elements;\n            callback.call(elements, elements, activeCall);\n        } catch (error) {\n            setTimeout(function () {\n                throw error;\n            }, 1);\n        }\n    }\n}\n/**\r\n * Call the progress method of an animation in a separate function so it can\r\n * benefit from JIT compiling while still having a try/catch block.\r\n */\nfunction progressCall(activeCall) {\n    var callback = activeCall.progress || activeCall.options.progress;\n    if (callback) {\n        try {\n            var elements = activeCall.elements,\n                percentComplete = activeCall.percentComplete,\n                options = activeCall.options,\n                tweenValue = activeCall.tween;\n            callback.call(elements, elements, percentComplete, Math.max(0, activeCall.timeStart + (activeCall.duration != null ? activeCall.duration : options.duration != null ? options.duration : defaults$1.duration) - lastTick), tweenValue !== undefined ? tweenValue : String(percentComplete * 100), activeCall);\n        } catch (error) {\n            setTimeout(function () {\n                throw error;\n            }, 1);\n        }\n    }\n}\n/**\r\n * Call callbacks, potentially run async with the main animation thread.\r\n */\nfunction asyncCallbacks() {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n        for (var _iterator = progressed[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var activeCall = _step.value;\n\n            progressCall(activeCall);\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n            }\n        } finally {\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n\n    progressed.clear();\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n        for (var _iterator2 = completed[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var _activeCall = _step2.value;\n\n            completeCall(_activeCall);\n        }\n    } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                _iterator2.return();\n            }\n        } finally {\n            if (_didIteratorError2) {\n                throw _iteratorError2;\n            }\n        }\n    }\n\n    completed.clear();\n}\n/**************\r\n Timing\r\n **************/\nvar FRAME_TIME = 1000 / 60,\n\n/**\r\n * Animations with a Complete callback.\r\n */\ncompleted = new Set(),\n\n/**\r\n * Animations with a Progress callback.\r\n */\nprogressed = new Set(),\n\n/**\r\n * Shim for window.performance in case it doesn\'t exist\r\n */\nperformance = function () {\n    var perf = window.performance || {};\n    if (typeof perf.now !== "function") {\n        var nowOffset = perf.timing && perf.timing.navigationStart ? perf.timing.navigationStart : now();\n        perf.now = function () {\n            return now() - nowOffset;\n        };\n    }\n    return perf;\n}(),\n\n/**\r\n * Proxy function for when rAF is not available.\r\n *\r\n * This should hopefully never be used as the browsers often throttle\r\n * this to less than one frame per second in the background, making it\r\n * completely unusable.\r\n */\nrAFProxy = function rAFProxy(callback) {\n    return setTimeout(callback, Math.max(0, FRAME_TIME - (performance.now() - lastTick)));\n},\n\n/**\r\n * Either requestAnimationFrame, or a shim for it.\r\n */\nrAFShim = window.requestAnimationFrame || rAFProxy;\n/**\r\n * Set if we are currently inside a tick() to prevent double-calling.\r\n */\nvar ticking = void 0,\n\n/**\r\n * A background WebWorker that sends us framerate messages when we\'re in\r\n * the background. Without this we cannot maintain frame accuracy.\r\n */\nworker = void 0;\n/**\r\n * The time that the last animation frame ran at. Set from tick(), and used\r\n * for missing rAF (ie, when not in focus etc).\r\n */\nvar lastTick = 0;\n/**\r\n * WebWorker background function.\r\n *\r\n * When we\'re in the background this will send us a msg every tick, when in\r\n * the foreground it won\'t.\r\n *\r\n * When running in the background the browser reduces allowed CPU etc, so\r\n * we raun at 30fps instead of 60fps.\r\n */\nfunction workerFn() {\n    var _this = this;\n\n    var interval = void 0;\n    this.onmessage = function (e) {\n        switch (e.data) {\n            case true:\n                if (!interval) {\n                    interval = setInterval(function () {\n                        _this.postMessage(true);\n                    }, 1000 / 30);\n                }\n                break;\n            case false:\n                if (interval) {\n                    clearInterval(interval);\n                    interval = 0;\n                }\n                break;\n            default:\n                _this.postMessage(e.data);\n                break;\n        }\n    };\n}\ntry {\n    // Create the worker - this might not be supported, hence the try/catch.\n    worker = new Worker(URL.createObjectURL(new Blob(["(" + workerFn + ")()"])));\n    // Whenever the worker sends a message we tick()\n    worker.onmessage = function (e) {\n        if (e.data === true) {\n            tick();\n        } else {\n            asyncCallbacks();\n        }\n    };\n    // And watch for going to the background to start the WebWorker running.\n    if (!State.isMobile && document.hidden !== undefined) {\n        document.addEventListener("visibilitychange", function () {\n            worker.postMessage(State.isTicking && document.hidden);\n        });\n    }\n} catch (e) {}\n/*\r\n * WebWorkers are not supported in this format. This can happen in IE10\r\n * where it can\'t create one from a blob this way. We fallback, but make\r\n * no guarantees towards accuracy in this case.\r\n */\n\n/**\r\n * Called on every tick, preferably through rAF. This is reponsible for\r\n * initialising any new animations, then starting any that need starting.\r\n * Finally it will expand any tweens and set the properties relating to\r\n * them. If there are any callbacks relating to the animations then they\r\n * will attempt to call at the end (with the exception of "begin").\r\n */\nfunction tick(timestamp) {\n    if (ticking) {\n        // Should never happen - but if we\'ve swapped back from hidden to\n        // visibile then we want to make sure\n        return;\n    }\n    ticking = true;\n    /* An empty timestamp argument indicates that this is the first tick occurence since ticking was turned on.\r\n     We leverage this metadata to fully ignore the first tick pass since RAF\'s initial pass is fired whenever\r\n     the browser\'s next tick sync time occurs, which results in the first elements subjected to Velocity\r\n     calls being animated out of sync with any elements animated immediately thereafter. In short, we ignore\r\n     the first RAF tick pass so that elements being immediately consecutively animated -- instead of simultaneously animated\r\n     by the same Velocity call -- are properly batched into the same initial RAF tick and consequently remain in sync thereafter. */\n    if (timestamp !== false) {\n        var timeCurrent = performance.now(),\n            deltaTime = lastTick ? timeCurrent - lastTick : FRAME_TIME,\n            defaultSpeed = defaults$1.speed,\n            defaultEasing = defaults$1.easing,\n            defaultDuration = defaults$1.duration;\n        var activeCall = void 0,\n            nextCall = void 0;\n        if (deltaTime >= defaults$1.minFrameTime || !lastTick) {\n            lastTick = timeCurrent;\n            /********************\r\n             Call Iteration\r\n             ********************/\n            // Expand any tweens that might need it.\n            while (State.firstNew) {\n                validateTweens(State.firstNew);\n            }\n            // Iterate through each active call.\n            for (activeCall = State.first; activeCall && activeCall !== State.firstNew; activeCall = activeCall._next) {\n                var element = activeCall.element,\n                    data = Data(element);\n                // Check to see if this element has been deleted midway\n                // through the animation. If it\'s gone then end this\n                // animation.\n                if (!element.parentNode || !data) {\n                    // TODO: Remove safely - decrease count, delete data, remove from arrays\n                    freeAnimationCall(activeCall);\n                    continue;\n                }\n                // Don\'t bother getting until we can use these.\n                var options = activeCall.options,\n                    flags = activeCall._flags;\n                var timeStart = activeCall.timeStart;\n                // If this is the first time that this call has been\n                // processed by tick() then we assign timeStart now so that\n                // it\'s value is as close to the real animation start time\n                // as possible.\n                if (!timeStart) {\n                    var queue = activeCall.queue != null ? activeCall.queue : options.queue;\n                    timeStart = timeCurrent - deltaTime;\n                    if (queue !== false) {\n                        timeStart = Math.max(timeStart, data.lastFinishList[queue] || 0);\n                    }\n                    activeCall.timeStart = timeStart;\n                }\n                // If this animation is paused then skip processing unless\n                // it has been set to resume.\n                if (flags & 16 /* PAUSED */) {\n                        // tslint:disable-line:no-bitwise\n                        // Update the time start to accomodate the paused\n                        // completion amount.\n                        activeCall.timeStart += deltaTime;\n                        continue;\n                    }\n                // Check if this animation is ready - if it\'s synced then it\n                // needs to wait for all other animations in the sync\n                if (!(flags & 2 /* READY */)) {\n                    // tslint:disable-line:no-bitwise\n                    activeCall._flags |= 2 /* READY */; // tslint:disable-line:no-bitwise\n                    options._ready++;\n                }\n            }\n            // Need to split the loop, as ready sync animations must all get\n            // the same start time.\n            for (activeCall = State.first; activeCall && activeCall !== State.firstNew; activeCall = nextCall) {\n                var _flags = activeCall._flags;\n                nextCall = activeCall._next;\n                if (!(_flags & 2 /* READY */) || _flags & 16 /* PAUSED */) {\n                    // tslint:disable-line:no-bitwise\n                    continue;\n                }\n                var _options = activeCall.options;\n                if (_flags & 32 /* SYNC */ && _options._ready < _options._total) {\n                    // tslint:disable-line:no-bitwise\n                    activeCall.timeStart += deltaTime;\n                    continue;\n                }\n                var speed = activeCall.speed != null ? activeCall.speed : _options.speed != null ? _options.speed : defaultSpeed;\n                var _timeStart = activeCall.timeStart;\n                // Don\'t bother getting until we can use these.\n                if (!(_flags & 4 /* STARTED */)) {\n                    // tslint:disable-line:no-bitwise\n                    var delay = activeCall.delay != null ? activeCall.delay : _options.delay;\n                    // Make sure anything we\'ve delayed doesn\'t start\n                    // animating yet, there might still be an active delay\n                    // after something has been un-paused\n                    if (delay) {\n                        if (_timeStart + delay / speed > timeCurrent) {\n                            continue;\n                        }\n                        activeCall.timeStart = _timeStart += delay / (delay > 0 ? speed : 1);\n                    }\n                    activeCall._flags |= 4 /* STARTED */; // tslint:disable-line:no-bitwise\n                    // The begin callback is fired once per call, not once\n                    // per element, and is passed the full raw DOM element\n                    // set as both its context and its first argument.\n                    if (_options._started++ === 0) {\n                        _options._first = activeCall;\n                        if (_options.begin) {\n                            // Pass to an external fn with a try/catch block for optimisation\n                            beginCall(activeCall);\n                            // Only called once, even if reversed or repeated\n                            _options.begin = undefined;\n                        }\n                    }\n                }\n                if (speed !== 1) {\n                    // On the first frame we may have a shorter delta\n                    // const delta = Math.min(deltaTime, timeCurrent - timeStart);\n                    activeCall.timeStart = _timeStart += Math.min(deltaTime, timeCurrent - _timeStart) * (1 - speed);\n                }\n                var activeEasing = activeCall.easing != null ? activeCall.easing : _options.easing != null ? _options.easing : defaultEasing,\n                    millisecondsEllapsed = activeCall.ellapsedTime = timeCurrent - _timeStart,\n                    duration = activeCall.duration != null ? activeCall.duration : _options.duration != null ? _options.duration : defaultDuration,\n                    percentComplete = activeCall.percentComplete = Velocity$$1.mock ? 1 : Math.min(millisecondsEllapsed / duration, 1),\n                    tweens = activeCall.tweens,\n                    reverse = _flags & 64 /* REVERSE */; // tslint:disable-line:no-bitwise\n                if (activeCall.progress || _options._first === activeCall && _options.progress) {\n                    progressed.add(activeCall);\n                }\n                if (percentComplete === 1) {\n                    completed.add(activeCall);\n                }\n                // tslint:disable-next-line:forin\n                for (var property in tweens) {\n                    // For every element, iterate through each property.\n                    var tween = tweens[property],\n                        sequence = tween.sequence,\n                        pattern = sequence.pattern;\n                    var currentValue = "",\n                        i = 0;\n                    if (pattern) {\n                        var easingComplete = (tween.easing || activeEasing)(percentComplete, 0, 1, property);\n                        var best = 0;\n                        for (var j = 0; j < sequence.length - 1; j++) {\n                            if (sequence[j].percent < easingComplete) {\n                                best = j;\n                            }\n                        }\n                        var tweenFrom = sequence[best],\n                            tweenTo = sequence[best + 1] || tweenFrom,\n                            rawPercent = (percentComplete - tweenFrom.percent) / (tweenTo.percent - tweenFrom.percent),\n                            tweenPercent = reverse ? 1 - rawPercent : rawPercent,\n                            easing = tweenTo.easing || activeEasing || linearEasing;\n                        for (; i < pattern.length; i++) {\n                            var startValue = tweenFrom[i];\n                            if (startValue == null) {\n                                currentValue += pattern[i];\n                            } else {\n                                var endValue = tweenTo[i];\n                                if (startValue === endValue) {\n                                    currentValue += startValue;\n                                } else {\n                                    // All easings must deal with numbers except for our internal ones.\n                                    var result = easing(tweenPercent, startValue, endValue, property);\n                                    currentValue += pattern[i] !== true ? result : Math.round(result);\n                                }\n                            }\n                        }\n                        if (property !== "tween") {\n                            if (percentComplete === 1) {\n                                currentValue = removeNestedCalc(currentValue);\n                            }\n                            // TODO: To solve an IE<=8 positioning bug, the unit type must be dropped when setting a property value of 0 - add normalisations to legacy\n                            setPropertyValue(activeCall.element, property, currentValue, tween.fn);\n                        } else {\n                            // Skip the fake \'tween\' property as that is only\n                            // passed into the progress callback.\n                            activeCall.tween = currentValue;\n                        }\n                    } else {\n                        console.warn("VelocityJS: Missing pattern:", property, JSON.stringify(tween[property]));\n                        delete tweens[property];\n                    }\n                }\n            }\n            if (progressed.size || completed.size) {\n                if (!document.hidden) {\n                    asyncCallbacks();\n                } else if (worker) {\n                    worker.postMessage("");\n                } else {\n                    setTimeout(asyncCallbacks, 1);\n                }\n            }\n        }\n    }\n    if (State.first) {\n        State.isTicking = true;\n        if (!document.hidden) {\n            rAFShim(tick);\n        } else if (!worker) {\n            rAFProxy(tick);\n        } else if (timestamp === false) {\n            // Make sure we turn on the messages.\n            worker.postMessage(true);\n        }\n    } else {\n        State.isTicking = false;\n        lastTick = 0;\n        if (document.hidden && worker) {\n            // Make sure we turn off the messages.\n            worker.postMessage(false);\n        }\n    }\n    ticking = false;\n}\n\n// Project\n/**\r\n * Check if an animation should be finished, and if so we set the tweens to\r\n * the final value for it, then call complete.\r\n */\nfunction checkAnimationShouldBeFinished(animation, queueName, defaultQueue) {\n    validateTweens(animation);\n    if (queueName === undefined || queueName === getValue(animation.queue, animation.options.queue, defaultQueue)) {\n        if (!(animation._flags & 4 /* STARTED */)) {\n            // tslint:disable-line:no-bitwise\n            // Copied from tick.ts - ensure that the animation is completely\n            // valid and run begin() before complete().\n            var options = animation.options;\n            // The begin callback is fired once per call, not once per\n            // element, and is passed the full raw DOM element set as both\n            // its context and its first argument.\n            if (options._started++ === 0) {\n                options._first = animation;\n                if (options.begin) {\n                    // Pass to an external fn with a try/catch block for optimisation\n                    beginCall(animation);\n                    // Only called once, even if reversed or repeated\n                    options.begin = undefined;\n                }\n            }\n            animation._flags |= 4 /* STARTED */; // tslint:disable-line:no-bitwise\n        }\n        // tslint:disable-next-line:forin\n        for (var property in animation.tweens) {\n            var tween = animation.tweens[property],\n                sequence = tween.sequence,\n                pattern = sequence.pattern;\n            var currentValue = "",\n                i = 0;\n            if (pattern) {\n                var endValues = sequence[sequence.length - 1];\n                for (; i < pattern.length; i++) {\n                    var endValue = endValues[i];\n                    currentValue += endValue == null ? pattern[i] : endValue;\n                }\n            }\n            setPropertyValue(animation.element, property, currentValue, tween.fn);\n        }\n        completeCall(animation);\n    }\n}\n/**\r\n * When the finish action is triggered, the elements\' currently active call is\r\n * immediately finished. When an element is finished, the next item in its\r\n * animation queue is immediately triggered. If passed via a chained call\r\n * then this will only target the animations in that call, and not the\r\n * elements linked to it.\r\n *\r\n * A queue name may be passed in to specify that only animations on the\r\n * named queue are finished. The default queue is named "". In addition the\r\n * value of `false` is allowed for the queue name.\r\n *\r\n * An final argument may be passed in to clear an element\'s remaining queued\r\n * calls. This may only be the value `true`.\r\n */\nfunction finish(args, elements, promiseHandler) {\n    var queueName = validateQueue(args[0], true),\n        defaultQueue = defaults$1.queue,\n        finishAll = args[queueName === undefined ? 0 : 1] === true;\n    if (isVelocityResult(elements) && elements.velocity.animations) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n            for (var _iterator = elements.velocity.animations[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var animation = _step.value;\n\n                checkAnimationShouldBeFinished(animation, queueName, defaultQueue);\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n    } else {\n        while (State.firstNew) {\n            validateTweens(State.firstNew);\n        }\n        for (var activeCall = State.first, nextCall; activeCall && (finishAll || activeCall !== State.firstNew); activeCall = nextCall || State.firstNew) {\n            nextCall = activeCall._next;\n            if (!elements || elements.includes(activeCall.element)) {\n                checkAnimationShouldBeFinished(activeCall, queueName, defaultQueue);\n            }\n        }\n    }\n    if (promiseHandler) {\n        if (isVelocityResult(elements) && elements.velocity.animations && elements.then) {\n            elements.then(promiseHandler._resolver);\n        } else {\n            promiseHandler._resolver(elements);\n        }\n    }\n}\nregisterAction(["finish", finish], true);\n\n/**\r\n * Used to map getters for the various AnimationFlags.\r\n */\nvar animationFlags = {\n    isExpanded: 1 /* EXPANDED */\n    , isReady: 2 /* READY */\n    , isStarted: 4 /* STARTED */\n    , isStopped: 8 /* STOPPED */\n    , isPaused: 16 /* PAUSED */\n    , isSync: 32 /* SYNC */\n    , isReverse: 64 /* REVERSE */\n};\n/**\r\n * Get or set an option or running AnimationCall data value. If there is no\r\n * value passed then it will get, otherwise we will set.\r\n *\r\n * NOTE: When using "get" this will not touch the Promise as it is never\r\n * returned to the user.\r\n */\nfunction option(args, elements, promiseHandler, action) {\n    var key = args[0],\n        queue = action.indexOf(".") >= 0 ? action.replace(/^.*\\./, "") : undefined,\n        queueName = queue === "false" ? false : validateQueue(queue, true);\n    var animations = void 0,\n        value = args[1];\n    if (!key) {\n        console.warn("VelocityJS: Cannot access a non-existant key!");\n        return null;\n    }\n    // If we\'re chaining the return value from Velocity then we are only\n    // interested in the values related to that call\n    if (isVelocityResult(elements) && elements.velocity.animations) {\n        animations = elements.velocity.animations;\n    } else {\n        animations = [];\n        for (var activeCall = State.first; activeCall; activeCall = activeCall._next) {\n            if (elements.indexOf(activeCall.element) >= 0 && getValue(activeCall.queue, activeCall.options.queue) === queueName) {\n                animations.push(activeCall);\n            }\n        }\n        // If we\'re dealing with multiple elements that are pointing at a\n        // single running animation, then instead treat them as a single\n        // animation.\n        if (elements.length > 1 && animations.length > 1) {\n            var i = 1,\n                options = animations[0].options;\n            while (i < animations.length) {\n                if (animations[i++].options !== options) {\n                    options = null;\n                    break;\n                }\n            }\n            // TODO: this needs to check that they\'re actually a sync:true animation to merge the results, otherwise the individual values may be different\n            if (options) {\n                animations = [animations[0]];\n            }\n        }\n    }\n    // GET\n    if (value === undefined) {\n        var result = [],\n            flag = animationFlags[key];\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n            for (var _iterator = animations[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var animation = _step.value;\n\n                if (flag === undefined) {\n                    // A normal key to get.\n                    result.push(getValue(animation[key], animation.options[key]));\n                } else {\n                    // A flag that we\'re checking against.\n                    result.push((animation._flags & flag) === 0); // tslint:disable-line:no-bitwise\n                }\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n\n        if (elements.length === 1 && animations.length === 1) {\n            // If only a single animation is found and we\'re only targetting a\n            // single element, then return the value directly\n            return result[0];\n        }\n        return result;\n    }\n    // SET\n    var isPercentComplete = void 0;\n    switch (key) {\n        case "cache":\n            value = validateCache(value);\n            break;\n        case "begin":\n            value = validateBegin(value);\n            break;\n        case "complete":\n            value = validateComplete(value);\n            break;\n        case "delay":\n            value = validateDelay(value);\n            break;\n        case "duration":\n            value = validateDuration(value);\n            break;\n        case "fpsLimit":\n            value = validateFpsLimit(value);\n            break;\n        case "loop":\n            value = validateLoop(value);\n            break;\n        case "percentComplete":\n            isPercentComplete = true;\n            value = parseFloat(value);\n            break;\n        case "repeat":\n        case "repeatAgain":\n            value = validateRepeat(value);\n            break;\n        default:\n            if (key[0] !== "_") {\n                var num = parseFloat(value);\n                if (value === String(num)) {\n                    value = num;\n                }\n                break;\n            }\n        // deliberate fallthrough\n        case "queue":\n        case "promise":\n        case "promiseRejectEmpty":\n        case "easing":\n        case "started":\n            console.warn("VelocityJS: Trying to set a read-only key:", key);\n            return;\n    }\n    if (value === undefined || value !== value) {\n        console.warn("VelocityJS: Trying to set an invalid value:" + key + "=" + value + " (" + args[1] + ")");\n        return null;\n    }\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n        for (var _iterator2 = animations[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var _animation = _step2.value;\n\n            if (isPercentComplete) {\n                _animation.timeStart = lastTick - getValue(_animation.duration, _animation.options.duration, defaults$1.duration) * value;\n            } else {\n                _animation[key] = value;\n            }\n        }\n    } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                _iterator2.return();\n            }\n        } finally {\n            if (_didIteratorError2) {\n                throw _iteratorError2;\n            }\n        }\n    }\n\n    if (promiseHandler) {\n        if (isVelocityResult(elements) && elements.velocity.animations && elements.then) {\n            elements.then(promiseHandler._resolver);\n        } else {\n            promiseHandler._resolver(elements);\n        }\n    }\n}\nregisterAction(["option", option], true);\n\n// Project\n/**\r\n * Check if an animation should be paused / resumed.\r\n */\nfunction checkAnimation(animation, queueName, defaultQueue, isPaused) {\n    if (queueName === undefined || queueName === getValue(animation.queue, animation.options.queue, defaultQueue)) {\n        if (isPaused) {\n            animation._flags |= 16 /* PAUSED */; // tslint:disable-line:no-bitwise\n        } else {\n            animation._flags &= ~16 /* PAUSED */; // tslint:disable-line:no-bitwise\n        }\n    }\n}\n/**\r\n * Pause and Resume are call-wide (not on a per element basis). Thus, calling pause or resume on a\r\n * single element will cause any calls that contain tweens for that element to be paused/resumed\r\n * as well.\r\n */\nfunction pauseResume(args, elements, promiseHandler, action) {\n    var isPaused = action.indexOf("pause") === 0,\n        queue = action.indexOf(".") >= 0 ? action.replace(/^.*\\./, "") : undefined,\n        queueName = queue === "false" ? false : validateQueue(args[0]),\n        defaultQueue = defaults$1.queue;\n    if (isVelocityResult(elements) && elements.velocity.animations) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n            for (var _iterator = elements.velocity.animations[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var animation = _step.value;\n\n                checkAnimation(animation, queueName, defaultQueue, isPaused);\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n    } else {\n        var activeCall = State.first;\n        while (activeCall) {\n            if (!elements || elements.includes(activeCall.element)) {\n                checkAnimation(activeCall, queueName, defaultQueue, isPaused);\n            }\n            activeCall = activeCall._next;\n        }\n    }\n    if (promiseHandler) {\n        if (isVelocityResult(elements) && elements.velocity.animations && elements.then) {\n            elements.then(promiseHandler._resolver);\n        } else {\n            promiseHandler._resolver(elements);\n        }\n    }\n}\nregisterAction(["pause", pauseResume], true);\nregisterAction(["resume", pauseResume], true);\n\n// Project\n/**\r\n * Get or set a style of Nomralised property value on one or more elements.\r\n * If there is no value passed then it will get, otherwise we will set.\r\n *\r\n * NOTE: When using "get" this will not touch the Promise as it is never\r\n * returned to the user.\r\n *\r\n * This can fail to set, and will reject the Promise if it does so.\r\n *\r\n * Velocity(elements, "style", "property", "value") => elements;\r\n * Velocity(elements, "style", {"property": "value", ...}) => elements;\r\n * Velocity(element, "style", "property") => "value";\r\n * Velocity(elements, "style", "property") => ["value", ...];\r\n */\nfunction propertyAction(args, elements, promiseHandler, action) {\n    var property = args[0],\n        value = args[1];\n    if (!property) {\n        console.warn("VelocityJS: Cannot access a non-existant property!");\n        return null;\n    }\n    // GET\n    if (value === undefined && !isPlainObject(property)) {\n        if (Array.isArray(property)) {\n            if (elements.length === 1) {\n                var result = {};\n                var _iteratorNormalCompletion = true;\n                var _didIteratorError = false;\n                var _iteratorError = undefined;\n\n                try {\n                    for (var _iterator = property[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                        var prop = _step.value;\n\n                        result[prop] = fixColors(getPropertyValue(elements[0], prop));\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return) {\n                            _iterator.return();\n                        }\n                    } finally {\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n\n                return result;\n            } else {\n                var _result = [];\n                var _iteratorNormalCompletion2 = true;\n                var _didIteratorError2 = false;\n                var _iteratorError2 = undefined;\n\n                try {\n                    for (var _iterator2 = elements[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                        var element = _step2.value;\n\n                        var res = {};\n                        var _iteratorNormalCompletion3 = true;\n                        var _didIteratorError3 = false;\n                        var _iteratorError3 = undefined;\n\n                        try {\n                            for (var _iterator3 = property[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                                var _prop = _step3.value;\n\n                                res[_prop] = fixColors(getPropertyValue(element, _prop));\n                            }\n                        } catch (err) {\n                            _didIteratorError3 = true;\n                            _iteratorError3 = err;\n                        } finally {\n                            try {\n                                if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                                    _iterator3.return();\n                                }\n                            } finally {\n                                if (_didIteratorError3) {\n                                    throw _iteratorError3;\n                                }\n                            }\n                        }\n\n                        _result.push(res);\n                    }\n                } catch (err) {\n                    _didIteratorError2 = true;\n                    _iteratorError2 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                            _iterator2.return();\n                        }\n                    } finally {\n                        if (_didIteratorError2) {\n                            throw _iteratorError2;\n                        }\n                    }\n                }\n\n                return _result;\n            }\n        } else {\n            // If only a single animation is found and we\'re only targetting a\n            // single element, then return the value directly\n            if (elements.length === 1) {\n                return fixColors(getPropertyValue(elements[0], property));\n            }\n            var _result2 = [];\n            var _iteratorNormalCompletion4 = true;\n            var _didIteratorError4 = false;\n            var _iteratorError4 = undefined;\n\n            try {\n                for (var _iterator4 = elements[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                    var _element = _step4.value;\n\n                    _result2.push(fixColors(getPropertyValue(_element, property)));\n                }\n            } catch (err) {\n                _didIteratorError4 = true;\n                _iteratorError4 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                        _iterator4.return();\n                    }\n                } finally {\n                    if (_didIteratorError4) {\n                        throw _iteratorError4;\n                    }\n                }\n            }\n\n            return _result2;\n        }\n    }\n    // SET\n    var error = [];\n    if (isPlainObject(property)) {\n        for (var propertyName in property) {\n            if (property.hasOwnProperty(propertyName)) {\n                var _iteratorNormalCompletion5 = true;\n                var _didIteratorError5 = false;\n                var _iteratorError5 = undefined;\n\n                try {\n                    for (var _iterator5 = elements[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n                        var _element2 = _step5.value;\n\n                        var propertyValue = property[propertyName];\n                        if (isString(propertyValue) || isNumber(propertyValue)) {\n                            setPropertyValue(_element2, propertyName, property[propertyName]);\n                        } else {\n                            error.push("Cannot set a property \\"" + propertyName + "\\" to an unknown type: " + (typeof propertyValue === "undefined" ? "undefined" : _typeof(propertyValue)));\n                            console.warn("VelocityJS: Cannot set a property \\"" + propertyName + "\\" to an unknown type:", propertyValue);\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError5 = true;\n                    _iteratorError5 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion5 && _iterator5.return) {\n                            _iterator5.return();\n                        }\n                    } finally {\n                        if (_didIteratorError5) {\n                            throw _iteratorError5;\n                        }\n                    }\n                }\n            }\n        }\n    } else if (isString(value) || isNumber(value)) {\n        var _iteratorNormalCompletion6 = true;\n        var _didIteratorError6 = false;\n        var _iteratorError6 = undefined;\n\n        try {\n            for (var _iterator6 = elements[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n                var _element3 = _step6.value;\n\n                setPropertyValue(_element3, property, String(value));\n            }\n        } catch (err) {\n            _didIteratorError6 = true;\n            _iteratorError6 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion6 && _iterator6.return) {\n                    _iterator6.return();\n                }\n            } finally {\n                if (_didIteratorError6) {\n                    throw _iteratorError6;\n                }\n            }\n        }\n    } else {\n        error.push("Cannot set a property \\"" + property + "\\" to an unknown type: " + (typeof value === "undefined" ? "undefined" : _typeof(value)));\n        console.warn("VelocityJS: Cannot set a property \\"" + property + "\\" to an unknown type:", value);\n    }\n    if (promiseHandler) {\n        if (error.length) {\n            promiseHandler._rejecter(error.join(", "));\n        } else if (isVelocityResult(elements) && elements.velocity.animations && elements.then) {\n            elements.then(promiseHandler._resolver);\n        } else {\n            promiseHandler._resolver(elements);\n        }\n    }\n}\nregisterAction(["property", propertyAction], true);\n\n// Project\nregisterAction(["reverse", function (args, elements, promiseHandler, action) {\n        // NOTE: Code needs to split out before here - but this is needed to prevent it being overridden\n        throw new SyntaxError("VelocityJS: The \'reverse\' action is built in and private.");\n}], true);\n\n// Project\n/**\r\n * Check if an animation should be stopped, and if so then set the STOPPED\r\n * flag on it, then call complete.\r\n */\nfunction checkAnimationShouldBeStopped(animation, queueName, defaultQueue) {\n    validateTweens(animation);\n    if (queueName === undefined || queueName === getValue(animation.queue, animation.options.queue, defaultQueue)) {\n        animation._flags |= 8 /* STOPPED */; // tslint:disable-line:no-bitwise\n        completeCall(animation);\n    }\n}\n/**\r\n * When the stop action is triggered, the elements\' currently active call is\r\n * immediately stopped. When an element is stopped, the next item in its\r\n * animation queue is immediately triggered. If passed via a chained call\r\n * then this will only target the animations in that call, and not the\r\n * elements linked to it.\r\n *\r\n * A queue name may be passed in to specify that only animations on the\r\n * named queue are stopped. The default queue is named "". In addition the\r\n * value of `false` is allowed for the queue name.\r\n *\r\n * An final argument may be passed in to clear an element\'s remaining queued\r\n * calls. This may only be the value `true`.\r\n *\r\n * Note: The stop command runs prior to Velocity\'s Queueing phase since its\r\n * behavior is intended to take effect *immediately*, regardless of the\r\n * element\'s current queue state.\r\n */\nfunction stop(args, elements, promiseHandler, action) {\n    var queueName = validateQueue(args[0], true),\n        defaultQueue = defaults$1.queue,\n        finishAll = args[queueName === undefined ? 0 : 1] === true;\n    if (isVelocityResult(elements) && elements.velocity.animations) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n            for (var _iterator = elements.velocity.animations[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var animation = _step.value;\n\n                checkAnimationShouldBeStopped(animation, queueName, defaultQueue);\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n    } else {\n        while (State.firstNew) {\n            validateTweens(State.firstNew);\n        }\n        for (var activeCall = State.first, nextCall; activeCall && (finishAll || activeCall !== State.firstNew); activeCall = nextCall || State.firstNew) {\n            nextCall = activeCall._next;\n            if (!elements || elements.includes(activeCall.element)) {\n                checkAnimationShouldBeStopped(activeCall, queueName, defaultQueue);\n            }\n        }\n    }\n    if (promiseHandler) {\n        if (isVelocityResult(elements) && elements.velocity.animations && elements.then) {\n            elements.then(promiseHandler._resolver);\n        } else {\n            promiseHandler._resolver(elements);\n        }\n    }\n}\nregisterAction(["stop", stop], true);\n\n// Project\nregisterAction(["style", propertyAction], true);\n\n// Project\n/**\r\n *\r\n */\nfunction tweenAction(args, elements, promiseHandler, action) {\n    var requireForcefeeding = void 0;\n    if (!elements) {\n        if (!args.length) {\n            console.info("Velocity(<element>, \\"tween\\", percentComplete, property, end | [end, <easing>, <start>], <easing>) => value\\nVelocity(<element>, \\"tween\\", percentComplete, {property: end | [end, <easing>, <start>], ...}, <easing>) => {property: value, ...}");\n            return null;\n        }\n        elements = [document.body];\n        requireForcefeeding = true;\n    } else if (elements.length !== 1) {\n        // TODO: Allow more than a single element to return an array of results\n        throw new Error("VelocityJS: Cannot tween more than one element!");\n    }\n    var percentComplete = args[0],\n        fakeAnimation = {\n        elements: elements,\n        element: elements[0],\n        queue: false,\n        options: {\n            duration: 1000\n        },\n        tweens: null\n    },\n        result = {};\n    var properties = args[1],\n        singleResult = void 0,\n        maybeSequence = void 0,\n        easing = args[2],\n        count = 0;\n    if (isString(args[1])) {\n        if (SequencesObject && SequencesObject[args[1]]) {\n            maybeSequence = SequencesObject[args[1]];\n            properties = {};\n            easing = args[2];\n        } else {\n            singleResult = true;\n            properties = defineProperty({}, args[1], args[2]);\n            easing = args[3];\n        }\n    } else if (Array.isArray(args[1])) {\n        singleResult = true;\n        properties = {\n            tween: args[1]\n        };\n        easing = args[2];\n    }\n    if (!isNumber(percentComplete) || percentComplete < 0 || percentComplete > 1) {\n        throw new Error("VelocityJS: Must tween a percentage from 0 to 1!");\n    }\n    if (!isPlainObject(properties)) {\n        throw new Error("VelocityJS: Cannot tween an invalid property!");\n    }\n    if (requireForcefeeding) {\n        for (var property in properties) {\n            if (properties.hasOwnProperty(property) && (!Array.isArray(properties[property]) || properties[property].length < 2)) {\n                throw new Error("VelocityJS: When not supplying an element you must force-feed values: " + property);\n            }\n        }\n    }\n    var activeEasing = validateEasing(getValue(easing, defaults$1.easing), DEFAULT_DURATION);\n    if (maybeSequence) {\n        expandSequence(fakeAnimation, maybeSequence);\n    } else {\n        expandProperties(fakeAnimation, properties);\n    }\n    // tslint:disable-next-line:forin\n    for (var _property in fakeAnimation.tweens) {\n        // For every element, iterate through each property.\n        var propertyTween = fakeAnimation.tweens[_property],\n            sequence = propertyTween.sequence,\n            pattern = sequence.pattern;\n        var currentValue = "",\n            i = 0;\n        count++;\n        if (pattern) {\n            var easingComplete = (propertyTween.easing || activeEasing)(percentComplete, 0, 1, _property);\n            var best = 0;\n            for (var j = 0; j < sequence.length - 1; j++) {\n                if (sequence[j].percent < easingComplete) {\n                    best = j;\n                }\n            }\n            var tweenFrom = sequence[best],\n                tweenTo = sequence[best + 1] || tweenFrom,\n                tweenPercent = (percentComplete - tweenFrom.percent) / (tweenTo.percent - tweenFrom.percent),\n                tweenEasing = tweenTo.easing || linearEasing;\n            for (; i < pattern.length; i++) {\n                var startValue = tweenFrom[i];\n                if (startValue == null) {\n                    currentValue += pattern[i];\n                } else {\n                    var endValue = tweenTo[i];\n                    if (startValue === endValue) {\n                        currentValue += startValue;\n                    } else {\n                        // All easings must deal with numbers except for our internal ones.\n                        var value = tweenEasing(tweenPercent, startValue, endValue, _property);\n                        currentValue += pattern[i] === true ? Math.round(value) : value;\n                    }\n                }\n            }\n            result[_property] = currentValue;\n        }\n    }\n    if (singleResult && count === 1) {\n        for (var _property2 in result) {\n            if (result.hasOwnProperty(_property2)) {\n                return result[_property2];\n            }\n        }\n    }\n    return result;\n}\nregisterAction(["tween", tweenAction], true);\n\n// Project\n/**\r\n * Converting from hex as it makes for a smaller file.\r\n */\nvar colorValues = {\n    aliceblue: 0xF0F8FF,\n    antiquewhite: 0xFAEBD7,\n    aqua: 0x00FFFF,\n    aquamarine: 0x7FFFD4,\n    azure: 0xF0FFFF,\n    beige: 0xF5F5DC,\n    bisque: 0xFFE4C4,\n    black: 0x000000,\n    blanchedalmond: 0xFFEBCD,\n    blue: 0x0000FF,\n    blueviolet: 0x8A2BE2,\n    brown: 0xA52A2A,\n    burlywood: 0xDEB887,\n    cadetblue: 0x5F9EA0,\n    chartreuse: 0x7FFF00,\n    chocolate: 0xD2691E,\n    coral: 0xFF7F50,\n    cornflowerblue: 0x6495ED,\n    cornsilk: 0xFFF8DC,\n    crimson: 0xDC143C,\n    cyan: 0x00FFFF,\n    darkblue: 0x00008B,\n    darkcyan: 0x008B8B,\n    darkgoldenrod: 0xB8860B,\n    darkgray: 0xA9A9A9,\n    darkgrey: 0xA9A9A9,\n    darkgreen: 0x006400,\n    darkkhaki: 0xBDB76B,\n    darkmagenta: 0x8B008B,\n    darkolivegreen: 0x556B2F,\n    darkorange: 0xFF8C00,\n    darkorchid: 0x9932CC,\n    darkred: 0x8B0000,\n    darksalmon: 0xE9967A,\n    darkseagreen: 0x8FBC8F,\n    darkslateblue: 0x483D8B,\n    darkslategray: 0x2F4F4F,\n    darkslategrey: 0x2F4F4F,\n    darkturquoise: 0x00CED1,\n    darkviolet: 0x9400D3,\n    deeppink: 0xFF1493,\n    deepskyblue: 0x00BFFF,\n    dimgray: 0x696969,\n    dimgrey: 0x696969,\n    dodgerblue: 0x1E90FF,\n    firebrick: 0xB22222,\n    floralwhite: 0xFFFAF0,\n    forestgreen: 0x228B22,\n    fuchsia: 0xFF00FF,\n    gainsboro: 0xDCDCDC,\n    ghostwhite: 0xF8F8FF,\n    gold: 0xFFD700,\n    goldenrod: 0xDAA520,\n    gray: 0x808080,\n    grey: 0x808080,\n    green: 0x008000,\n    greenyellow: 0xADFF2F,\n    honeydew: 0xF0FFF0,\n    hotpink: 0xFF69B4,\n    indianred: 0xCD5C5C,\n    indigo: 0x4B0082,\n    ivory: 0xFFFFF0,\n    khaki: 0xF0E68C,\n    lavender: 0xE6E6FA,\n    lavenderblush: 0xFFF0F5,\n    lawngreen: 0x7CFC00,\n    lemonchiffon: 0xFFFACD,\n    lightblue: 0xADD8E6,\n    lightcoral: 0xF08080,\n    lightcyan: 0xE0FFFF,\n    lightgoldenrodyellow: 0xFAFAD2,\n    lightgray: 0xD3D3D3,\n    lightgrey: 0xD3D3D3,\n    lightgreen: 0x90EE90,\n    lightpink: 0xFFB6C1,\n    lightsalmon: 0xFFA07A,\n    lightseagreen: 0x20B2AA,\n    lightskyblue: 0x87CEFA,\n    lightslategray: 0x778899,\n    lightslategrey: 0x778899,\n    lightsteelblue: 0xB0C4DE,\n    lightyellow: 0xFFFFE0,\n    lime: 0x00FF00,\n    limegreen: 0x32CD32,\n    linen: 0xFAF0E6,\n    magenta: 0xFF00FF,\n    maroon: 0x800000,\n    mediumaquamarine: 0x66CDAA,\n    mediumblue: 0x0000CD,\n    mediumorchid: 0xBA55D3,\n    mediumpurple: 0x9370DB,\n    mediumseagreen: 0x3CB371,\n    mediumslateblue: 0x7B68EE,\n    mediumspringgreen: 0x00FA9A,\n    mediumturquoise: 0x48D1CC,\n    mediumvioletred: 0xC71585,\n    midnightblue: 0x191970,\n    mintcream: 0xF5FFFA,\n    mistyrose: 0xFFE4E1,\n    moccasin: 0xFFE4B5,\n    navajowhite: 0xFFDEAD,\n    navy: 0x000080,\n    oldlace: 0xFDF5E6,\n    olive: 0x808000,\n    olivedrab: 0x6B8E23,\n    orange: 0xFFA500,\n    orangered: 0xFF4500,\n    orchid: 0xDA70D6,\n    palegoldenrod: 0xEEE8AA,\n    palegreen: 0x98FB98,\n    paleturquoise: 0xAFEEEE,\n    palevioletred: 0xDB7093,\n    papayawhip: 0xFFEFD5,\n    peachpuff: 0xFFDAB9,\n    peru: 0xCD853F,\n    pink: 0xFFC0CB,\n    plum: 0xDDA0DD,\n    powderblue: 0xB0E0E6,\n    purple: 0x800080,\n    rebeccapurple: 0x663399,\n    red: 0xFF0000,\n    rosybrown: 0xBC8F8F,\n    royalblue: 0x4169E1,\n    saddlebrown: 0x8B4513,\n    salmon: 0xFA8072,\n    sandybrown: 0xF4A460,\n    seagreen: 0x2E8B57,\n    seashell: 0xFFF5EE,\n    sienna: 0xA0522D,\n    silver: 0xC0C0C0,\n    skyblue: 0x87CEEB,\n    slateblue: 0x6A5ACD,\n    slategray: 0x708090,\n    slategrey: 0x708090,\n    snow: 0xFFFAFA,\n    springgreen: 0x00FF7F,\n    steelblue: 0x4682B4,\n    tan: 0xD2B48C,\n    teal: 0x008080,\n    thistle: 0xD8BFD8,\n    tomato: 0xFF6347,\n    turquoise: 0x40E0D0,\n    violet: 0xEE82EE,\n    wheat: 0xF5DEB3,\n    white: 0xFFFFFF,\n    whitesmoke: 0xF5F5F5,\n    yellow: 0xFFFF00,\n    yellowgreen: 0x9ACD32\n};\nfor (var name in colorValues) {\n    if (colorValues.hasOwnProperty(name)) {\n        var color = colorValues[name];\n        ColorNames[name] = Math.floor(color / 65536) + "," + Math.floor(color / 256 % 256) + "," + color % 256;\n    }\n}\n\n// Project\nfunction registerBackIn(name, amount) {\n    registerEasing([name, function (percentComplete, startValue, endValue) {\n        if (percentComplete === 0) {\n            return startValue;\n        }\n        if (percentComplete === 1) {\n            return endValue;\n        }\n        return Math.pow(percentComplete, 2) * ((amount + 1) * percentComplete - amount) * (endValue - startValue);\n    }]);\n}\nfunction registerBackOut(name, amount) {\n    registerEasing([name, function (percentComplete, startValue, endValue) {\n        if (percentComplete === 0) {\n            return startValue;\n        }\n        if (percentComplete === 1) {\n            return endValue;\n        }\n        return (Math.pow(--percentComplete, 2) * ((amount + 1) * percentComplete + amount) + 1) * (endValue - startValue);\n    }]);\n}\nfunction registerBackInOut(name, amount) {\n    amount *= 1.525;\n    registerEasing([name, function (percentComplete, startValue, endValue) {\n        if (percentComplete === 0) {\n            return startValue;\n        }\n        if (percentComplete === 1) {\n            return endValue;\n        }\n        percentComplete *= 2;\n        return (percentComplete < 1 ? Math.pow(percentComplete, 2) * ((amount + 1) * percentComplete - amount) : Math.pow(percentComplete - 2, 2) * ((amount + 1) * (percentComplete - 2) + amount) + 2) * 0.5 * (endValue - startValue);\n    }]);\n}\nregisterBackIn("easeInBack", 1.7);\nregisterBackOut("easeOutBack", 1.7);\nregisterBackInOut("easeInOutBack", 1.7);\n// TODO: Expose these as actions to register custom easings?\n\n// Project\nfunction easeOutBouncePercent(percentComplete) {\n    if (percentComplete < 1 / 2.75) {\n        return 7.5625 * percentComplete * percentComplete;\n    }\n    if (percentComplete < 2 / 2.75) {\n        return 7.5625 * (percentComplete -= 1.5 / 2.75) * percentComplete + 0.75;\n    }\n    if (percentComplete < 2.5 / 2.75) {\n        return 7.5625 * (percentComplete -= 2.25 / 2.75) * percentComplete + 0.9375;\n    }\n    return 7.5625 * (percentComplete -= 2.625 / 2.75) * percentComplete + 0.984375;\n}\nfunction easeInBouncePercent(percentComplete) {\n    return 1 - easeOutBouncePercent(1 - percentComplete);\n}\nfunction easeInBounce(percentComplete, startValue, endValue) {\n    if (percentComplete === 0) {\n        return startValue;\n    }\n    if (percentComplete === 1) {\n        return endValue;\n    }\n    return easeInBouncePercent(percentComplete) * (endValue - startValue);\n}\nfunction easeOutBounce(percentComplete, startValue, endValue) {\n    if (percentComplete === 0) {\n        return startValue;\n    }\n    if (percentComplete === 1) {\n        return endValue;\n    }\n    return easeOutBouncePercent(percentComplete) * (endValue - startValue);\n}\nfunction easeInOutBounce(percentComplete, startValue, endValue) {\n    if (percentComplete === 0) {\n        return startValue;\n    }\n    if (percentComplete === 1) {\n        return endValue;\n    }\n    return (percentComplete < 0.5 ? easeInBouncePercent(percentComplete * 2) * 0.5 : easeOutBouncePercent(percentComplete * 2 - 1) * 0.5 + 0.5) * (endValue - startValue);\n}\nregisterEasing(["easeInBounce", easeInBounce]);\nregisterEasing(["easeOutBounce", easeOutBounce]);\nregisterEasing(["easeInOutBounce", easeInOutBounce]);\n\n// Project\n// Constants\nvar PI2 = Math.PI * 2;\nfunction registerElasticIn(name, amplitude, period) {\n    registerEasing([name, function (percentComplete, startValue, endValue) {\n        if (percentComplete === 0) {\n            return startValue;\n        }\n        if (percentComplete === 1) {\n            return endValue;\n        }\n        return -(amplitude * Math.pow(2, 10 * (percentComplete -= 1)) * Math.sin((percentComplete - period / PI2 * Math.asin(1 / amplitude)) * PI2 / period)) * (endValue - startValue);\n    }]);\n}\nfunction registerElasticOut(name, amplitude, period) {\n    registerEasing([name, function (percentComplete, startValue, endValue) {\n        if (percentComplete === 0) {\n            return startValue;\n        }\n        if (percentComplete === 1) {\n            return endValue;\n        }\n        return (amplitude * Math.pow(2, -10 * percentComplete) * Math.sin((percentComplete - period / PI2 * Math.asin(1 / amplitude)) * PI2 / period) + 1) * (endValue - startValue);\n    }]);\n}\nfunction registerElasticInOut(name, amplitude, period) {\n    registerEasing([name, function (percentComplete, startValue, endValue) {\n        if (percentComplete === 0) {\n            return startValue;\n        }\n        if (percentComplete === 1) {\n            return endValue;\n        }\n        var s = period / PI2 * Math.asin(1 / amplitude);\n        percentComplete = percentComplete * 2 - 1;\n        return (percentComplete < 0 ? -0.5 * (amplitude * Math.pow(2, 10 * percentComplete) * Math.sin((percentComplete - s) * PI2 / period)) : amplitude * Math.pow(2, -10 * percentComplete) * Math.sin((percentComplete - s) * PI2 / period) * 0.5 + 1) * (endValue - startValue);\n    }]);\n}\nregisterElasticIn("easeInElastic", 1, 0.3);\nregisterElasticOut("easeOutElastic", 1, 0.3);\nregisterElasticInOut("easeInOutElastic", 1, 0.3 * 1.5);\n// TODO: Expose these as actions to register custom easings?\n\n// Project\n/**\r\n * Easing function that sets to the specified value immediately after the\r\n * animation starts.\r\n */\nfunction atStart(percentComplete, startValue, endValue) {\n  return percentComplete === 0 ? startValue : endValue;\n}\n/**\r\n * Easing function that sets to the specified value while the animation is\r\n * running.\r\n */\nfunction during(percentComplete, startValue, endValue) {\n  return percentComplete === 0 || percentComplete === 1 ? startValue : endValue;\n}\n/**\r\n * Easing function that sets to the specified value when the animation ends.\r\n */\nfunction atEnd(percentComplete, startValue, endValue) {\n  return percentComplete === 1 ? endValue : startValue;\n}\nregisterEasing(["at-start", atStart]);\nregisterEasing(["during", during]);\nregisterEasing(["at-end", atEnd]);\n\n// Project\n/**\r\n * Get/set the inner/outer dimension.\r\n */\nfunction getDimension(name, wantInner) {\n    return function (element, propertyValue) {\n        if (propertyValue === undefined) {\n            return augmentDimension(element, name, wantInner) + "px";\n        }\n        setPropertyValue(element, name, parseFloat(propertyValue) - augmentDimension(element, name, wantInner) + "px");\n    };\n}\nregisterNormalization(["Element", "innerWidth", getDimension("width", true)]);\nregisterNormalization(["Element", "innerHeight", getDimension("height", true)]);\nregisterNormalization(["Element", "outerWidth", getDimension("width", false)]);\nregisterNormalization(["Element", "outerHeight", getDimension("height", false)]);\n\n// Project\n// Constants\nvar inlineRx = /^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|let|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i,\n    listItemRx = /^(li)$/i,\n    tableRowRx = /^(tr)$/i,\n    tableRx = /^(table)$/i,\n    tableRowGroupRx = /^(tbody)$/i;\nfunction display(element, propertyValue) {\n    var style = element.style;\n    if (propertyValue === undefined) {\n        return computePropertyValue(element, "display");\n    }\n    if (propertyValue === "auto") {\n        var nodeName = element && element.nodeName,\n            data = Data(element);\n        if (inlineRx.test(nodeName)) {\n            propertyValue = "inline";\n        } else if (listItemRx.test(nodeName)) {\n            propertyValue = "list-item";\n        } else if (tableRowRx.test(nodeName)) {\n            propertyValue = "table-row";\n        } else if (tableRx.test(nodeName)) {\n            propertyValue = "table";\n        } else if (tableRowGroupRx.test(nodeName)) {\n            propertyValue = "table-row-group";\n        } else {\n            // Default to "block" when no match is found.\n            propertyValue = "block";\n        }\n        // IMPORTANT: We need to do this as getPropertyValue bypasses the\n        // Normalisation when it exists in the cache.\n        data.cache["display"] = propertyValue;\n    }\n    style.display = propertyValue;\n}\nregisterNormalization(["Element", "display", display]);\n\n// Project\nfunction clientWidth(element, propertyValue) {\n    if (propertyValue == null) {\n        return element.clientWidth + "px";\n    }\n}\nfunction scrollWidth(element, propertyValue) {\n    if (propertyValue == null) {\n        return element.scrollWidth + "px";\n    }\n}\nfunction clientHeight(element, propertyValue) {\n    if (propertyValue == null) {\n        return element.clientHeight + "px";\n    }\n}\nfunction scrollHeight(element, propertyValue) {\n    if (propertyValue == null) {\n        return element.scrollHeight + "px";\n    }\n}\nfunction scroll(direction, end) {\n    return function (element, propertyValue) {\n        if (propertyValue == null) {\n            // Make sure we have these values cached.\n            getPropertyValue(element, "client" + direction, null, true);\n            getPropertyValue(element, "scroll" + direction, null, true);\n            return element["scroll" + end] + "px";\n        }\n        var value = parseFloat(propertyValue),\n            unit = propertyValue.replace(String(value), "");\n        switch (unit) {\n            case "":\n            case "px":\n                element["scroll" + end] = value;\n                break;\n            case "%":\n                var client = parseFloat(getPropertyValue(element, "client" + direction)),\n                    scrollValue = parseFloat(getPropertyValue(element, "scroll" + direction));\n                element["scroll" + end] = Math.max(0, scrollValue - client) * value / 100;\n                break;\n        }\n    };\n}\nregisterNormalization(["HTMLElement", "scroll", scroll("Height", "Top"), false]);\nregisterNormalization(["HTMLElement", "scrollTop", scroll("Height", "Top"), false]);\nregisterNormalization(["HTMLElement", "scrollLeft", scroll("Width", "Left"), false]);\nregisterNormalization(["HTMLElement", "scrollWidth", scrollWidth]);\nregisterNormalization(["HTMLElement", "clientWidth", clientWidth]);\nregisterNormalization(["HTMLElement", "scrollHeight", scrollHeight]);\nregisterNormalization(["HTMLElement", "clientHeight", clientHeight]);\n\n// Project\n/**\r\n * An RegExp pattern for the following list of css words using\r\n * http://kemio.com.ar/tools/lst-trie-re.php to generate:\r\n *\r\n * blockSize\r\n * borderBottomLeftRadius\r\n * borderBottomRightRadius\r\n * borderBottomWidth\r\n * borderImageOutset\r\n * borderImageWidth\r\n * borderLeftWidth\r\n * borderRadius\r\n * borderRightWidth\r\n * borderSpacing\r\n * borderTopLeftRadius\r\n * borderTopRightRadius\r\n * borderTopWidth\r\n * borderWidth\r\n * bottom\r\n * columnGap\r\n * columnRuleWidth\r\n * columnWidth\r\n * flexBasis\r\n * fontSize\r\n * gridColumnGap\r\n * gridGap\r\n * gridRowGap\r\n * height\r\n * inlineSize\r\n * left\r\n * letterSpacing\r\n * margin\r\n * marginBottom\r\n * marginLeft\r\n * marginRight\r\n * marginTop\r\n * maxBlockSize\r\n * maxHeight\r\n * maxInlineSize\r\n * maxWidth\r\n * minBlockSize\r\n * minHeight\r\n * minInlineSize\r\n * minWidth\r\n * objectPosition\r\n * outlineOffset\r\n * outlineWidth\r\n * padding\r\n * paddingBottom\r\n * paddingLeft\r\n * paddingRight\r\n * paddingTop\r\n * perspective\r\n * right\r\n * shapeMargin\r\n * strokeDashoffset\r\n * strokeWidth\r\n * textIndent\r\n * top\r\n * transformOrigin\r\n * width\r\n * wordSpacing\r\n */\n// tslint:disable-next-line:max-line-length\nvar rxAddPx = /^(b(lockSize|o(rder(Bottom(LeftRadius|RightRadius|Width)|Image(Outset|Width)|LeftWidth|R(adius|ightWidth)|Spacing|Top(LeftRadius|RightRadius|Width)|Width)|ttom))|column(Gap|RuleWidth|Width)|f(lexBasis|ontSize)|grid(ColumnGap|Gap|RowGap)|height|inlineSize|le(ft|tterSpacing)|m(a(rgin(Bottom|Left|Right|Top)|x(BlockSize|Height|InlineSize|Width))|in(BlockSize|Height|InlineSize|Width))|o(bjectPosition|utline(Offset|Width))|p(adding(Bottom|Left|Right|Top)|erspective)|right|s(hapeMargin|troke(Dashoffset|Width))|t(extIndent|op|ransformOrigin)|w(idth|ordSpacing))$/;\n/**\r\n * Return a Normalisation that can be used to set / get a prefixed style\r\n * property.\r\n */\nfunction getSetPrefixed(propertyName, unprefixed) {\n    return function (element, propertyValue) {\n        if (propertyValue === undefined) {\n            return computePropertyValue(element, propertyName) || computePropertyValue(element, unprefixed);\n        }\n        element.style[propertyName] = element.style[unprefixed] = propertyValue;\n    };\n}\n/**\r\n * Return a Normalisation that can be used to set / get a style property.\r\n */\nfunction getSetStyle(propertyName) {\n    return function (element, propertyValue) {\n        if (propertyValue === undefined) {\n            return computePropertyValue(element, propertyName);\n        }\n        element.style[propertyName] = propertyValue;\n    };\n}\n/**\r\n * Vendor prefixes. Chrome / Safari, Firefox, IE / Edge, Opera.\r\n */\nvar rxVendors = /^(webkit|moz|ms|o)[A-Z]/,\n    prefixElement = State.prefixElement;\nif (prefixElement) {\n    for (var propertyName in prefixElement.style) {\n        if (rxVendors.test(propertyName)) {\n            var unprefixed = propertyName.replace(/^[a-z]+([A-Z])/, function ($, letter) {\n                return letter.toLowerCase();\n            });\n            {\n                var addUnit = rxAddPx.test(unprefixed) ? "px" : undefined;\n                registerNormalization(["Element", unprefixed, getSetPrefixed(propertyName, unprefixed), addUnit]);\n            }\n        } else if (!hasNormalization(["Element", propertyName])) {\n            var _addUnit = rxAddPx.test(propertyName) ? "px" : undefined;\n            registerNormalization(["Element", propertyName, getSetStyle(propertyName), _addUnit]);\n        }\n    }\n}\n\n// Project\n/**\r\n * Get/set an attribute.\r\n */\nfunction getAttribute(name) {\n    return function (element, propertyValue) {\n        if (propertyValue === undefined) {\n            return element.getAttribute(name);\n        }\n        element.setAttribute(name, propertyValue);\n    };\n}\nvar base = document.createElement("div"),\n    rxSubtype = /^SVG(.*)Element$/,\n    rxElement = /Element$/;\nObject.getOwnPropertyNames(window).forEach(function (property) {\n    var subtype = rxSubtype.exec(property);\n    if (subtype && subtype[1] !== "SVG") {\n        // Don\'t do SVGSVGElement.\n        try {\n            var element = subtype[1] ? document.createElementNS("http://www.w3.org/2000/svg", (subtype[1] || "svg").toLowerCase()) : document.createElement("svg");\n            // tslint:disable-next-line:forin\n            for (var attribute in element) {\n                // Although this isn\'t a tween without prototypes, we do\n                // want to get hold of all attributes and not just own ones.\n                var value = element[attribute];\n                if (isString(attribute) && !(attribute[0] === "o" && attribute[1] === "n") && attribute !== attribute.toUpperCase() && !rxElement.test(attribute) && !(attribute in base) && !isFunction(value)) {\n                    // TODO: Should this all be set on the generic SVGElement, it would save space and time, but not as powerful\n                    registerNormalization([property, attribute, getAttribute(attribute)]);\n                }\n            }\n        } catch (e) {\n            console.error("VelocityJS: Error when trying to identify SVG attributes on " + property + ".", e);\n        }\n    }\n});\n\n// Project\n/**\r\n * Get/set the width or height.\r\n */\nfunction getDimension$1(name) {\n    return function (element, propertyValue) {\n        if (propertyValue === undefined) {\n            // Firefox throws an error if .getBBox() is called on an SVG that isn\'t attached to the DOM.\n            try {\n                return element.getBBox()[name] + "px";\n            } catch (e) {\n                return "0px";\n            }\n        }\n        element.setAttribute(name, propertyValue);\n    };\n}\nregisterNormalization(["SVGElement", "width", getDimension$1("width")]);\nregisterNormalization(["SVGElement", "height", getDimension$1("height")]);\n\n// Project\n/**\r\n * A fake normalization used to allow the "tween" property easy access.\r\n */\nfunction getSetTween(element, propertyValue) {\n    if (propertyValue === undefined) {\n        return "";\n    }\n}\nregisterNormalization(["Element", "tween", getSetTween]);\n\n// Automatically generated\nvar VERSION = "2.0.6";\n\n// Project\nvar Velocity$$1 = Velocity$1;\n/**\r\n * These parts of Velocity absolutely must be included, even if they\'re unused!\r\n */\nvar VelocityStatic;\n(function (VelocityStatic) {\n    /**\r\n     * Actions cannot be replaced if they are internal (hasOwnProperty is false\r\n     * but they still exist). Otherwise they can be replaced by users.\r\n     *\r\n     * All external method calls should be using actions rather than sub-calls\r\n     * of Velocity itself.\r\n     */\n    VelocityStatic.Actions = Actions;\n    /**\r\n     * Our known easing functions.\r\n     */\n    VelocityStatic.Easings = Easings;\n    /**\r\n     * The currently registered sequences.\r\n     */\n    VelocityStatic.Sequences = SequencesObject;\n    /**\r\n     * Current internal state of Velocity.\r\n     */\n    VelocityStatic.State = State; // tslint:disable-line:no-shadowed-variable\n    /**\r\n     * Velocity option defaults, which can be overriden by the user.\r\n     */\n    VelocityStatic.defaults = defaults$1;\n    /**\r\n     * Used to patch any object to allow Velocity chaining. In order to chain an\r\n     * object must either be treatable as an array - with a <code>.length</code>\r\n     * property, and each member a Node, or a Node directly.\r\n     *\r\n     * By default Velocity will try to patch <code>window</code>,\r\n     * <code>jQuery</code>, <code>Zepto</code>, and several classes that return\r\n     * Nodes or lists of Nodes.\r\n     */\n    VelocityStatic.patch = patch;\n    /**\r\n     * Set to true, 1 or 2 (most verbose) to output debug info to console.\r\n     */\n    VelocityStatic.debug = false;\n    /**\r\n     * In mock mode, all animations are forced to complete immediately upon the\r\n     * next rAF tick. If there are further animations queued then they will each\r\n     * take one single frame in turn. Loops and repeats will be disabled while\r\n     * <code>mock = true</code>.\r\n     */\n    VelocityStatic.mock = false;\n    /**\r\n     * Save our version number somewhere visible.\r\n     */\n    VelocityStatic.version = VERSION;\n    /**\r\n     * Added as a fallback for "import {Velocity} from \'velocity-animate\';".\r\n     */\n    VelocityStatic.Velocity = Velocity$1; // tslint:disable-line:no-shadowed-variable\n})(VelocityStatic || (VelocityStatic = {}));\n/* IE detection. Gist: https://gist.github.com/julianshapiro/9098609 */\nvar IE = function () {\n    if (document.documentMode) {\n        return document.documentMode;\n    } else {\n        for (var i = 7; i > 4; i--) {\n            var div = document.createElement("div");\n            div.innerHTML = "<!" + "--" + "[if IE " + i + "]><span></span><![endif]--\x3e";\n            if (div.getElementsByTagName("span").length) {\n                div = null;\n                return i;\n            }\n        }\n    }\n    return undefined;\n}();\n/******************\r\n Unsupported\r\n ******************/\nif (IE <= 8) {\n    throw new Error("VelocityJS cannot run on Internet Explorer 8 or earlier");\n}\n/******************\r\n Frameworks\r\n ******************/\nif (window) {\n    /*\r\n     * Both jQuery and Zepto allow their $.fn object to be extended to allow\r\n     * wrapped elements to be subjected to plugin calls. If either framework is\r\n     * loaded, register a "velocity" extension pointing to Velocity\'s core\r\n     * animate() method. Velocity also registers itself onto a global container\r\n     * (window.jQuery || window.Zepto || window) so that certain features are\r\n     * accessible beyond just a per-element scope. Accordingly, Velocity can\r\n     * both act on wrapped DOM elements and stand alone for targeting raw DOM\r\n     * elements.\r\n     */\n    var jQuery = window.jQuery,\n        Zepto = window.Zepto;\n    patch(window, true);\n    patch(Element && Element.prototype);\n    patch(NodeList && NodeList.prototype);\n    patch(HTMLCollection && HTMLCollection.prototype);\n    patch(jQuery, true);\n    patch(jQuery && jQuery.fn);\n    patch(Zepto, true);\n    patch(Zepto && Zepto.fn);\n}\n// Make sure that the values within Velocity are read-only and upatchable.\n\nvar _loop = function _loop(property) {\n    if (VelocityStatic.hasOwnProperty(property)) {\n        switch (typeof property === "undefined" ? "undefined" : _typeof(property)) {\n            case "number":\n            case "boolean":\n                defineProperty$1(Velocity$$1, property, {\n                    get: function get$$1() {\n                        return VelocityStatic[property];\n                    },\n                    set: function set$$1(value) {\n                        VelocityStatic[property] = value;\n                    }\n                }, true);\n                break;\n            default:\n                defineProperty$1(Velocity$$1, property, VelocityStatic[property], true);\n                break;\n        }\n    }\n};\n\nfor (var property in VelocityStatic) {\n    _loop(property);\n}\nObject.freeze(Velocity$$1);\n\n// Project\nvar rxPercents = /(\\d*\\.\\d+|\\d+\\.?|from|to)/g;\nfunction expandSequence(animation, sequence) {\n    var tweens = animation.tweens = Object.create(null),\n        element = animation.element;\n    for (var propertyName in sequence.tweens) {\n        if (sequence.tweens.hasOwnProperty(propertyName)) {\n            var fn = getNormalization(element, propertyName);\n            if (!fn && propertyName !== "tween") {\n                if (Velocity$$1.debug) {\n                    console.log("Skipping [" + propertyName + "] due to a lack of browser support.");\n                }\n                continue;\n            }\n            tweens[propertyName] = {\n                fn: fn,\n                sequence: sequence.tweens[propertyName]\n            };\n        }\n    }\n}\n/**\r\n * Used to register a sequence. This should never be called by users\r\n * directly, instead it should be called via an action:<br/>\r\n * <code>Velocity("registerSequence", ""name", VelocitySequence);</code>\r\n */\nfunction registerSequence(args) {\n    if (isPlainObject(args[0])) {\n        for (var name in args[0]) {\n            if (args[0].hasOwnProperty(name)) {\n                registerSequence([name, args[0][name]]);\n            }\n        }\n    } else if (isString(args[0])) {\n        var _name = args[0],\n            sequence = args[1];\n        if (!isString(_name)) {\n            console.warn("VelocityJS: Trying to set \'registerSequence\' name to an invalid value:", _name);\n        } else if (!isPlainObject(sequence)) {\n            console.warn("VelocityJS: Trying to set \'registerSequence\' sequence to an invalid value:", _name, sequence);\n        } else {\n            if (SequencesObject[_name]) {\n                console.warn("VelocityJS: Replacing named sequence:", _name);\n            }\n            var percents = {},\n                steps = new Array(100),\n                properties = [],\n                sequenceList = SequencesObject[_name] = {},\n                duration = validateDuration(sequence.duration);\n            sequenceList.tweens = {};\n            if (isNumber(duration)) {\n                sequenceList.duration = duration;\n            }\n            for (var part in sequence) {\n                if (sequence.hasOwnProperty(part)) {\n                    var keys = String(part).match(rxPercents);\n                    if (keys) {\n                        var _iteratorNormalCompletion = true;\n                        var _didIteratorError = false;\n                        var _iteratorError = undefined;\n\n                        try {\n                            for (var _iterator = keys[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                                var key = _step.value;\n\n                                var percent = key === "from" ? 0 : key === "to" ? 100 : parseFloat(key);\n                                if (percent < 0 || percent > 100) {\n                                    console.warn("VelocityJS: Trying to use an invalid value as a percentage (0 <= n <= 100):", _name, percent);\n                                } else if (isNaN(percent)) {\n                                    console.warn("VelocityJS: Trying to use an invalid number as a percentage:", _name, part, key);\n                                } else {\n                                    if (!percents[String(percent)]) {\n                                        percents[String(percent)] = [];\n                                    }\n                                    percents[String(percent)].push(part);\n                                    for (var property in sequence[part]) {\n                                        if (!properties.includes(property)) {\n                                            properties.push(property);\n                                        }\n                                    }\n                                }\n                            }\n                        } catch (err) {\n                            _didIteratorError = true;\n                            _iteratorError = err;\n                        } finally {\n                            try {\n                                if (!_iteratorNormalCompletion && _iterator.return) {\n                                    _iterator.return();\n                                }\n                            } finally {\n                                if (_didIteratorError) {\n                                    throw _iteratorError;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            var orderedPercents = Object.keys(percents).sort(function (a, b) {\n                var a1 = parseFloat(a),\n                    b1 = parseFloat(b);\n                return a1 > b1 ? 1 : a1 < b1 ? -1 : 0;\n            });\n            orderedPercents.forEach(function (key) {\n                steps.push.apply(percents[key]);\n            });\n            var _iteratorNormalCompletion2 = true;\n            var _didIteratorError2 = false;\n            var _iteratorError2 = undefined;\n\n            try {\n                for (var _iterator2 = properties[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                    var _property = _step2.value;\n\n                    var parts = [],\n                        propertyName = camelCase(_property);\n                    var _iteratorNormalCompletion3 = true;\n                    var _didIteratorError3 = false;\n                    var _iteratorError3 = undefined;\n\n                    try {\n                        for (var _iterator3 = orderedPercents[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                            var _key = _step3.value;\n                            var _iteratorNormalCompletion6 = true;\n                            var _didIteratorError6 = false;\n                            var _iteratorError6 = undefined;\n\n                            try {\n                                for (var _iterator6 = percents[_key][Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n                                    var _value = _step6.value;\n\n                                    var stepProperties = sequence[_value];\n                                    if (stepProperties[propertyName]) {\n                                        parts.push(isString(stepProperties[propertyName]) ? stepProperties[propertyName] : stepProperties[propertyName][0]);\n                                    }\n                                }\n                            } catch (err) {\n                                _didIteratorError6 = true;\n                                _iteratorError6 = err;\n                            } finally {\n                                try {\n                                    if (!_iteratorNormalCompletion6 && _iterator6.return) {\n                                        _iterator6.return();\n                                    }\n                                } finally {\n                                    if (_didIteratorError6) {\n                                        throw _iteratorError6;\n                                    }\n                                }\n                            }\n                        }\n                    } catch (err) {\n                        _didIteratorError3 = true;\n                        _iteratorError3 = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                                _iterator3.return();\n                            }\n                        } finally {\n                            if (_didIteratorError3) {\n                                throw _iteratorError3;\n                            }\n                        }\n                    }\n\n                    if (parts.length) {\n                        var realSequence = findPattern(parts, propertyName);\n                        var index = 0;\n                        if (realSequence) {\n                            var _iteratorNormalCompletion4 = true;\n                            var _didIteratorError4 = false;\n                            var _iteratorError4 = undefined;\n\n                            try {\n                                for (var _iterator4 = orderedPercents[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                                    var _key2 = _step4.value;\n                                    var _iteratorNormalCompletion5 = true;\n                                    var _didIteratorError5 = false;\n                                    var _iteratorError5 = undefined;\n\n                                    try {\n                                        for (var _iterator5 = percents[_key2][Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n                                            var value = _step5.value;\n\n                                            var originalProperty = sequence[value][propertyName];\n                                            if (originalProperty) {\n                                                if (Array.isArray(originalProperty) && originalProperty.length > 1 && (isString(originalProperty[1]) || Array.isArray(originalProperty[1]))) {\n                                                    realSequence[index].easing = validateEasing(originalProperty[1], sequenceList.duration || DEFAULT_DURATION);\n                                                }\n                                                realSequence[index++].percent = parseFloat(_key2) / 100;\n                                            }\n                                        }\n                                    } catch (err) {\n                                        _didIteratorError5 = true;\n                                        _iteratorError5 = err;\n                                    } finally {\n                                        try {\n                                            if (!_iteratorNormalCompletion5 && _iterator5.return) {\n                                                _iterator5.return();\n                                            }\n                                        } finally {\n                                            if (_didIteratorError5) {\n                                                throw _iteratorError5;\n                                            }\n                                        }\n                                    }\n                                }\n                            } catch (err) {\n                                _didIteratorError4 = true;\n                                _iteratorError4 = err;\n                            } finally {\n                                try {\n                                    if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                                        _iterator4.return();\n                                    }\n                                } finally {\n                                    if (_didIteratorError4) {\n                                        throw _iteratorError4;\n                                    }\n                                }\n                            }\n\n                            sequenceList.tweens[propertyName] = realSequence;\n                        }\n                    }\n                }\n            } catch (err) {\n                _didIteratorError2 = true;\n                _iteratorError2 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                        _iterator2.return();\n                    }\n                } finally {\n                    if (_didIteratorError2) {\n                        throw _iteratorError2;\n                    }\n                }\n            }\n        }\n    }\n}\nregisterAction(["registerSequence", registerSequence], true);\n\n// Project\nvar globalPromise = void 0;\ntry {\n    globalPromise = Promise;\n} catch ( /**/_a) {/**/}\nvar noPromiseOption = ", if that is deliberate then pass `promiseRejectEmpty:false` as an option";\n/**\r\n * Patch a VelocityResult with a Promise.\r\n */\nfunction patchPromise(promiseObject, result) {\n    defineProperty$1(result, "promise", promiseObject);\n    defineProperty$1(result, "then", promiseObject.then.bind(promiseObject));\n    defineProperty$1(result, "catch", promiseObject.catch.bind(promiseObject));\n    if (promiseObject.finally) {\n        // Semi-standard\n        defineProperty$1(result, "finally", promiseObject.finally.bind(promiseObject));\n    }\n}\n/* tslint:enable:max-line-length */\nfunction Velocity$1() {\n    var\n    /**\r\n     * A shortcut to the default options.\r\n     */\n    defaults$$1 = defaults$1,\n\n    /**\r\n     * Cache of the first argument - this is used often enough to be saved.\r\n     */\n    args0 = arguments.length <= 0 ? undefined : arguments[0],\n\n    /**\r\n     * To allow for expressive CoffeeScript code, Velocity supports an\r\n     * alternative syntax in which "elements" (or "e"), "properties" (or\r\n     * "p"), and "options" (or "o") objects are defined on a container\r\n     * object that\'s passed in as Velocity\'s sole argument.\r\n     *\r\n     * Note: Some browsers automatically populate arguments with a\r\n     * "properties" object. We detect it by checking for its default\r\n     * "names" property.\r\n     */\n    // TODO: Confirm which browsers - if <=IE8 the we can drop completely\n    syntacticSugar = isPlainObject(args0) && (args0.p || isPlainObject(args0.properties) && !args0.properties.names || isString(args0.properties));\n    var\n    /**\r\n     *  When Velocity is called via the utility function (Velocity()),\r\n     * elements are explicitly passed in as the first parameter. Thus,\r\n     * argument positioning varies.\r\n     */\n    argumentIndex = 0,\n\n    /**\r\n     * The list of elements, extended with Promise and Velocity.\r\n     */\n    elements = void 0,\n\n    /**\r\n     * The properties being animated. This can be a string, in which case it\r\n     * is either a function for these elements, or it is a "named" animation\r\n     * sequence to use instead. Named sequences start with either "callout."\r\n     * or "transition.". When used as a callout the values will be reset\r\n     * after finishing. When used as a transtition then there is no special\r\n     * handling after finishing.\r\n     */\n    propertiesMap = void 0,\n\n    /**\r\n     * Options supplied, this will be mapped and validated into\r\n     * <code>options</code>.\r\n     */\n    optionsMap = void 0,\n\n    /**\r\n     * If called via a chain then this contains the <b>last</b> calls\r\n     * animations. If this does not have a value then any access to the\r\n     * element\'s animations needs to be to the currently-running ones.\r\n     */\n    animations = void 0,\n\n    /**\r\n     * The promise that is returned.\r\n     */\n    promise = void 0,\n\n    // Used when the animation is finished\n    resolver = void 0,\n\n    // Used when there was an issue with one or more of the Velocity arguments\n    rejecter = void 0;\n    //console.log(`Velocity`, args)\n    // First get the elements, and the animations connected to the last call if\n    // this is chained.\n    // TODO: Clean this up a bit\n    // TODO: Throw error if the chain is called with elements as the first argument. isVelocityResult(this) && ( (isNode(arg0) || isWrapped(arg0)) && arg0 == this)\n    if (isNode(this)) {\n        // This is from a chain such as document.getElementById("").velocity(...)\n        elements = [this];\n    } else if (isWrapped(this)) {\n        // This might be a chain from something else, but if chained from a\n        // previous Velocity() call then grab the animations it\'s related to.\n        elements = cloneArray(this);\n        if (isVelocityResult(this)) {\n            animations = this.velocity.animations;\n        }\n    } else if (syntacticSugar) {\n        elements = cloneArray(args0.elements || args0.e);\n        argumentIndex++;\n    } else if (isNode(args0)) {\n        elements = cloneArray([args0]);\n        argumentIndex++;\n    } else if (isWrapped(args0)) {\n        elements = cloneArray(args0);\n        argumentIndex++;\n    }\n    // Allow elements to be chained.\n    if (elements) {\n        defineProperty$1(elements, "velocity", Velocity$1.bind(elements));\n        if (animations) {\n            defineProperty$1(elements.velocity, "animations", animations);\n        }\n    }\n    // Next get the propertiesMap and options.\n    if (syntacticSugar) {\n        propertiesMap = getValue(args0.properties, args0.p);\n    } else {\n        var _ref;\n\n        // TODO: Should be possible to call Velocity("pauseAll") - currently not possible\n        propertiesMap = (_ref = argumentIndex++, arguments.length <= _ref ? undefined : arguments[_ref]);\n    }\n    // Get any options map passed in as arguments first, expand any direct\n    // options if possible.\n    var isReverse = propertiesMap === "reverse",\n        isAction = !isReverse && isString(propertiesMap),\n        maybeSequence = isAction && SequencesObject[propertiesMap],\n        opts = syntacticSugar ? getValue(args0.options, args0.o) : arguments.length <= argumentIndex ? undefined : arguments[argumentIndex];\n    if (isPlainObject(opts)) {\n        optionsMap = opts;\n    }\n    // Create the promise if supported and wanted.\n    if (globalPromise && getValue(optionsMap && optionsMap.promise, defaults$$1.promise)) {\n        promise = new globalPromise(function (resolve, reject) {\n            rejecter = reject;\n            // IMPORTANT:\n            // If a resolver tries to run on a Promise then it will wait until\n            // that Promise resolves - but in this case we\'re running on our own\n            // Promise, so need to make sure it\'s not seen as one. Removing\n            // these values for the duration of the resolve.\n            // Due to being an async call, they should be back to "normal"\n            // before the <code>.then()</code> function gets called.\n            resolver = function resolver(result) {\n                if (isVelocityResult(result) && result.promise) {\n                    delete result.then;\n                    delete result.catch;\n                    delete result.finally;\n                    resolve(result);\n                    patchPromise(result.promise, result);\n                } else {\n                    resolve(result);\n                }\n            };\n        });\n        if (elements) {\n            patchPromise(promise, elements);\n        }\n    }\n    if (promise) {\n        var optionPromiseRejectEmpty = optionsMap && optionsMap.promiseRejectEmpty,\n            promiseRejectEmpty = getValue(optionPromiseRejectEmpty, defaults$$1.promiseRejectEmpty);\n        if (!elements && !isAction) {\n            if (promiseRejectEmpty) {\n                rejecter("Velocity: No elements supplied" + (isBoolean(optionPromiseRejectEmpty) ? "" : noPromiseOption) + ". Aborting.");\n            } else {\n                resolver();\n            }\n        } else if (!propertiesMap) {\n            if (promiseRejectEmpty) {\n                rejecter("Velocity: No properties supplied" + (isBoolean(optionPromiseRejectEmpty) ? "" : noPromiseOption) + ". Aborting.");\n            } else {\n                resolver();\n            }\n        }\n    }\n    if (!elements && !isAction || !propertiesMap) {\n        return promise;\n    }\n    // NOTE: Can\'t use isAction here due to type inference - there are callbacks\n    // between so the type isn\'t considered safe.\n    if (isAction) {\n        var actionArgs = [],\n            promiseHandler = promise && {\n            _promise: promise,\n            _resolver: resolver,\n            _rejecter: rejecter\n        };\n        while (argumentIndex < arguments.length) {\n            var _ref2;\n\n            actionArgs.push((_ref2 = argumentIndex++, arguments.length <= _ref2 ? undefined : arguments[_ref2]));\n        }\n        // Velocity\'s behavior is categorized into "actions". If a string is\n        // passed in instead of a propertiesMap then that will call a function\n        // to do something special to the animation linked.\n        // There is one special case - "reverse" - which is handled differently,\n        // by being stored on the animation and then expanded when the animation\n        // starts.\n        var action = propertiesMap.replace(/\\..*$/, ""),\n            callback = Actions[action];\n        if (callback) {\n            var result = callback(actionArgs, elements, promiseHandler, propertiesMap);\n            if (result !== undefined) {\n                return result;\n            }\n            return elements || promise;\n        } else if (!maybeSequence) {\n            console.error("VelocityJS: First argument (" + propertiesMap + ") was not a property map, a known action, or a registered redirect. Aborting.");\n            return;\n        }\n    }\n    var hasValidDuration = void 0;\n    if (isPlainObject(propertiesMap) || isReverse || maybeSequence) {\n        /**\r\n         * The options for this set of animations.\r\n         */\n        var options = {};\n        var isSync = defaults$$1.sync;\n        // Private options first - set as non-enumerable, and starting with an\n        // underscore so we can filter them out.\n        if (promise) {\n            defineProperty$1(options, "_promise", promise);\n            defineProperty$1(options, "_rejecter", rejecter);\n            defineProperty$1(options, "_resolver", resolver);\n        }\n        defineProperty$1(options, "_ready", 0);\n        defineProperty$1(options, "_started", 0);\n        defineProperty$1(options, "_completed", 0);\n        defineProperty$1(options, "_total", 0);\n        // Now check the optionsMap\n        if (isPlainObject(optionsMap)) {\n            var validDuration = validateDuration(optionsMap.duration);\n            hasValidDuration = validDuration !== undefined;\n            options.duration = getValue(validDuration, defaults$$1.duration);\n            options.delay = getValue(validateDelay(optionsMap.delay), defaults$$1.delay);\n            // Need the extra fallback here in case it supplies an invalid\n            // easing that we need to overrride with the default.\n            options.easing = validateEasing(getValue(optionsMap.easing, defaults$$1.easing), options.duration) || validateEasing(defaults$$1.easing, options.duration);\n            options.loop = getValue(validateLoop(optionsMap.loop), defaults$$1.loop);\n            options.repeat = options.repeatAgain = getValue(validateRepeat(optionsMap.repeat), defaults$$1.repeat);\n            if (optionsMap.speed != null) {\n                options.speed = getValue(validateSpeed(optionsMap.speed), 1);\n            }\n            if (isBoolean(optionsMap.promise)) {\n                options.promise = optionsMap.promise;\n            }\n            options.queue = getValue(validateQueue(optionsMap.queue), defaults$$1.queue);\n            if (optionsMap.mobileHA && !State.isGingerbread) {\n                /* When set to true, and if this is a mobile device, mobileHA automatically enables hardware acceleration (via a null transform hack)\r\n                 on animating elements. HA is removed from the element at the completion of its animation. */\n                /* Note: Android Gingerbread doesn\'t support HA. If a null transform hack (mobileHA) is in fact set, it will prevent other tranform subproperties from taking effect. */\n                /* Note: You can read more about the use of mobileHA in Velocity\'s documentation: velocity-animate/#mobileHA. */\n                options.mobileHA = true;\n            }\n            if (optionsMap.drag === true) {\n                options.drag = true;\n            }\n            if (isNumber(optionsMap.stagger) || isFunction(optionsMap.stagger)) {\n                options.stagger = optionsMap.stagger;\n            }\n            if (!isReverse) {\n                if (optionsMap["display"] != null) {\n                    propertiesMap.display = optionsMap["display"];\n                    console.error("Deprecated \\"options.display\\" used, this is now a property:", optionsMap["display"]);\n                }\n                if (optionsMap["visibility"] != null) {\n                    propertiesMap.visibility = optionsMap["visibility"];\n                    console.error("Deprecated \\"options.visibility\\" used, this is now a property:", optionsMap["visibility"]);\n                }\n            }\n            // TODO: Allow functional options for different options per element\n            var optionsBegin = validateBegin(optionsMap.begin),\n                optionsComplete = validateComplete(optionsMap.complete),\n                optionsProgress = validateProgress(optionsMap.progress),\n                optionsSync = validateSync(optionsMap.sync);\n            if (optionsBegin != null) {\n                options.begin = optionsBegin;\n            }\n            if (optionsComplete != null) {\n                options.complete = optionsComplete;\n            }\n            if (optionsProgress != null) {\n                options.progress = optionsProgress;\n            }\n            if (optionsSync != null) {\n                isSync = optionsSync;\n            }\n        } else if (!syntacticSugar) {\n            // Expand any direct options if possible.\n            var offset = 0;\n            options.duration = validateDuration(arguments.length <= argumentIndex ? undefined : arguments[argumentIndex], true);\n            if (options.duration === undefined) {\n                options.duration = defaults$$1.duration;\n            } else {\n                hasValidDuration = true;\n                offset++;\n            }\n            if (!isFunction(arguments.length <= argumentIndex + offset ? undefined : arguments[argumentIndex + offset])) {\n                // Despite coming before Complete, we can\'t pass a fn easing\n                var easing = validateEasing(arguments.length <= argumentIndex + offset ? undefined : arguments[argumentIndex + offset], getValue(options && validateDuration(options.duration), defaults$$1.duration), true);\n                if (easing !== undefined) {\n                    offset++;\n                    options.easing = easing;\n                }\n            }\n            var complete = validateComplete(arguments.length <= argumentIndex + offset ? undefined : arguments[argumentIndex + offset], true);\n            if (complete !== undefined) {\n                options.complete = complete;\n            }\n            options.delay = defaults$$1.delay;\n            options.loop = defaults$$1.loop;\n            options.repeat = options.repeatAgain = defaults$$1.repeat;\n        }\n        if (isReverse && options.queue === false) {\n            throw new Error("VelocityJS: Cannot reverse a queue:false animation.");\n        }\n        if (!hasValidDuration && maybeSequence && maybeSequence.duration) {\n            options.duration = maybeSequence.duration;\n        }\n        // When a set of elements is targeted by a Velocity call, the set is\n        // broken up and each element has the current Velocity call individually\n        // queued onto it. In this way, each element\'s existing queue is\n        // respected; some elements may already be animating and accordingly\n        // should not have this current Velocity call triggered immediately\n        // unless the sync:true option is used.\n        var rootAnimation = {\n            options: options,\n            elements: elements,\n            _prev: undefined,\n            _next: undefined,\n            _flags: isSync ? 32 /* SYNC */ : 0,\n            percentComplete: 0,\n            ellapsedTime: 0,\n            timeStart: 0\n        };\n        animations = [];\n        for (var index = 0; index < elements.length; index++) {\n            var element = elements[index];\n            var flags = 0;\n            if (isNode(element)) {\n                // TODO: This needs to check for valid animation targets, not just Elements\n                if (isReverse) {\n                    var lastAnimation = Data(element).lastAnimationList[options.queue];\n                    propertiesMap = lastAnimation && lastAnimation.tweens;\n                    if (!propertiesMap) {\n                        console.error("VelocityJS: Attempting to reverse an animation on an element with no previous animation:", element);\n                        continue;\n                    }\n                    flags |= 64 /* REVERSE */ & ~(lastAnimation._flags & 64 /* REVERSE */); // tslint:disable-line:no-bitwise\n                }\n                var animation = Object.assign({}, rootAnimation, { element: element, _flags: rootAnimation._flags | flags });\n                options._total++;\n                animations.push(animation);\n                if (options.stagger) {\n                    if (isFunction(options.stagger)) {\n                        var num = optionCallback(options.stagger, element, index, elements.length, elements, "stagger");\n                        if (isNumber(num)) {\n                            animation.delay = options.delay + num;\n                        }\n                    } else {\n                        animation.delay = options.delay + options.stagger * index;\n                    }\n                }\n                if (options.drag) {\n                    animation.duration = options.duration - options.duration * Math.max(1 - (index + 1) / elements.length, 0.75);\n                }\n                if (maybeSequence) {\n                    expandSequence(animation, maybeSequence);\n                } else if (isReverse) {\n                    // In this case we\'re using the previous animation, so\n                    // it will be expanded correctly when that one runs.\n                    animation.tweens = propertiesMap;\n                } else {\n                    animation.tweens = Object.create(null);\n                    expandProperties(animation, propertiesMap);\n                }\n                queue$1(element, animation, options.queue);\n            }\n        }\n        if (State.isTicking === false) {\n            // If the animation tick isn\'t running, start it. (Velocity shuts it\n            // off when there are no active calls to process.)\n            tick(false);\n        }\n        if (animations) {\n            defineProperty$1(elements.velocity, "animations", animations);\n        }\n    }\n    /***************\r\n     Chaining\r\n     ***************/\n    /* Return the elements back to the call chain, with wrapped elements taking precedence in case Velocity was called via the $.fn. extension. */\n    return elements || promise;\n}\n/**\r\n * Call an option callback in a try/catch block and report an error if needed.\r\n */\nfunction optionCallback(fn, element, index, length, elements, option) {\n    try {\n        return fn.call(element, index, length, elements, option);\n    } catch (e) {\n        console.error("VelocityJS: Exception when calling \'" + option + "\' callback:", e);\n    }\n}\n\n// Project\n/**\r\n * Used to patch any object to allow Velocity chaining. In order to chain an\r\n * object must either be treatable as an array - with a <code>.length</code>\r\n * property, and each member a Node, or a Node directly.\r\n *\r\n * By default Velocity will try to patch <code>window</code>,\r\n * <code>jQuery</code>, <code>Zepto</code>, and several classes that return\r\n * Nodes or lists of Nodes.\r\n */\nfunction patch(proto, global) {\n    try {\n        defineProperty$1(proto, (global ? "V" : "v") + "elocity", Velocity$1);\n    } catch (e) {\n        console.warn("VelocityJS: Error when trying to add prototype.", e);\n    }\n}\n\n// Project\nvar Velocity$2 = Velocity$1;\n/**\r\n * These parts of Velocity absolutely must be included, even if they\'re unused!\r\n */\nvar VelocityStatic$1;\n(function (VelocityStatic) {\n    /**\r\n     * Actions cannot be replaced if they are internal (hasOwnProperty is false\r\n     * but they still exist). Otherwise they can be replaced by users.\r\n     *\r\n     * All external method calls should be using actions rather than sub-calls\r\n     * of Velocity itself.\r\n     */\n    VelocityStatic.Actions = Actions;\n    /**\r\n     * Our known easing functions.\r\n     */\n    VelocityStatic.Easings = Easings;\n    /**\r\n     * The currently registered sequences.\r\n     */\n    VelocityStatic.Sequences = SequencesObject;\n    /**\r\n     * Current internal state of Velocity.\r\n     */\n    VelocityStatic.State = State; // tslint:disable-line:no-shadowed-variable\n    /**\r\n     * Velocity option defaults, which can be overriden by the user.\r\n     */\n    VelocityStatic.defaults = defaults$1;\n    /**\r\n     * Used to patch any object to allow Velocity chaining. In order to chain an\r\n     * object must either be treatable as an array - with a <code>.length</code>\r\n     * property, and each member a Node, or a Node directly.\r\n     *\r\n     * By default Velocity will try to patch <code>window</code>,\r\n     * <code>jQuery</code>, <code>Zepto</code>, and several classes that return\r\n     * Nodes or lists of Nodes.\r\n     */\n    VelocityStatic.patch = patch;\n    /**\r\n     * Set to true, 1 or 2 (most verbose) to output debug info to console.\r\n     */\n    VelocityStatic.debug = false;\n    /**\r\n     * In mock mode, all animations are forced to complete immediately upon the\r\n     * next rAF tick. If there are further animations queued then they will each\r\n     * take one single frame in turn. Loops and repeats will be disabled while\r\n     * <code>mock = true</code>.\r\n     */\n    VelocityStatic.mock = false;\n    /**\r\n     * Save our version number somewhere visible.\r\n     */\n    VelocityStatic.version = VERSION;\n    /**\r\n     * Added as a fallback for "import {Velocity} from \'velocity-animate\';".\r\n     */\n    VelocityStatic.Velocity = Velocity$1; // tslint:disable-line:no-shadowed-variable\n})(VelocityStatic$1 || (VelocityStatic$1 = {}));\n/* IE detection. Gist: https://gist.github.com/julianshapiro/9098609 */\nvar IE$1 = function () {\n    if (document.documentMode) {\n        return document.documentMode;\n    } else {\n        for (var i = 7; i > 4; i--) {\n            var div = document.createElement("div");\n            div.innerHTML = "<!" + "--" + "[if IE " + i + "]><span></span><![endif]--\x3e";\n            if (div.getElementsByTagName("span").length) {\n                div = null;\n                return i;\n            }\n        }\n    }\n    return undefined;\n}();\n/******************\r\n Unsupported\r\n ******************/\nif (IE$1 <= 8) {\n    throw new Error("VelocityJS cannot run on Internet Explorer 8 or earlier");\n}\n/******************\r\n Frameworks\r\n ******************/\nif (window) {\n    /*\r\n     * Both jQuery and Zepto allow their $.fn object to be extended to allow\r\n     * wrapped elements to be subjected to plugin calls. If either framework is\r\n     * loaded, register a "velocity" extension pointing to Velocity\'s core\r\n     * animate() method. Velocity also registers itself onto a global container\r\n     * (window.jQuery || window.Zepto || window) so that certain features are\r\n     * accessible beyond just a per-element scope. Accordingly, Velocity can\r\n     * both act on wrapped DOM elements and stand alone for targeting raw DOM\r\n     * elements.\r\n     */\n    var jQuery$1 = window.jQuery,\n        Zepto$1 = window.Zepto;\n    patch(window, true);\n    patch(Element && Element.prototype);\n    patch(NodeList && NodeList.prototype);\n    patch(HTMLCollection && HTMLCollection.prototype);\n    patch(jQuery$1, true);\n    patch(jQuery$1 && jQuery$1.fn);\n    patch(Zepto$1, true);\n    patch(Zepto$1 && Zepto$1.fn);\n}\n// Make sure that the values within Velocity are read-only and upatchable.\n\nvar _loop$1 = function _loop(property) {\n    if (VelocityStatic$1.hasOwnProperty(property)) {\n        switch (typeof property === "undefined" ? "undefined" : _typeof(property)) {\n            case "number":\n            case "boolean":\n                defineProperty$1(Velocity$2, property, {\n                    get: function get$$1() {\n                        return VelocityStatic$1[property];\n                    },\n                    set: function set$$1(value) {\n                        VelocityStatic$1[property] = value;\n                    }\n                }, true);\n                break;\n            default:\n                defineProperty$1(Velocity$2, property, VelocityStatic$1[property], true);\n                break;\n        }\n    }\n};\n\nfor (var property$1 in VelocityStatic$1) {\n    _loop$1(property$1);\n}\nObject.freeze(Velocity$2);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Velocity$2);\n//# sourceMappingURL=velocity.es5.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODU4MS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0UsYUFBYTtBQUNqRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDZEQUE2RCxnRUFBZ0U7QUFDN0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQ7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThEO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9FQUFvRSxhQUFhO0FBQ2pGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHdCQUF3QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix3QkFBd0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvRUFBb0U7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsZ0JBQWdCLElBQUksZ0JBQWdCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsbUJBQW1CO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixtQkFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSwwQkFBMEIsRUFBRSxVQUFVLEVBQUUsVUFBVSxFQUFFO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtRUFBbUUsZ0VBQWdFO0FBQ25JOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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Q2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtRUFBbUUsZ0VBQWdFO0FBQ25JOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0VBQW9FLG1FQUFtRTtBQUN2STs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsNkNBQTZDO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLDJDQUEyQyxZQUFZO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1RUFBdUUsZ0VBQWdFO0FBQ3ZJOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBLGtFQUFrRTtBQUNsRTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxRUFBcUUsbUVBQW1FO0FBQ3hJOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixvQkFBb0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFVBQVUsd0JBQXdCO0FBQzFFO0FBQ0EsMENBQTBDO0FBQzFDLENBQUMsd0NBQXdDO0FBQ3pD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QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxpQkFBaUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIseUJBQXlCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RkFBNEY7QUFDNUY7QUFDQSxnREFBZ0QsbUJBQW1CLHdEQUF3RDtBQUMzSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFVBQVUsd0JBQXdCO0FBQzFFO0FBQ0EsMENBQTBDO0FBQzFDLENBQUMsNENBQTRDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlFQUFlLFVBQVUsRUFBQztBQUMxQiIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWxzLXBsZWFzZS8uL25vZGVfbW9kdWxlcy92ZWxvY2l0eS1hbmltYXRlL3ZlbG9jaXR5LmVzNS5qcz9iY2MyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogdmVsb2NpdHktYW5pbWF0ZSAoQykgMjAxNC0yMDE3IEp1bGlhbiBTaGFwaXJvLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4gU2VlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcHJvamVjdCByb290IGZvciBkZXRhaWxzLlxuICovXG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqO1xufSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG59O1xuXG52YXIgY2xhc3NDYWxsQ2hlY2sgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufTtcblxudmFyIGNyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSgpO1xuXG52YXIgZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiAob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn07XG5cbi8qKlxyXG4gKiBDaGVjayBpZiBhIHZhcmlhYmxlIGlzIGEgYm9vbGVhbi5cclxuICovXG5mdW5jdGlvbiBpc0Jvb2xlYW4odmFyaWFibGUpIHtcbiAgICByZXR1cm4gdmFyaWFibGUgPT09IHRydWUgfHwgdmFyaWFibGUgPT09IGZhbHNlO1xufVxuLyoqXHJcbiAqIENoZWNrIGlmIGEgdmFyaWFibGUgaXMgYSBmdW5jdGlvbi5cclxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhcmlhYmxlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YXJpYWJsZSkgPT09IFwiW29iamVjdCBGdW5jdGlvbl1cIjtcbn1cbi8qKlxyXG4gKiBDaGVjayBpZiBhIHZhcmlhYmxlIGlzIGFuIEhUTUxFbGVtZW50IG9yIFNWR0VsZW1lbnQuXHJcbiAqL1xuZnVuY3Rpb24gaXNOb2RlKHZhcmlhYmxlKSB7XG4gICAgcmV0dXJuICEhKHZhcmlhYmxlICYmIHZhcmlhYmxlLm5vZGVUeXBlKTtcbn1cbi8qKlxyXG4gKiBDaGVjayBpZiBhIHZhcmlhYmxlIGlzIGEgbnVtYmVyLlxyXG4gKi9cbmZ1bmN0aW9uIGlzTnVtYmVyKHZhcmlhYmxlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YXJpYWJsZSA9PT0gXCJudW1iZXJcIjtcbn1cbi8qKlxyXG4gKiBDaGVjayBpZiBhIHZhcmlhYmxlIGlzIGEgcGxhaW4gb2JqZWN0IChhbmQgbm90IGFuIGluc3RhbmNlKS5cclxuICovXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhcmlhYmxlKSB7XG4gICAgaWYgKCF2YXJpYWJsZSB8fCAodHlwZW9mIHZhcmlhYmxlID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YodmFyaWFibGUpKSAhPT0gXCJvYmplY3RcIiB8fCB2YXJpYWJsZS5ub2RlVHlwZSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFyaWFibGUpICE9PSBcIltvYmplY3QgT2JqZWN0XVwiKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhcmlhYmxlKTtcbiAgICByZXR1cm4gIXByb3RvIHx8IHByb3RvLmhhc093blByb3BlcnR5KFwiY29uc3RydWN0b3JcIikgJiYgcHJvdG8uY29uc3RydWN0b3IgPT09IE9iamVjdDtcbn1cbi8qKlxyXG4gKiBDaGVjayBpZiBhIHZhcmlhYmxlIGlzIGEgc3RyaW5nLlxyXG4gKi9cbmZ1bmN0aW9uIGlzU3RyaW5nKHZhcmlhYmxlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YXJpYWJsZSA9PT0gXCJzdHJpbmdcIjtcbn1cbi8qKlxyXG4gKiBDaGVjayBpZiBhIHZhcmlhYmxlIGlzIHRoZSByZXN1bHQgb2YgY2FsbGluZyBWZWxvY2l0eS5cclxuICovXG5mdW5jdGlvbiBpc1ZlbG9jaXR5UmVzdWx0KHZhcmlhYmxlKSB7XG4gICAgcmV0dXJuIHZhcmlhYmxlICYmIGlzTnVtYmVyKHZhcmlhYmxlLmxlbmd0aCkgJiYgaXNGdW5jdGlvbih2YXJpYWJsZS52ZWxvY2l0eSk7XG59XG4vKipcclxuICogQ2hlY2sgaWYgYSB2YXJpYWJsZSBpcyBhbiBhcnJheS1saWtlIHdyYXBwZWQgalF1ZXJ5LCBaZXB0byBvciBzaW1pbGFyLCB3aGVyZVxyXG4gKiBlYWNoIGluZGV4ZWQgdmFsdWUgaXMgYSBOb2RlLlxyXG4gKi9cbmZ1bmN0aW9uIGlzV3JhcHBlZCh2YXJpYWJsZSkge1xuICAgIHJldHVybiB2YXJpYWJsZSAmJiB2YXJpYWJsZSAhPT0gd2luZG93ICYmIGlzTnVtYmVyKHZhcmlhYmxlLmxlbmd0aCkgJiYgIWlzU3RyaW5nKHZhcmlhYmxlKSAmJiAhaXNGdW5jdGlvbih2YXJpYWJsZSkgJiYgIWlzTm9kZSh2YXJpYWJsZSkgJiYgKHZhcmlhYmxlLmxlbmd0aCA9PT0gMCB8fCBpc05vZGUodmFyaWFibGVbMF0pKTtcbn1cbi8qKlxyXG4gKiBDaGVjayBpcyBhIHByb3BlcnR5IGlzIGFuIGVudW1lcmFibGUgbWVtYmVyIG9mIGFuIG9iamVjdC5cclxuICovXG5mdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShvYmosIHByb3BlcnR5KSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmosIHByb3BlcnR5KTtcbn1cblxuLy8gUHJvamVjdFxuLyoqXHJcbiAqIEFkZCBhIHNpbmdsZSBjbGFzc05hbWUgdG8gYW4gRWxlbWVudC5cclxuICovXG5mdW5jdGlvbiBhZGRDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSArPSAoZWxlbWVudC5jbGFzc05hbWUubGVuZ3RoID8gXCIgXCIgOiBcIlwiKSArIGNsYXNzTmFtZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxyXG4gKiBDbG9uZSBhbiBhcnJheSwgd29ya3MgZm9yIGFycmF5LWxpa2UgdG9vLlxyXG4gKi9cbmZ1bmN0aW9uIGNsb25lQXJyYXkoYXJyYXlMaWtlKSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFycmF5TGlrZSwgMCk7XG59XG4vKipcclxuICogVGhlIDxzdHJvbmc+PGNvZGU+ZGVmaW5lUHJvcGVydHkoKTwvY29kZT48L3N0cm9uZz4gZnVuY3Rpb24gcHJvdmlkZXMgYVxyXG4gKiBzaG9ydGN1dCB0byBkZWZpbmluZyBhIHByb3BlcnR5IHRoYXQgY2Fubm90IGJlIGFjY2lkZW50YWxseSBpdGVyYXRlZCBhY3Jvc3MuXHJcbiAqL1xuZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkkMShwcm90bywgbmFtZSwgdmFsdWUsIHJlYWRvbmx5KSB7XG4gICAgaWYgKHByb3RvKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywgbmFtZSwge1xuICAgICAgICAgICAgY29uZmlndXJhYmxlOiAhcmVhZG9ubHksXG4gICAgICAgICAgICB3cml0YWJsZTogIXJlYWRvbmx5LFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8qKlxyXG4gKiBXaGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBsb2NhdGlvbnMgZm9yIGEgdmFsdWUgcGFzcyB0aGVtIGFsbCBpbiwgdGhlbiBnZXQgdGhlXHJcbiAqIGZpcnN0IHZhbHVlIHRoYXQgaXMgdmFsaWQuXHJcbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gYXJnc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgIHZhciBhcmcgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgaWYgKGFyZyAhPT0gdW5kZWZpbmVkICYmIGFyZyA9PT0gYXJnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXHJcbiAqIFNoaW0gdG8gZ2V0IHRoZSBjdXJyZW50IG1pbGxpc2Vjb25kcyAtIG9uIGFueXRoaW5nIGV4Y2VwdCBvbGQgSUUgaXQnbGwgdXNlXHJcbiAqIERhdGUubm93KCkgYW5kIHNhdmUgY3JlYXRpbmcgYW4gb2JqZWN0LiBJZiB0aGF0IGRvZXNuJ3QgZXhpc3QgdGhlbiBpdCdsbFxyXG4gKiBjcmVhdGUgb25lIHRoYXQgZ2V0cyBHQy5cclxuICovXG52YXIgbm93ID0gRGF0ZS5ub3cgPyBEYXRlLm5vdyA6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG59O1xuLyoqXHJcbiAqIFJlbW92ZSBhIHNpbmdsZSBjbGFzc05hbWUgZnJvbSBhbiBFbGVtZW50LlxyXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVE9ETzogTmVlZCBzb21lIGpzcGVyZiB0ZXN0cyBvbiBwZXJmb3JtYW5jZSAtIGNhbiB3ZSBnZXQgcmlkIG9mIHRoZSByZWdleCBhbmQgbWF5YmUgdXNlIHNwbGl0IC8gYXJyYXkgbWFuaXB1bGF0aW9uP1xuICAgICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoXnxcXFxccylcIiArIGNsYXNzTmFtZSArIFwiKFxcXFxzfCQpXCIsIFwiZ2lcIiksIFwiIFwiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gUHJvamVjdFxuLy8gQ29uc3RhbnRzXG52YXIgQWN0aW9ucyA9IHt9O1xuLyoqXHJcbiAqIFVzZWQgdG8gcmVnaXN0ZXIgYW4gYWN0aW9uLiBUaGlzIHNob3VsZCBuZXZlciBiZSBjYWxsZWQgYnkgdXNlcnNcclxuICogZGlyZWN0bHksIGluc3RlYWQgaXQgc2hvdWxkIGJlIGNhbGxlZCB2aWEgIGFuIGFjdGlvbjo8YnIvPlxyXG4gKiA8Y29kZT5WZWxvY2l0eShcInJlZ2lzdGVyQWN0aW9uXCIsIFwibmFtZVwiLCBWZWxvY2l0eUFjdGlvbkZuKTs8L2NvZGU+XHJcbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJBY3Rpb24oYXJncywgaW50ZXJuYWwpIHtcbiAgICB2YXIgbmFtZSA9IGFyZ3NbMF0sXG4gICAgICAgIGNhbGxiYWNrID0gYXJnc1sxXTtcbiAgICBpZiAoIWlzU3RyaW5nKG5hbWUpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ3JlZ2lzdGVyQWN0aW9uJyBuYW1lIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIG5hbWUpO1xuICAgIH0gZWxzZSBpZiAoIWlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ3JlZ2lzdGVyQWN0aW9uJyBjYWxsYmFjayB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCBuYW1lLCBjYWxsYmFjayk7XG4gICAgfSBlbHNlIGlmIChBY3Rpb25zW25hbWVdICYmICFwcm9wZXJ0eUlzRW51bWVyYWJsZShBY3Rpb25zLCBuYW1lKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gb3ZlcnJpZGUgaW50ZXJuYWwgJ3JlZ2lzdGVyQWN0aW9uJyBjYWxsYmFja1wiLCBuYW1lKTtcbiAgICB9IGVsc2UgaWYgKGludGVybmFsID09PSB0cnVlKSB7XG4gICAgICAgIGRlZmluZVByb3BlcnR5JDEoQWN0aW9ucywgbmFtZSwgY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIEFjdGlvbnNbbmFtZV0gPSBjYWxsYmFjaztcbiAgICB9XG59XG5yZWdpc3RlckFjdGlvbihbXCJyZWdpc3RlckFjdGlvblwiLCByZWdpc3RlckFjdGlvbl0sIHRydWUpO1xuXG4vKipcclxuICogV2l0aG91dCB0aGlzIGl0IHdpbGwgb25seSB1bi1wcmVmaXggcHJvcGVydGllcyB0aGF0IGhhdmUgYSB2YWxpZCBcIm5vcm1hbFwiXHJcbiAqIHZlcnNpb24uXHJcbiAqL1xudmFyIERVUkFUSU9OX0ZBU1QgPSAyMDA7XG52YXIgRFVSQVRJT05fTk9STUFMID0gNDAwO1xudmFyIERVUkFUSU9OX1NMT1cgPSA2MDA7XG52YXIgRlVaWllfTVNfUEVSX1NFQ09ORCA9IDk4MDtcbnZhciBERUZBVUxUX0NBQ0hFID0gdHJ1ZTtcbnZhciBERUZBVUxUX0RFTEFZID0gMDtcbnZhciBERUZBVUxUX0RVUkFUSU9OID0gRFVSQVRJT05fTk9STUFMO1xudmFyIERFRkFVTFRfRUFTSU5HID0gXCJzd2luZ1wiO1xudmFyIERFRkFVTFRfRlBTTElNSVQgPSA2MDtcbnZhciBERUZBVUxUX0xPT1AgPSAwO1xudmFyIERFRkFVTFRfUFJPTUlTRSA9IHRydWU7XG52YXIgREVGQVVMVF9QUk9NSVNFX1JFSkVDVF9FTVBUWSA9IHRydWU7XG52YXIgREVGQVVMVF9RVUVVRSA9IFwiXCI7XG52YXIgREVGQVVMVF9SRVBFQVQgPSAwO1xudmFyIERFRkFVTFRfU1BFRUQgPSAxO1xudmFyIERFRkFVTFRfU1lOQyA9IHRydWU7XG52YXIgQ0xBU1NOQU1FID0gXCJ2ZWxvY2l0eS1hbmltYXRpbmdcIjtcbnZhciBEdXJhdGlvbiA9IHtcbiAgZmFzdDogRFVSQVRJT05fRkFTVCxcbiAgbm9ybWFsOiBEVVJBVElPTl9OT1JNQUwsXG4gIHNsb3c6IERVUkFUSU9OX1NMT1dcbn07XG5cbi8vIFByb2plY3Rcbi8vIENvbnN0YW50c1xudmFyIEVhc2luZ3MgPSB7fTtcbi8qKlxyXG4gKiBVc2VkIHRvIHJlZ2lzdGVyIGEgZWFzaW5nLiBUaGlzIHNob3VsZCBuZXZlciBiZSBjYWxsZWQgYnkgdXNlcnNcclxuICogZGlyZWN0bHksIGluc3RlYWQgaXQgc2hvdWxkIGJlIGNhbGxlZCB2aWEgYW4gYWN0aW9uOjxici8+XHJcbiAqIDxjb2RlPlZlbG9jaXR5KFwicmVnaXN0ZXJFYXNpbmdcIiwgXCJuYW1lXCIsIFZlbG9jaXR5RWFzaW5nRm4pOzwvY29kZT5cclxuICovXG5mdW5jdGlvbiByZWdpc3RlckVhc2luZyhhcmdzKSB7XG4gICAgdmFyIG5hbWUgPSBhcmdzWzBdLFxuICAgICAgICBjYWxsYmFjayA9IGFyZ3NbMV07XG4gICAgaWYgKCFpc1N0cmluZyhuYW1lKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdyZWdpc3RlckVhc2luZycgbmFtZSB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCBuYW1lKTtcbiAgICB9IGVsc2UgaWYgKCFpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdyZWdpc3RlckVhc2luZycgY2FsbGJhY2sgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgbmFtZSwgY2FsbGJhY2spO1xuICAgIH0gZWxzZSBpZiAoRWFzaW5nc1tuYW1lXSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gb3ZlcnJpZGUgJ3JlZ2lzdGVyRWFzaW5nJyBjYWxsYmFja1wiLCBuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBFYXNpbmdzW25hbWVdID0gY2FsbGJhY2s7XG4gICAgfVxufVxucmVnaXN0ZXJBY3Rpb24oW1wicmVnaXN0ZXJFYXNpbmdcIiwgcmVnaXN0ZXJFYXNpbmddLCB0cnVlKTtcbi8qKlxyXG4gKiBMaW5lYXIgZWFzaW5nLCB1c2VkIGZvciBzZXF1ZW5jZSBwYXJ0cyB0aGF0IGRvbid0IGhhdmUgYW4gYWN0dWFsIGVhc2luZ1xyXG4gKiBmdW5jdGlvbi5cclxuICovXG5mdW5jdGlvbiBsaW5lYXJFYXNpbmcocGVyY2VudENvbXBsZXRlLCBzdGFydFZhbHVlLCBlbmRWYWx1ZSwgcHJvcGVydHkpIHtcbiAgICByZXR1cm4gc3RhcnRWYWx1ZSArIHBlcmNlbnRDb21wbGV0ZSAqIChlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUpO1xufVxuLyoqXHJcbiAqIFN3aW5nIGlzIHRoZSBkZWZhdWx0IGZvciBqUXVlcnkgYW5kIFZlbG9jaXR5LlxyXG4gKi9cbmZ1bmN0aW9uIHN3aW5nRWFzaW5nKHBlcmNlbnRDb21wbGV0ZSwgc3RhcnRWYWx1ZSwgZW5kVmFsdWUpIHtcbiAgICByZXR1cm4gc3RhcnRWYWx1ZSArICgwLjUgLSBNYXRoLmNvcyhwZXJjZW50Q29tcGxldGUgKiBNYXRoLlBJKSAvIDIpICogKGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSk7XG59XG4vKipcclxuICogQSBsZXNzIGV4YWdnZXJhdGVkIHZlcnNpb24gb2YgZWFzZUluT3V0RWxhc3RpYy5cclxuICovXG5mdW5jdGlvbiBzcHJpbmdFYXNpbmcocGVyY2VudENvbXBsZXRlLCBzdGFydFZhbHVlLCBlbmRWYWx1ZSkge1xuICAgIHJldHVybiBzdGFydFZhbHVlICsgKDEgLSBNYXRoLmNvcyhwZXJjZW50Q29tcGxldGUgKiA0LjUgKiBNYXRoLlBJKSAqIE1hdGguZXhwKC1wZXJjZW50Q29tcGxldGUgKiA2KSkgKiAoZW5kVmFsdWUgLSBzdGFydFZhbHVlKTtcbn1cbnJlZ2lzdGVyRWFzaW5nKFtcImxpbmVhclwiLCBsaW5lYXJFYXNpbmddKTtcbnJlZ2lzdGVyRWFzaW5nKFtcInN3aW5nXCIsIHN3aW5nRWFzaW5nXSk7XG5yZWdpc3RlckVhc2luZyhbXCJzcHJpbmdcIiwgc3ByaW5nRWFzaW5nXSk7XG5cbi8vIFByb2plY3Rcbi8qKlxyXG4gKiBGaXggdG8gYSByYW5nZSBvZiA8Y29kZT4wIDw9IG51bSA8PSAxPC9jb2RlPi5cclxuICovXG5mdW5jdGlvbiBmaXhSYW5nZShudW0pIHtcbiAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobnVtLCAwKSwgMSk7XG59XG5mdW5jdGlvbiBBKGFBMSwgYUEyKSB7XG4gICAgcmV0dXJuIDEgLSAzICogYUEyICsgMyAqIGFBMTtcbn1cbmZ1bmN0aW9uIEIoYUExLCBhQTIpIHtcbiAgICByZXR1cm4gMyAqIGFBMiAtIDYgKiBhQTE7XG59XG5mdW5jdGlvbiBDKGFBMSkge1xuICAgIHJldHVybiAzICogYUExO1xufVxuZnVuY3Rpb24gY2FsY0JlemllcihhVCwgYUExLCBhQTIpIHtcbiAgICByZXR1cm4gKChBKGFBMSwgYUEyKSAqIGFUICsgQihhQTEsIGFBMikpICogYVQgKyBDKGFBMSkpICogYVQ7XG59XG5mdW5jdGlvbiBnZXRTbG9wZShhVCwgYUExLCBhQTIpIHtcbiAgICByZXR1cm4gMyAqIEEoYUExLCBhQTIpICogYVQgKiBhVCArIDIgKiBCKGFBMSwgYUEyKSAqIGFUICsgQyhhQTEpO1xufVxuZnVuY3Rpb24gZ2VuZXJhdGVCZXppZXIoKSB7XG4gICAgdmFyIE5FV1RPTl9JVEVSQVRJT05TID0gNCxcbiAgICAgICAgTkVXVE9OX01JTl9TTE9QRSA9IDAuMDAxLFxuICAgICAgICBTVUJESVZJU0lPTl9QUkVDSVNJT04gPSAwLjAwMDAwMDEsXG4gICAgICAgIFNVQkRJVklTSU9OX01BWF9JVEVSQVRJT05TID0gMTAsXG4gICAgICAgIGtTcGxpbmVUYWJsZVNpemUgPSAxMSxcbiAgICAgICAga1NhbXBsZVN0ZXBTaXplID0gMSAvIChrU3BsaW5lVGFibGVTaXplIC0gMSksXG4gICAgICAgIGZsb2F0MzJBcnJheVN1cHBvcnRlZCA9IFwiRmxvYXQzMkFycmF5XCIgaW4gd2luZG93O1xuICAgIC8qIE11c3QgY29udGFpbiBmb3VyIGFyZ3MuICovXG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGlmIChhcmdzLmxlbmd0aCAhPT0gNCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8qIEFyZ3MgbXVzdCBiZSBudW1iZXJzLiAqL1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgKytpKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYXJnc1tpXSAhPT0gXCJudW1iZXJcIiB8fCBpc05hTihhcmdzW2ldKSB8fCAhaXNGaW5pdGUoYXJnc1tpXSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiBYIHZhbHVlcyBtdXN0IGJlIGluIHRoZSBbMCwgMV0gcmFuZ2UuICovXG4gICAgdmFyIG1YMSA9IGZpeFJhbmdlKGFyZ3NbMF0pO1xuICAgIHZhciBtWTEgPSBhcmdzWzFdO1xuICAgIHZhciBtWDIgPSBmaXhSYW5nZShhcmdzWzJdKTtcbiAgICB2YXIgbVkyID0gYXJnc1szXTtcbiAgICB2YXIgbVNhbXBsZVZhbHVlcyA9IGZsb2F0MzJBcnJheVN1cHBvcnRlZCA/IG5ldyBGbG9hdDMyQXJyYXkoa1NwbGluZVRhYmxlU2l6ZSkgOiBuZXcgQXJyYXkoa1NwbGluZVRhYmxlU2l6ZSk7XG4gICAgZnVuY3Rpb24gbmV3dG9uUmFwaHNvbkl0ZXJhdGUoYVgsIGFHdWVzc1QpIHtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IE5FV1RPTl9JVEVSQVRJT05TOyArK19pKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFNsb3BlID0gZ2V0U2xvcGUoYUd1ZXNzVCwgbVgxLCBtWDIpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRTbG9wZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhR3Vlc3NUO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGN1cnJlbnRYID0gY2FsY0JlemllcihhR3Vlc3NULCBtWDEsIG1YMikgLSBhWDtcbiAgICAgICAgICAgIGFHdWVzc1QgLT0gY3VycmVudFggLyBjdXJyZW50U2xvcGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFHdWVzc1Q7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhbGNTYW1wbGVWYWx1ZXMoKSB7XG4gICAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IGtTcGxpbmVUYWJsZVNpemU7ICsrX2kyKSB7XG4gICAgICAgICAgICBtU2FtcGxlVmFsdWVzW19pMl0gPSBjYWxjQmV6aWVyKF9pMiAqIGtTYW1wbGVTdGVwU2l6ZSwgbVgxLCBtWDIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJpbmFyeVN1YmRpdmlkZShhWCwgYUEsIGFCKSB7XG4gICAgICAgIHZhciBjdXJyZW50WCA9IHZvaWQgMCxcbiAgICAgICAgICAgIGN1cnJlbnRUID0gdm9pZCAwLFxuICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGN1cnJlbnRUID0gYUEgKyAoYUIgLSBhQSkgLyAyO1xuICAgICAgICAgICAgY3VycmVudFggPSBjYWxjQmV6aWVyKGN1cnJlbnRULCBtWDEsIG1YMikgLSBhWDtcbiAgICAgICAgICAgIGlmIChjdXJyZW50WCA+IDApIHtcbiAgICAgICAgICAgICAgICBhQiA9IGN1cnJlbnRUO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhQSA9IGN1cnJlbnRUO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChNYXRoLmFicyhjdXJyZW50WCkgPiBTVUJESVZJU0lPTl9QUkVDSVNJT04gJiYgKytpIDwgU1VCRElWSVNJT05fTUFYX0lURVJBVElPTlMpO1xuICAgICAgICByZXR1cm4gY3VycmVudFQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRGb3JYKGFYKSB7XG4gICAgICAgIHZhciBsYXN0U2FtcGxlID0ga1NwbGluZVRhYmxlU2l6ZSAtIDE7XG4gICAgICAgIHZhciBpbnRlcnZhbFN0YXJ0ID0gMCxcbiAgICAgICAgICAgIGN1cnJlbnRTYW1wbGUgPSAxO1xuICAgICAgICBmb3IgKDsgY3VycmVudFNhbXBsZSAhPT0gbGFzdFNhbXBsZSAmJiBtU2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdIDw9IGFYOyArK2N1cnJlbnRTYW1wbGUpIHtcbiAgICAgICAgICAgIGludGVydmFsU3RhcnQgKz0ga1NhbXBsZVN0ZXBTaXplO1xuICAgICAgICB9XG4gICAgICAgIC0tY3VycmVudFNhbXBsZTtcbiAgICAgICAgdmFyIGRpc3QgPSAoYVggLSBtU2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdKSAvIChtU2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGUgKyAxXSAtIG1TYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pLFxuICAgICAgICAgICAgZ3Vlc3NGb3JUID0gaW50ZXJ2YWxTdGFydCArIGRpc3QgKiBrU2FtcGxlU3RlcFNpemUsXG4gICAgICAgICAgICBpbml0aWFsU2xvcGUgPSBnZXRTbG9wZShndWVzc0ZvclQsIG1YMSwgbVgyKTtcbiAgICAgICAgaWYgKGluaXRpYWxTbG9wZSA+PSBORVdUT05fTUlOX1NMT1BFKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3dG9uUmFwaHNvbkl0ZXJhdGUoYVgsIGd1ZXNzRm9yVCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5pdGlhbFNsb3BlID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZ3Vlc3NGb3JUO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGJpbmFyeVN1YmRpdmlkZShhWCwgaW50ZXJ2YWxTdGFydCwgaW50ZXJ2YWxTdGFydCArIGtTYW1wbGVTdGVwU2l6ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIHByZWNvbXB1dGVkID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gcHJlY29tcHV0ZSgpIHtcbiAgICAgICAgcHJlY29tcHV0ZWQgPSB0cnVlO1xuICAgICAgICBpZiAobVgxICE9PSBtWTEgfHwgbVgyICE9PSBtWTIpIHtcbiAgICAgICAgICAgIGNhbGNTYW1wbGVWYWx1ZXMoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgc3RyID0gXCJnZW5lcmF0ZUJlemllcihcIiArIFttWDEsIG1ZMSwgbVgyLCBtWTJdICsgXCIpXCIsXG4gICAgICAgIGYgPSBmdW5jdGlvbiBmKHBlcmNlbnRDb21wbGV0ZSwgc3RhcnRWYWx1ZSwgZW5kVmFsdWUsIHByb3BlcnR5KSB7XG4gICAgICAgIGlmICghcHJlY29tcHV0ZWQpIHtcbiAgICAgICAgICAgIHByZWNvbXB1dGUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhcnRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gZW5kVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1YMSA9PT0gbVkxICYmIG1YMiA9PT0gbVkyKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhcnRWYWx1ZSArIHBlcmNlbnRDb21wbGV0ZSAqIChlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGFydFZhbHVlICsgY2FsY0JlemllcihnZXRURm9yWChwZXJjZW50Q29tcGxldGUpLCBtWTEsIG1ZMikgKiAoZW5kVmFsdWUgLSBzdGFydFZhbHVlKTtcbiAgICB9O1xuICAgIGYuZ2V0Q29udHJvbFBvaW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFt7IHg6IG1YMSwgeTogbVkxIH0sIHsgeDogbVgyLCB5OiBtWTIgfV07XG4gICAgfTtcbiAgICBmLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH07XG4gICAgcmV0dXJuIGY7XG59XG4vKiBDb21tb24gZWFzaW5ncyAqL1xudmFyIGVhc2VJbiA9IGdlbmVyYXRlQmV6aWVyKDAuNDIsIDAsIDEsIDEpLFxuICAgIGVhc2VPdXQgPSBnZW5lcmF0ZUJlemllcigwLCAwLCAwLjU4LCAxKSxcbiAgICBlYXNlSW5PdXQgPSBnZW5lcmF0ZUJlemllcigwLjQyLCAwLCAwLjU4LCAxKTtcbnJlZ2lzdGVyRWFzaW5nKFtcImVhc2VcIiwgZ2VuZXJhdGVCZXppZXIoMC4yNSwgMC4xLCAwLjI1LCAxKV0pO1xucmVnaXN0ZXJFYXNpbmcoW1wiZWFzZUluXCIsIGVhc2VJbl0pO1xucmVnaXN0ZXJFYXNpbmcoW1wiZWFzZS1pblwiLCBlYXNlSW5dKTtcbnJlZ2lzdGVyRWFzaW5nKFtcImVhc2VPdXRcIiwgZWFzZU91dF0pO1xucmVnaXN0ZXJFYXNpbmcoW1wiZWFzZS1vdXRcIiwgZWFzZU91dF0pO1xucmVnaXN0ZXJFYXNpbmcoW1wiZWFzZUluT3V0XCIsIGVhc2VJbk91dF0pO1xucmVnaXN0ZXJFYXNpbmcoW1wiZWFzZS1pbi1vdXRcIiwgZWFzZUluT3V0XSk7XG5yZWdpc3RlckVhc2luZyhbXCJlYXNlSW5TaW5lXCIsIGdlbmVyYXRlQmV6aWVyKDAuNDcsIDAsIDAuNzQ1LCAwLjcxNSldKTtcbnJlZ2lzdGVyRWFzaW5nKFtcImVhc2VPdXRTaW5lXCIsIGdlbmVyYXRlQmV6aWVyKDAuMzksIDAuNTc1LCAwLjU2NSwgMSldKTtcbnJlZ2lzdGVyRWFzaW5nKFtcImVhc2VJbk91dFNpbmVcIiwgZ2VuZXJhdGVCZXppZXIoMC40NDUsIDAuMDUsIDAuNTUsIDAuOTUpXSk7XG5yZWdpc3RlckVhc2luZyhbXCJlYXNlSW5RdWFkXCIsIGdlbmVyYXRlQmV6aWVyKDAuNTUsIDAuMDg1LCAwLjY4LCAwLjUzKV0pO1xucmVnaXN0ZXJFYXNpbmcoW1wiZWFzZU91dFF1YWRcIiwgZ2VuZXJhdGVCZXppZXIoMC4yNSwgMC40NiwgMC40NSwgMC45NCldKTtcbnJlZ2lzdGVyRWFzaW5nKFtcImVhc2VJbk91dFF1YWRcIiwgZ2VuZXJhdGVCZXppZXIoMC40NTUsIDAuMDMsIDAuNTE1LCAwLjk1NSldKTtcbnJlZ2lzdGVyRWFzaW5nKFtcImVhc2VJbkN1YmljXCIsIGdlbmVyYXRlQmV6aWVyKDAuNTUsIDAuMDU1LCAwLjY3NSwgMC4xOSldKTtcbnJlZ2lzdGVyRWFzaW5nKFtcImVhc2VPdXRDdWJpY1wiLCBnZW5lcmF0ZUJlemllcigwLjIxNSwgMC42MSwgMC4zNTUsIDEpXSk7XG5yZWdpc3RlckVhc2luZyhbXCJlYXNlSW5PdXRDdWJpY1wiLCBnZW5lcmF0ZUJlemllcigwLjY0NSwgMC4wNDUsIDAuMzU1LCAxKV0pO1xucmVnaXN0ZXJFYXNpbmcoW1wiZWFzZUluUXVhcnRcIiwgZ2VuZXJhdGVCZXppZXIoMC44OTUsIDAuMDMsIDAuNjg1LCAwLjIyKV0pO1xucmVnaXN0ZXJFYXNpbmcoW1wiZWFzZU91dFF1YXJ0XCIsIGdlbmVyYXRlQmV6aWVyKDAuMTY1LCAwLjg0LCAwLjQ0LCAxKV0pO1xucmVnaXN0ZXJFYXNpbmcoW1wiZWFzZUluT3V0UXVhcnRcIiwgZ2VuZXJhdGVCZXppZXIoMC43NywgMCwgMC4xNzUsIDEpXSk7XG5yZWdpc3RlckVhc2luZyhbXCJlYXNlSW5RdWludFwiLCBnZW5lcmF0ZUJlemllcigwLjc1NSwgMC4wNSwgMC44NTUsIDAuMDYpXSk7XG5yZWdpc3RlckVhc2luZyhbXCJlYXNlT3V0UXVpbnRcIiwgZ2VuZXJhdGVCZXppZXIoMC4yMywgMSwgMC4zMiwgMSldKTtcbnJlZ2lzdGVyRWFzaW5nKFtcImVhc2VJbk91dFF1aW50XCIsIGdlbmVyYXRlQmV6aWVyKDAuODYsIDAsIDAuMDcsIDEpXSk7XG5yZWdpc3RlckVhc2luZyhbXCJlYXNlSW5FeHBvXCIsIGdlbmVyYXRlQmV6aWVyKDAuOTUsIDAuMDUsIDAuNzk1LCAwLjAzNSldKTtcbnJlZ2lzdGVyRWFzaW5nKFtcImVhc2VPdXRFeHBvXCIsIGdlbmVyYXRlQmV6aWVyKDAuMTksIDEsIDAuMjIsIDEpXSk7XG5yZWdpc3RlckVhc2luZyhbXCJlYXNlSW5PdXRFeHBvXCIsIGdlbmVyYXRlQmV6aWVyKDEsIDAsIDAsIDEpXSk7XG5yZWdpc3RlckVhc2luZyhbXCJlYXNlSW5DaXJjXCIsIGdlbmVyYXRlQmV6aWVyKDAuNiwgMC4wNCwgMC45OCwgMC4zMzUpXSk7XG5yZWdpc3RlckVhc2luZyhbXCJlYXNlT3V0Q2lyY1wiLCBnZW5lcmF0ZUJlemllcigwLjA3NSwgMC44MiwgMC4xNjUsIDEpXSk7XG5yZWdpc3RlckVhc2luZyhbXCJlYXNlSW5PdXRDaXJjXCIsIGdlbmVyYXRlQmV6aWVyKDAuNzg1LCAwLjEzNSwgMC4xNSwgMC44NildKTtcblxuLyogUnVuZ2UtS3V0dGEgc3ByaW5nIHBoeXNpY3MgZnVuY3Rpb24gZ2VuZXJhdG9yLiBBZGFwdGVkIGZyb20gRnJhbWVyLmpzLCBjb3B5cmlnaHQgS29lbiBCb2suIE1JVCBMaWNlbnNlOiBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01JVF9MaWNlbnNlICovXG4vKiBHaXZlbiBhIHRlbnNpb24sIGZyaWN0aW9uLCBhbmQgZHVyYXRpb24sIGEgc2ltdWxhdGlvbiBhdCA2MEZQUyB3aWxsIGZpcnN0IHJ1biB3aXRob3V0IGEgZGVmaW5lZCBkdXJhdGlvbiBpbiBvcmRlciB0byBjYWxjdWxhdGUgdGhlIGZ1bGwgcGF0aC4gQSBzZWNvbmQgcGFzc1xyXG4gdGhlbiBhZGp1c3RzIHRoZSB0aW1lIGRlbHRhIC0tIHVzaW5nIHRoZSByZWxhdGlvbiBiZXR3ZWVuIGFjdHVhbCB0aW1lIGFuZCBkdXJhdGlvbiAtLSB0byBjYWxjdWxhdGUgdGhlIHBhdGggZm9yIHRoZSBkdXJhdGlvbi1jb25zdHJhaW5lZCBhbmltYXRpb24uICovXG5mdW5jdGlvbiBzcHJpbmdBY2NlbGVyYXRpb25Gb3JTdGF0ZShzdGF0ZSkge1xuICAgIHJldHVybiAtc3RhdGUudGVuc2lvbiAqIHN0YXRlLnggLSBzdGF0ZS5mcmljdGlvbiAqIHN0YXRlLnY7XG59XG5mdW5jdGlvbiBzcHJpbmdFdmFsdWF0ZVN0YXRlV2l0aERlcml2YXRpdmUoaW5pdGlhbFN0YXRlLCBkdCwgZGVyaXZhdGl2ZSkge1xuICAgIHZhciBzdGF0ZSA9IHtcbiAgICAgICAgeDogaW5pdGlhbFN0YXRlLnggKyBkZXJpdmF0aXZlLmR4ICogZHQsXG4gICAgICAgIHY6IGluaXRpYWxTdGF0ZS52ICsgZGVyaXZhdGl2ZS5kdiAqIGR0LFxuICAgICAgICB0ZW5zaW9uOiBpbml0aWFsU3RhdGUudGVuc2lvbixcbiAgICAgICAgZnJpY3Rpb246IGluaXRpYWxTdGF0ZS5mcmljdGlvblxuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZHg6IHN0YXRlLnYsXG4gICAgICAgIGR2OiBzcHJpbmdBY2NlbGVyYXRpb25Gb3JTdGF0ZShzdGF0ZSlcbiAgICB9O1xufVxuZnVuY3Rpb24gc3ByaW5nSW50ZWdyYXRlU3RhdGUoc3RhdGUsIGR0KSB7XG4gICAgdmFyIGEgPSB7XG4gICAgICAgIGR4OiBzdGF0ZS52LFxuICAgICAgICBkdjogc3ByaW5nQWNjZWxlcmF0aW9uRm9yU3RhdGUoc3RhdGUpXG4gICAgfSxcbiAgICAgICAgYiA9IHNwcmluZ0V2YWx1YXRlU3RhdGVXaXRoRGVyaXZhdGl2ZShzdGF0ZSwgZHQgKiAwLjUsIGEpLFxuICAgICAgICBjID0gc3ByaW5nRXZhbHVhdGVTdGF0ZVdpdGhEZXJpdmF0aXZlKHN0YXRlLCBkdCAqIDAuNSwgYiksXG4gICAgICAgIGQgPSBzcHJpbmdFdmFsdWF0ZVN0YXRlV2l0aERlcml2YXRpdmUoc3RhdGUsIGR0LCBjKSxcbiAgICAgICAgZHhkdCA9IDEgLyA2ICogKGEuZHggKyAyICogKGIuZHggKyBjLmR4KSArIGQuZHgpLFxuICAgICAgICBkdmR0ID0gMSAvIDYgKiAoYS5kdiArIDIgKiAoYi5kdiArIGMuZHYpICsgZC5kdik7XG4gICAgc3RhdGUueCA9IHN0YXRlLnggKyBkeGR0ICogZHQ7XG4gICAgc3RhdGUudiA9IHN0YXRlLnYgKyBkdmR0ICogZHQ7XG4gICAgcmV0dXJuIHN0YXRlO1xufVxuZnVuY3Rpb24gZ2VuZXJhdGVTcHJpbmdSSzQodGVuc2lvbiwgZnJpY3Rpb24sIGR1cmF0aW9uKSB7XG4gICAgdmFyIGluaXRTdGF0ZSA9IHtcbiAgICAgICAgeDogLTEsXG4gICAgICAgIHY6IDAsXG4gICAgICAgIHRlbnNpb246IHBhcnNlRmxvYXQodGVuc2lvbikgfHwgNTAwLFxuICAgICAgICBmcmljdGlvbjogcGFyc2VGbG9hdChmcmljdGlvbikgfHwgMjBcbiAgICB9LFxuICAgICAgICBwYXRoID0gWzBdLFxuICAgICAgICB0b2xlcmFuY2UgPSAxIC8gMTAwMDAsXG4gICAgICAgIERUID0gMTYgLyAxMDAwLFxuICAgICAgICBoYXZlRHVyYXRpb24gPSBkdXJhdGlvbiAhPSBudWxsOyAvLyBkZWxpYmVyYXRlIFwiPT1cIiwgYXMgdW5kZWZpbmVkID09IG51bGwgIT0gMFxuICAgIHZhciB0aW1lTGFwc2VkID0gMCxcbiAgICAgICAgZHQgPSB2b2lkIDAsXG4gICAgICAgIGxhc3RTdGF0ZSA9IHZvaWQgMDtcbiAgICAvKiBDYWxjdWxhdGUgdGhlIGFjdHVhbCB0aW1lIGl0IHRha2VzIGZvciB0aGlzIGFuaW1hdGlvbiB0byBjb21wbGV0ZSB3aXRoIHRoZSBwcm92aWRlZCBjb25kaXRpb25zLiAqL1xuICAgIGlmIChoYXZlRHVyYXRpb24pIHtcbiAgICAgICAgLyogUnVuIHRoZSBzaW11bGF0aW9uIHdpdGhvdXQgYSBkdXJhdGlvbi4gKi9cbiAgICAgICAgdGltZUxhcHNlZCA9IGdlbmVyYXRlU3ByaW5nUks0KGluaXRTdGF0ZS50ZW5zaW9uLCBpbml0U3RhdGUuZnJpY3Rpb24pO1xuICAgICAgICAvKiBDb21wdXRlIHRoZSBhZGp1c3RlZCB0aW1lIGRlbHRhLiAqL1xuICAgICAgICBkdCA9IHRpbWVMYXBzZWQgLyBkdXJhdGlvbiAqIERUO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGR0ID0gRFQ7XG4gICAgfVxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIC8qIE5leHQvc3RlcCBmdW5jdGlvbiAuKi9cbiAgICAgICAgbGFzdFN0YXRlID0gc3ByaW5nSW50ZWdyYXRlU3RhdGUobGFzdFN0YXRlIHx8IGluaXRTdGF0ZSwgZHQpO1xuICAgICAgICAvKiBTdG9yZSB0aGUgcG9zaXRpb24uICovXG4gICAgICAgIHBhdGgucHVzaCgxICsgbGFzdFN0YXRlLngpO1xuICAgICAgICB0aW1lTGFwc2VkICs9IDE2O1xuICAgICAgICAvKiBJZiB0aGUgY2hhbmdlIHRocmVzaG9sZCBpcyByZWFjaGVkLCBicmVhay4gKi9cbiAgICAgICAgaWYgKCEoTWF0aC5hYnMobGFzdFN0YXRlLngpID4gdG9sZXJhbmNlICYmIE1hdGguYWJzKGxhc3RTdGF0ZS52KSA+IHRvbGVyYW5jZSkpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qIElmIGR1cmF0aW9uIGlzIG5vdCBkZWZpbmVkLCByZXR1cm4gdGhlIGFjdHVhbCB0aW1lIHJlcXVpcmVkIGZvciBjb21wbGV0aW5nIHRoaXMgYW5pbWF0aW9uLiBPdGhlcndpc2UsIHJldHVybiBhIGNsb3N1cmUgdGhhdCBob2xkcyB0aGVcclxuICAgICBjb21wdXRlZCBwYXRoIGFuZCByZXR1cm5zIGEgc25hcHNob3Qgb2YgdGhlIHBvc2l0aW9uIGFjY29yZGluZyB0byBhIGdpdmVuIHBlcmNlbnRDb21wbGV0ZS4gKi9cbiAgICByZXR1cm4gIWhhdmVEdXJhdGlvbiA/IHRpbWVMYXBzZWQgOiBmdW5jdGlvbiAocGVyY2VudENvbXBsZXRlLCBzdGFydFZhbHVlLCBlbmRWYWx1ZSkge1xuICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhcnRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gZW5kVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWUgKyBwYXRoW01hdGguZmxvb3IocGVyY2VudENvbXBsZXRlICogKHBhdGgubGVuZ3RoIC0gMSkpXSAqIChlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUpO1xuICAgIH07XG59XG5cbi8vIENvbnN0YW50c1xudmFyIGNhY2hlID0ge307XG5mdW5jdGlvbiBnZW5lcmF0ZVN0ZXAoc3RlcHMpIHtcbiAgICB2YXIgZm4gPSBjYWNoZVtzdGVwc107XG4gICAgaWYgKGZuKSB7XG4gICAgICAgIHJldHVybiBmbjtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlW3N0ZXBzXSA9IGZ1bmN0aW9uIChwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSB7XG4gICAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFydFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBlbmRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhcnRWYWx1ZSArIE1hdGgucm91bmQocGVyY2VudENvbXBsZXRlICogc3RlcHMpICogKDEgLyBzdGVwcykgKiAoZW5kVmFsdWUgLSBzdGFydFZhbHVlKTtcbiAgICB9O1xufVxuXG4vLyBQcm9qZWN0XG4vKipcclxuICogUGFyc2UgYSBkdXJhdGlvbiB2YWx1ZSBhbmQgcmV0dXJuIGFuIG1zIG51bWJlci4gT3B0aW9uYWxseSByZXR1cm4gYVxyXG4gKiBkZWZhdWx0IHZhbHVlIGlmIHRoZSBudW1iZXIgaXMgbm90IHZhbGlkLlxyXG4gKi9cbmZ1bmN0aW9uIHBhcnNlRHVyYXRpb24oZHVyYXRpb24sIGRlZikge1xuICAgIGlmIChpc051bWJlcihkdXJhdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIGR1cmF0aW9uO1xuICAgIH1cbiAgICBpZiAoaXNTdHJpbmcoZHVyYXRpb24pKSB7XG4gICAgICAgIHJldHVybiBEdXJhdGlvbltkdXJhdGlvbi50b0xvd2VyQ2FzZSgpXSB8fCBwYXJzZUZsb2F0KGR1cmF0aW9uLnJlcGxhY2UoXCJtc1wiLCBcIlwiKS5yZXBsYWNlKFwic1wiLCBcIjAwMFwiKSk7XG4gICAgfVxuICAgIHJldHVybiBkZWYgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IHBhcnNlRHVyYXRpb24oZGVmKTtcbn1cbi8qKlxyXG4gKiBWYWxpZGF0ZSBhIDxjb2RlPmNhY2hlPC9jb2RlPiBvcHRpb24uXHJcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVDYWNoZSh2YWx1ZSkge1xuICAgIGlmIChpc0Jvb2xlYW4odmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAnY2FjaGUnIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIHZhbHVlKTtcbiAgICB9XG59XG4vKipcclxuICogVmFsaWRhdGUgYSA8Y29kZT5iZWdpbjwvY29kZT4gb3B0aW9uLlxyXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlQmVnaW4odmFsdWUpIHtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdiZWdpbicgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgdmFsdWUpO1xuICAgIH1cbn1cbi8qKlxyXG4gKiBWYWxpZGF0ZSBhIDxjb2RlPmNvbXBsZXRlPC9jb2RlPiBvcHRpb24uXHJcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVDb21wbGV0ZSh2YWx1ZSwgbm9FcnJvcikge1xuICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmICh2YWx1ZSAhPSBudWxsICYmICFub0Vycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ2NvbXBsZXRlJyB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCB2YWx1ZSk7XG4gICAgfVxufVxuLyoqXHJcbiAqIFZhbGlkYXRlIGEgPGNvZGU+ZGVsYXk8L2NvZGU+IG9wdGlvbi5cclxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZURlbGF5KHZhbHVlKSB7XG4gICAgdmFyIHBhcnNlZCA9IHBhcnNlRHVyYXRpb24odmFsdWUpO1xuICAgIGlmICghaXNOYU4ocGFyc2VkKSkge1xuICAgICAgICByZXR1cm4gcGFyc2VkO1xuICAgIH1cbiAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAnZGVsYXknIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIHZhbHVlKTtcbiAgICB9XG59XG4vKipcclxuICogVmFsaWRhdGUgYSA8Y29kZT5kdXJhdGlvbjwvY29kZT4gb3B0aW9uLlxyXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlRHVyYXRpb24odmFsdWUsIG5vRXJyb3IpIHtcbiAgICB2YXIgcGFyc2VkID0gcGFyc2VEdXJhdGlvbih2YWx1ZSk7XG4gICAgaWYgKCFpc05hTihwYXJzZWQpICYmIHBhcnNlZCA+PSAwKSB7XG4gICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgfVxuICAgIGlmICh2YWx1ZSAhPSBudWxsICYmICFub0Vycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdkdXJhdGlvbicgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgdmFsdWUpO1xuICAgIH1cbn1cbi8qKlxyXG4gKiBWYWxpZGF0ZSBhIDxjb2RlPmVhc2luZzwvY29kZT4gb3B0aW9uLlxyXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlRWFzaW5nKHZhbHVlLCBkdXJhdGlvbiwgbm9FcnJvcikge1xuICAgIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgLy8gTmFtZWQgZWFzaW5nXG4gICAgICAgIHJldHVybiBFYXNpbmdzW3ZhbHVlXTtcbiAgICB9XG4gICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgLy8gVE9ETzogV2Ugc2hvdWxkIG9ubHkgZG8gdGhlc2UgaWYgdGhlIGNvcnJlY3QgZnVuY3Rpb24gZXhpc3RzIC0gZG9uJ3QgZm9yY2UgbG9hZGluZy5cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgLy8gU3RlcHNcbiAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZVN0ZXAodmFsdWVbMF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIC8vIHNwcmluZ1JLNCBtdXN0IGJlIHBhc3NlZCB0aGUgYW5pbWF0aW9uJ3MgZHVyYXRpb24uXG4gICAgICAgICAgICAvLyBOb3RlOiBJZiB0aGUgc3ByaW5nUks0IGFycmF5IGNvbnRhaW5zIG5vbi1udW1iZXJzLFxuICAgICAgICAgICAgLy8gZ2VuZXJhdGVTcHJpbmdSSzQoKSByZXR1cm5zIGFuIGVhc2luZyBmdW5jdGlvbiBnZW5lcmF0ZWQgd2l0aFxuICAgICAgICAgICAgLy8gZGVmYXVsdCB0ZW5zaW9uIGFuZCBmcmljdGlvbiB2YWx1ZXMuXG4gICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVTcHJpbmdSSzQodmFsdWVbMF0sIHZhbHVlWzFdLCBkdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgLy8gTm90ZTogSWYgdGhlIGJlemllciBhcnJheSBjb250YWlucyBub24tbnVtYmVycywgZ2VuZXJhdGVCZXppZXIoKVxuICAgICAgICAgICAgLy8gcmV0dXJucyB1bmRlZmluZWQuXG4gICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVCZXppZXIuYXBwbHkobnVsbCwgdmFsdWUpIHx8IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh2YWx1ZSAhPSBudWxsICYmICFub0Vycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdlYXNpbmcnIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIHZhbHVlKTtcbiAgICB9XG59XG4vKipcclxuICogVmFsaWRhdGUgYSA8Y29kZT5mcHNMaW1pdDwvY29kZT4gb3B0aW9uLlxyXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlRnBzTGltaXQodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBwYXJzZWQgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgICBpZiAoIWlzTmFOKHBhcnNlZCkgJiYgcGFyc2VkID49IDApIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbihwYXJzZWQsIDYwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdmcHNMaW1pdCcgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgdmFsdWUpO1xuICAgIH1cbn1cbi8qKlxyXG4gKiBWYWxpZGF0ZSBhIDxjb2RlPmxvb3A8L2NvZGU+IG9wdGlvbi5cclxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZUxvb3AodmFsdWUpIHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgIGNhc2UgZmFsc2U6XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgY2FzZSB0cnVlOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB2YXIgcGFyc2VkID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICAgICAgICAgIGlmICghaXNOYU4ocGFyc2VkKSAmJiBwYXJzZWQgPj0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAnbG9vcCcgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgdmFsdWUpO1xuICAgIH1cbn1cbi8qKlxyXG4gKiBWYWxpZGF0ZSBhIDxjb2RlPnByb2dyZXNzPC9jb2RlPiBvcHRpb24uXHJcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVQcm9ncmVzcyh2YWx1ZSkge1xuICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ3Byb2dyZXNzJyB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCB2YWx1ZSk7XG4gICAgfVxufVxuLyoqXHJcbiAqIFZhbGlkYXRlIGEgPGNvZGU+cHJvbWlzZTwvY29kZT4gb3B0aW9uLlxyXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvbWlzZSh2YWx1ZSkge1xuICAgIGlmIChpc0Jvb2xlYW4odmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAncHJvbWlzZScgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgdmFsdWUpO1xuICAgIH1cbn1cbi8qKlxyXG4gKiBWYWxpZGF0ZSBhIDxjb2RlPnByb21pc2VSZWplY3RFbXB0eTwvY29kZT4gb3B0aW9uLlxyXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvbWlzZVJlamVjdEVtcHR5KHZhbHVlKSB7XG4gICAgaWYgKGlzQm9vbGVhbih2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdwcm9taXNlUmVqZWN0RW1wdHknIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIHZhbHVlKTtcbiAgICB9XG59XG4vKipcclxuICogVmFsaWRhdGUgYSA8Y29kZT5xdWV1ZTwvY29kZT4gb3B0aW9uLlxyXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlUXVldWUodmFsdWUsIG5vRXJyb3IpIHtcbiAgICBpZiAodmFsdWUgPT09IGZhbHNlIHx8IGlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmICh2YWx1ZSAhPSBudWxsICYmICFub0Vycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ3F1ZXVlJyB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCB2YWx1ZSk7XG4gICAgfVxufVxuLyoqXHJcbiAqIFZhbGlkYXRlIGEgPGNvZGU+cmVwZWF0PC9jb2RlPiBvcHRpb24uXHJcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVSZXBlYXQodmFsdWUpIHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgIGNhc2UgZmFsc2U6XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgY2FzZSB0cnVlOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB2YXIgcGFyc2VkID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICAgICAgICAgIGlmICghaXNOYU4ocGFyc2VkKSAmJiBwYXJzZWQgPj0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAncmVwZWF0JyB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCB2YWx1ZSk7XG4gICAgfVxufVxuLyoqXHJcbiAqIFZhbGlkYXRlIGEgPGNvZGU+c3BlZWQ8L2NvZGU+IG9wdGlvbi5cclxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZVNwZWVkKHZhbHVlKSB7XG4gICAgaWYgKGlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdzcGVlZCcgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgdmFsdWUpO1xuICAgIH1cbn1cbi8qKlxyXG4gKiBWYWxpZGF0ZSBhIDxjb2RlPnN5bmM8L2NvZGU+IG9wdGlvbi5cclxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZVN5bmModmFsdWUpIHtcbiAgICBpZiAoaXNCb29sZWFuKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdzeW5jJyB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCB2YWx1ZSk7XG4gICAgfVxufVxuXG4vLyBQcm9qZWN0XG4vLyBOT1RFOiBBZGQgdGhlIHZhcmlhYmxlIGhlcmUsIHRoZW4gYWRkIHRoZSBkZWZhdWx0IHN0YXRlIGluIFwicmVzZXRcIiBiZWxvdy5cbnZhciBjYWNoZSQxID0gdm9pZCAwLFxuICAgIGJlZ2luID0gdm9pZCAwLFxuICAgIGNvbXBsZXRlID0gdm9pZCAwLFxuICAgIGRlbGF5ID0gdm9pZCAwLFxuICAgIGR1cmF0aW9uID0gdm9pZCAwLFxuICAgIGVhc2luZyA9IHZvaWQgMCxcbiAgICBmcHNMaW1pdCA9IHZvaWQgMCxcbiAgICBsb29wID0gdm9pZCAwLFxuICAgIG1vYmlsZUhBID0gdm9pZCAwLFxuICAgIG1pbkZyYW1lVGltZSA9IHZvaWQgMCxcbiAgICBwcm9taXNlID0gdm9pZCAwLFxuICAgIHByb21pc2VSZWplY3RFbXB0eSA9IHZvaWQgMCxcbiAgICBxdWV1ZSA9IHZvaWQgMCxcbiAgICByZXBlYXQgPSB2b2lkIDAsXG4gICAgc3BlZWQgPSB2b2lkIDAsXG4gICAgc3luYyA9IHZvaWQgMDtcbnZhciBkZWZhdWx0cyQxID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGRlZmF1bHRzJCQxKCkge1xuICAgICAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBkZWZhdWx0cyQkMSk7XG4gICAgfVxuXG4gICAgY3JlYXRlQ2xhc3MoZGVmYXVsdHMkJDEsIG51bGwsIFt7XG4gICAgICAgIGtleTogXCJyZXNldFwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgICAgICBjYWNoZSQxID0gREVGQVVMVF9DQUNIRTtcbiAgICAgICAgICAgIGJlZ2luID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29tcGxldGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBkZWxheSA9IERFRkFVTFRfREVMQVk7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IERFRkFVTFRfRFVSQVRJT047XG4gICAgICAgICAgICBlYXNpbmcgPSB2YWxpZGF0ZUVhc2luZyhERUZBVUxUX0VBU0lORywgREVGQVVMVF9EVVJBVElPTik7XG4gICAgICAgICAgICBmcHNMaW1pdCA9IERFRkFVTFRfRlBTTElNSVQ7XG4gICAgICAgICAgICBsb29wID0gREVGQVVMVF9MT09QO1xuICAgICAgICAgICAgbWluRnJhbWVUaW1lID0gRlVaWllfTVNfUEVSX1NFQ09ORCAvIERFRkFVTFRfRlBTTElNSVQ7XG4gICAgICAgICAgICBwcm9taXNlID0gREVGQVVMVF9QUk9NSVNFO1xuICAgICAgICAgICAgcHJvbWlzZVJlamVjdEVtcHR5ID0gREVGQVVMVF9QUk9NSVNFX1JFSkVDVF9FTVBUWTtcbiAgICAgICAgICAgIHF1ZXVlID0gREVGQVVMVF9RVUVVRTtcbiAgICAgICAgICAgIHJlcGVhdCA9IERFRkFVTFRfUkVQRUFUO1xuICAgICAgICAgICAgc3BlZWQgPSBERUZBVUxUX1NQRUVEO1xuICAgICAgICAgICAgc3luYyA9IERFRkFVTFRfU1lOQztcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcImNhY2hlXCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlJDE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHZhbHVlKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlQ2FjaGUodmFsdWUpO1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjYWNoZSQxID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJiZWdpblwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgIHJldHVybiBiZWdpbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsdWUpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVCZWdpbih2YWx1ZSk7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGJlZ2luID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJjb21wbGV0ZVwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wbGV0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsdWUpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVDb21wbGV0ZSh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJkZWxheVwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWxheTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsdWUpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVEZWxheSh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGRlbGF5ID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJkdXJhdGlvblwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgIHJldHVybiBkdXJhdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsdWUpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVEdXJhdGlvbih2YWx1ZSk7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJlYXNpbmdcIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgICAgICByZXR1cm4gZWFzaW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2YWx1ZSkge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZUVhc2luZyh2YWx1ZSwgZHVyYXRpb24pO1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBlYXNpbmcgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcImZwc0xpbWl0XCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgcmV0dXJuIGZwc0xpbWl0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2YWx1ZSkge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZUZwc0xpbWl0KHZhbHVlKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZnBzTGltaXQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBtaW5GcmFtZVRpbWUgPSBGVVpaWV9NU19QRVJfU0VDT05EIC8gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJsb29wXCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgcmV0dXJuIGxvb3A7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHZhbHVlKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlTG9vcCh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvb3AgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcIm1vYmlsZUhBXCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgcmV0dXJuIG1vYmlsZUhBO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKGlzQm9vbGVhbih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBtb2JpbGVIQSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwibWluRnJhbWVUaW1lXCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgcmV0dXJuIG1pbkZyYW1lVGltZTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcInByb21pc2VcIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsdWUpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVQcm9taXNlKHZhbHVlKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcHJvbWlzZSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwicHJvbWlzZVJlamVjdEVtcHR5XCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RFbXB0eTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsdWUpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVQcm9taXNlUmVqZWN0RW1wdHkodmFsdWUpO1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlUmVqZWN0RW1wdHkgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcInF1ZXVlXCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgcmV0dXJuIHF1ZXVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2YWx1ZSkge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZVF1ZXVlKHZhbHVlKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcXVldWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcInJlcGVhdFwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgIHJldHVybiByZXBlYXQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHZhbHVlKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlUmVwZWF0KHZhbHVlKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmVwZWF0ID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJyZXBlYXRBZ2FpblwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgIHJldHVybiByZXBlYXQ7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJzcGVlZFwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgIHJldHVybiBzcGVlZDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsdWUpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVTcGVlZCh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNwZWVkID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJzeW5jXCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN5bmM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHZhbHVlKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlU3luYyh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHN5bmMgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1dKTtcbiAgICByZXR1cm4gZGVmYXVsdHMkJDE7XG59KCk7XG5PYmplY3QuZnJlZXplKGRlZmF1bHRzJDEpO1xuLy8gUmVzZXQgdG8gb3VyIGRlZmF1bHQgdmFsdWVzLCBjdXJyZW50bHkgZXZlcnl0aGluZyBpcyB1bmRlZmluZWQuXG5kZWZhdWx0cyQxLnJlc2V0KCk7XG5cbi8qKlxyXG4gKiBUaGUgaGlnaGVzdCB0eXBlIGluZGV4IGZvciBmaW5kaW5nIHRoZSBiZXN0IG5vcm1hbGl6YXRpb24gZm9yIGEgcHJvcGVydHkuXHJcbiAqL1xuLyoqXHJcbiAqIFVubGlrZSBcImFjdGlvbnNcIiwgbm9ybWFsaXphdGlvbnMgY2FuIGFsd2F5cyBiZSByZXBsYWNlZCBieSB1c2Vycy5cclxuICovXG52YXIgTm9ybWFsaXphdGlvbnMgPSBbXTtcbi8qKlxyXG4gKiBTdG9yZSBhIGNyb3NzLXJlZmVyZW5jZSB0byB1bml0cyB0byBiZSBhZGRlZCB0byBzcGVjaWZpYyBub3JtYWxpemF0aW9uXHJcbiAqIGZ1bmN0aW9ucyBpZiB0aGUgdXNlciBzdXBwbGllcyBhIHVuaXQtbGVzcyBudW1iZXIuXHJcbiAqXHJcbiAqIFRoaXMgaXMgcHJldHR5IG11Y2ggY29uZmluZWQgdG8gYWRkaW5nIFwicHhcIiB0byBzZXZlcmFsIGNzcyBwcm9wZXJ0aWVzLlxyXG4gKi9cbnZhciBOb3JtYWxpemF0aW9uVW5pdHMgPSB7fTtcbi8qKlxyXG4gKiBBbnkgbm9ybWFsaXNhdGlvbnMgdGhhdCBzaG91bGQgbmV2ZXIgYmUgY2FjaGVkIGFyZSBsaXN0ZWQgaGVyZS5cclxuICogRmFzdGVyIHRoYW4gYW4gYXJyYXkgLSBodHRwczovL2pzcGVyZi5jb20vYXJyYXktaW5jbHVkZXMtYW5kLWZpbmQtbWV0aG9kcy12cy1zZXQtaGFzXHJcbiAqL1xudmFyIE5vQ2FjaGVOb3JtYWxpemF0aW9ucyA9IG5ldyBTZXQoKTtcbi8qKlxyXG4gKiBBbiBhcnJheSBvZiBjbGFzc2VzIHVzZWQgZm9yIHRoZSBwZXItY2xhc3Mgbm9ybWFsaXphdGlvbnMuIFRoaXNcclxuICogdHJhbnNsYXRlcyBpbnRvIGEgYml0d2lzZSBlbnVtIGZvciBxdWljayBjcm9zcy1yZWZlcmVuY2UsIGFuZCBzbyB0aGF0XHJcbiAqIHRoZSBlbGVtZW50IGRvZXNuJ3QgbmVlZCBtdWx0aXBsZSA8Y29kZT5pbnN0YW5jZW9mPC9jb2RlPiBjYWxscyBldmVyeVxyXG4gKiBmcmFtZS5cclxuICovXG52YXIgY29uc3RydWN0b3JzID0gW107XG4vKipcclxuICogQSBjYWNoZSBvZiB0aGUgdmFyaW91cyBjb25zdHJ1Y3RvcnMgd2UndmUgZm91bmQgYW5kIG1hcHBpbmcgdG8gdGhlaXIgcmVhbFxyXG4gKiBuYW1lIC0gc2F2ZXMgZXhwZW5zaXZlIGxvb2t1cHMuXHJcbiAqL1xudmFyIGNvbnN0cnVjdG9yQ2FjaGUgPSBuZXcgTWFwKCk7XG5cbi8vIFByb2plY3Rcbi8vIENvbnN0YW50c1xudmFyIGRhdGFOYW1lID0gXCJ2ZWxvY2l0eURhdGFcIjtcbi8qKlxyXG4gKiBHZXQgKGFuZCBjcmVhdGUpIHRoZSBpbnRlcm5hbCBkYXRhIHN0b3JlIGZvciBhbiBlbGVtZW50LlxyXG4gKi9cbmZ1bmN0aW9uIERhdGEoZWxlbWVudCkge1xuICAgIC8vIFVzZSBhIHN0cmluZyBtZW1iZXIgc28gVWdsaWZ5IGRvZXNuJ3QgbWFuZ2xlIGl0LlxuICAgIHZhciBkYXRhID0gZWxlbWVudFtkYXRhTmFtZV07XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIHZhciB3aW5kb3cgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG4gICAgdmFyIHR5cGVzID0gMDtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgY29uc3RydWN0b3JzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICB2YXIgX2NvbnN0cnVjdG9yID0gY29uc3RydWN0b3JzW2luZGV4XTtcbiAgICAgICAgaWYgKGlzU3RyaW5nKF9jb25zdHJ1Y3RvcikpIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2Ygd2luZG93W19jb25zdHJ1Y3Rvcl0pIHtcbiAgICAgICAgICAgICAgICB0eXBlcyB8PSAxIDw8IGluZGV4OyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50IGluc3RhbmNlb2YgX2NvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICB0eXBlcyB8PSAxIDw8IGluZGV4OyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBVc2UgYW4gaW50ZXJtZWRpYXRlIG9iamVjdCBzbyBpdCBlcnJvcnMgb24gaW5jb3JyZWN0IGRhdGEuXG4gICAgdmFyIG5ld0RhdGEgPSB7XG4gICAgICAgIHR5cGVzOiB0eXBlcyxcbiAgICAgICAgY291bnQ6IDAsXG4gICAgICAgIGNvbXB1dGVkU3R5bGU6IG51bGwsXG4gICAgICAgIGNhY2hlOiB7fSxcbiAgICAgICAgcXVldWVMaXN0OiB7fSxcbiAgICAgICAgbGFzdEFuaW1hdGlvbkxpc3Q6IHt9LFxuICAgICAgICBsYXN0RmluaXNoTGlzdDoge30sXG4gICAgICAgIHdpbmRvdzogd2luZG93XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudCwgZGF0YU5hbWUsIHtcbiAgICAgICAgdmFsdWU6IG5ld0RhdGFcbiAgICB9KTtcbiAgICByZXR1cm4gbmV3RGF0YTtcbn1cblxuLy8gQ29uc3RhbnRzXG52YXIgaXNDbGllbnQgPSB3aW5kb3cgJiYgd2luZG93ID09PSB3aW5kb3cud2luZG93LFxuICAgIHdpbmRvd1Njcm9sbEFuY2hvciA9IGlzQ2xpZW50ICYmIHdpbmRvdy5wYWdlWU9mZnNldCAhPT0gdW5kZWZpbmVkO1xudmFyIFN0YXRlID0ge1xuICAgIGlzQ2xpZW50OiBpc0NsaWVudCxcbiAgICBpc01vYmlsZTogaXNDbGllbnQgJiYgL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLFxuICAgIGlzR2luZ2VyYnJlYWQ6IGlzQ2xpZW50ICYmIC9BbmRyb2lkIDJcXC4zXFwuWzMtN10vaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLFxuICAgIHByZWZpeEVsZW1lbnQ6IGlzQ2xpZW50ICYmIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgd2luZG93U2Nyb2xsQW5jaG9yOiB3aW5kb3dTY3JvbGxBbmNob3IsXG4gICAgc2Nyb2xsQW5jaG9yOiB3aW5kb3dTY3JvbGxBbmNob3IgPyB3aW5kb3cgOiAhaXNDbGllbnQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IHx8IGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZSB8fCBkb2N1bWVudC5ib2R5LFxuICAgIHNjcm9sbFByb3BlcnR5TGVmdDogd2luZG93U2Nyb2xsQW5jaG9yID8gXCJwYWdlWE9mZnNldFwiIDogXCJzY3JvbGxMZWZ0XCIsXG4gICAgc2Nyb2xsUHJvcGVydHlUb3A6IHdpbmRvd1Njcm9sbEFuY2hvciA/IFwicGFnZVlPZmZzZXRcIiA6IFwic2Nyb2xsVG9wXCIsXG4gICAgY2xhc3NOYW1lOiBDTEFTU05BTUUsXG4gICAgaXNUaWNraW5nOiBmYWxzZSxcbiAgICBmaXJzdDogdW5kZWZpbmVkLFxuICAgIGxhc3Q6IHVuZGVmaW5lZCxcbiAgICBmaXJzdE5ldzogdW5kZWZpbmVkXG59O1xuXG4vLyBQcm9qZWN0XG4vKipcclxuICogU2ltcGxlIHF1ZXVlIG1hbmFnZW1lbnQuIFVuLW5hbWVkIHF1ZXVlIGlzIGRpcmVjdGx5IHdpdGhpbiB0aGUgZWxlbWVudCBkYXRhLFxyXG4gKiBuYW1lZCBxdWV1ZSBpcyB3aXRoaW4gYW4gb2JqZWN0IHdpdGhpbiBpdC5cclxuICovXG5mdW5jdGlvbiBhbmltYXRlKGFuaW1hdGlvbikge1xuICAgIHZhciBwcmV2ID0gU3RhdGUubGFzdDtcbiAgICBhbmltYXRpb24uX3ByZXYgPSBwcmV2O1xuICAgIGFuaW1hdGlvbi5fbmV4dCA9IHVuZGVmaW5lZDtcbiAgICBpZiAocHJldikge1xuICAgICAgICBwcmV2Ll9uZXh0ID0gYW5pbWF0aW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIFN0YXRlLmZpcnN0ID0gYW5pbWF0aW9uO1xuICAgIH1cbiAgICBTdGF0ZS5sYXN0ID0gYW5pbWF0aW9uO1xuICAgIGlmICghU3RhdGUuZmlyc3ROZXcpIHtcbiAgICAgICAgU3RhdGUuZmlyc3ROZXcgPSBhbmltYXRpb247XG4gICAgfVxuICAgIHZhciBlbGVtZW50ID0gYW5pbWF0aW9uLmVsZW1lbnQsXG4gICAgICAgIGRhdGEgPSBEYXRhKGVsZW1lbnQpO1xuICAgIGlmICghZGF0YS5jb3VudCsrKSB7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBGZWF0dXJlOiBDbGFzc25hbWUgLy9cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIFN0YXRlLmNsYXNzTmFtZSk7XG4gICAgfVxufVxuLyoqXHJcbiAqIEFkZCBhbiBpdGVtIHRvIGFuIGFuaW1hdGlvbiBxdWV1ZS5cclxuICovXG5mdW5jdGlvbiBxdWV1ZSQxKGVsZW1lbnQsIGFuaW1hdGlvbiwgcXVldWVOYW1lKSB7XG4gICAgdmFyIGRhdGEgPSBEYXRhKGVsZW1lbnQpO1xuICAgIGlmIChxdWV1ZU5hbWUgIT09IGZhbHNlKSB7XG4gICAgICAgIC8vIFN0b3JlIHRoZSBsYXN0IGFuaW1hdGlvbiBhZGRlZCBzbyB3ZSBjYW4gdXNlIGl0IGZvciB0aGVcbiAgICAgICAgLy8gYmVnaW5uaW5nIG9mIHRoZSBuZXh0IG9uZS5cbiAgICAgICAgZGF0YS5sYXN0QW5pbWF0aW9uTGlzdFtxdWV1ZU5hbWVdID0gYW5pbWF0aW9uO1xuICAgIH1cbiAgICBpZiAocXVldWVOYW1lID09PSBmYWxzZSkge1xuICAgICAgICBhbmltYXRlKGFuaW1hdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFpc1N0cmluZyhxdWV1ZU5hbWUpKSB7XG4gICAgICAgICAgICBxdWV1ZU5hbWUgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsYXN0ID0gZGF0YS5xdWV1ZUxpc3RbcXVldWVOYW1lXTtcbiAgICAgICAgaWYgKCFsYXN0KSB7XG4gICAgICAgICAgICBpZiAobGFzdCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGRhdGEucXVldWVMaXN0W3F1ZXVlTmFtZV0gPSBhbmltYXRpb247XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRhdGEucXVldWVMaXN0W3F1ZXVlTmFtZV0gPSBudWxsO1xuICAgICAgICAgICAgICAgIGFuaW1hdGUoYW5pbWF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdoaWxlIChsYXN0Ll9uZXh0KSB7XG4gICAgICAgICAgICAgICAgbGFzdCA9IGxhc3QuX25leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0Ll9uZXh0ID0gYW5pbWF0aW9uO1xuICAgICAgICAgICAgYW5pbWF0aW9uLl9wcmV2ID0gbGFzdDtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxyXG4gKiBTdGFydCB0aGUgbmV4dCBhbmltYXRpb24gb24gdGhpcyBlbGVtZW50J3MgcXVldWUgKG5hbWVkIG9yIGRlZmF1bHQpLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB0aGUgbmV4dCBhbmltYXRpb24gdGhhdCBpcyBzdGFydGluZy5cclxuICovXG5mdW5jdGlvbiBkZXF1ZXVlKGVsZW1lbnQsIHF1ZXVlTmFtZSwgc2tpcCkge1xuICAgIGlmIChxdWV1ZU5hbWUgIT09IGZhbHNlKSB7XG4gICAgICAgIGlmICghaXNTdHJpbmcocXVldWVOYW1lKSkge1xuICAgICAgICAgICAgcXVldWVOYW1lID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF0YSA9IERhdGEoZWxlbWVudCksXG4gICAgICAgICAgICBhbmltYXRpb24gPSBkYXRhLnF1ZXVlTGlzdFtxdWV1ZU5hbWVdO1xuICAgICAgICBpZiAoYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICBkYXRhLnF1ZXVlTGlzdFtxdWV1ZU5hbWVdID0gYW5pbWF0aW9uLl9uZXh0IHx8IG51bGw7XG4gICAgICAgICAgICBpZiAoIXNraXApIHtcbiAgICAgICAgICAgICAgICBhbmltYXRlKGFuaW1hdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYW5pbWF0aW9uID09PSBudWxsKSB7XG4gICAgICAgICAgICBkZWxldGUgZGF0YS5xdWV1ZUxpc3RbcXVldWVOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYW5pbWF0aW9uO1xuICAgIH1cbn1cbi8qKlxyXG4gKiBSZW1vdmUgYW4gYW5pbWF0aW9uIGZyb20gdGhlIGFjdGl2ZSBhbmltYXRpb24gbGlzdC4gSWYgaXQgaGFzIGEgcXVldWUgc2V0XHJcbiAqIHRoZW4gcmVtZW1iZXIgaXQgYXMgdGhlIGxhc3QgYW5pbWF0aW9uIGZvciB0aGF0IHF1ZXVlLCBhbmQgZnJlZSB0aGUgb25lXHJcbiAqIHRoYXQgd2FzIHByZXZpb3VzbHkgdGhlcmUuIElmIHRoZSBhbmltYXRpb24gbGlzdCBpcyBjb21wbGV0ZWx5IGVtcHR5IHRoZW5cclxuICogbWFyayB1cyBhcyBmaW5pc2hlZC5cclxuICovXG5mdW5jdGlvbiBmcmVlQW5pbWF0aW9uQ2FsbChhbmltYXRpb24pIHtcbiAgICB2YXIgbmV4dCA9IGFuaW1hdGlvbi5fbmV4dCxcbiAgICAgICAgcHJldiA9IGFuaW1hdGlvbi5fcHJldixcbiAgICAgICAgcXVldWVOYW1lID0gYW5pbWF0aW9uLnF1ZXVlID09IG51bGwgPyBhbmltYXRpb24ub3B0aW9ucy5xdWV1ZSA6IGFuaW1hdGlvbi5xdWV1ZTtcbiAgICBpZiAoU3RhdGUuZmlyc3ROZXcgPT09IGFuaW1hdGlvbikge1xuICAgICAgICBTdGF0ZS5maXJzdE5ldyA9IG5leHQ7XG4gICAgfVxuICAgIGlmIChTdGF0ZS5maXJzdCA9PT0gYW5pbWF0aW9uKSB7XG4gICAgICAgIFN0YXRlLmZpcnN0ID0gbmV4dDtcbiAgICB9IGVsc2UgaWYgKHByZXYpIHtcbiAgICAgICAgcHJldi5fbmV4dCA9IG5leHQ7XG4gICAgfVxuICAgIGlmIChTdGF0ZS5sYXN0ID09PSBhbmltYXRpb24pIHtcbiAgICAgICAgU3RhdGUubGFzdCA9IHByZXY7XG4gICAgfSBlbHNlIGlmIChuZXh0KSB7XG4gICAgICAgIG5leHQuX3ByZXYgPSBwcmV2O1xuICAgIH1cbiAgICBpZiAocXVldWVOYW1lKSB7XG4gICAgICAgIHZhciBkYXRhID0gRGF0YShhbmltYXRpb24uZWxlbWVudCk7XG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICBhbmltYXRpb24uX25leHQgPSBhbmltYXRpb24uX3ByZXYgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnZhciBTZXF1ZW5jZXNPYmplY3QgPSB7fTtcblxuLy8gUHJvamVjdFxuLyoqXHJcbiAqIENhbGwgdGhlIGNvbXBsZXRlIG1ldGhvZCBvZiBhbiBhbmltYXRpb24gaW4gYSBzZXBhcmF0ZSBmdW5jdGlvbiBzbyBpdCBjYW5cclxuICogYmVuZWZpdCBmcm9tIEpJVCBjb21waWxpbmcgd2hpbGUgc3RpbGwgaGF2aW5nIGEgdHJ5L2NhdGNoIGJsb2NrLlxyXG4gKi9cbmZ1bmN0aW9uIGNhbGxDb21wbGV0ZShhY3RpdmVDYWxsKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gYWN0aXZlQ2FsbC5jb21wbGV0ZSB8fCBhY3RpdmVDYWxsLm9wdGlvbnMuY29tcGxldGU7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudHMgPSBhY3RpdmVDYWxsLmVsZW1lbnRzO1xuICAgICAgICAgICAgY2FsbGJhY2suY2FsbChlbGVtZW50cywgZWxlbWVudHMsIGFjdGl2ZUNhbGwpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxyXG4gKiBDb21wbGV0ZSBhbiBhbmltYXRpb24uIFRoaXMgbWlnaHQgaW52b2x2ZSByZXN0YXJ0aW5nIChmb3IgbG9vcCBvciByZXBlYXRcclxuICogb3B0aW9ucykuIE9uY2UgaXQgaXMgZmluaXNoZWQgd2UgYWxzbyBjaGVjayBmb3IgYW55IGNhbGxiYWNrcyBvciBQcm9taXNlc1xyXG4gKiB0aGF0IG5lZWQgdXBkYXRpbmcuXHJcbiAqL1xuZnVuY3Rpb24gY29tcGxldGVDYWxsKGFjdGl2ZUNhbGwpIHtcbiAgICAvLyBUT0RPOiBDaGVjayBpZiBpdCdzIG5vdCBiZWVuIGNvbXBsZXRlZCBhbHJlYWR5XG4gICAgdmFyIG9wdGlvbnMgPSBhY3RpdmVDYWxsLm9wdGlvbnMsXG4gICAgICAgIHF1ZXVlID0gZ2V0VmFsdWUoYWN0aXZlQ2FsbC5xdWV1ZSwgb3B0aW9ucy5xdWV1ZSksXG4gICAgICAgIGlzTG9vcCA9IGdldFZhbHVlKGFjdGl2ZUNhbGwubG9vcCwgb3B0aW9ucy5sb29wLCBkZWZhdWx0cyQxLmxvb3ApLFxuICAgICAgICBpc1JlcGVhdCA9IGdldFZhbHVlKGFjdGl2ZUNhbGwucmVwZWF0LCBvcHRpb25zLnJlcGVhdCwgZGVmYXVsdHMkMS5yZXBlYXQpLFxuICAgICAgICBpc1N0b3BwZWQgPSBhY3RpdmVDYWxsLl9mbGFncyAmIDggLyogU1RPUFBFRCAqLzsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgaWYgKCFpc1N0b3BwZWQgJiYgKGlzTG9vcCB8fCBpc1JlcGVhdCkpIHtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gT3B0aW9uOiBMb29wICAgLy9cbiAgICAgICAgLy8gT3B0aW9uOiBSZXBlYXQgLy9cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgaWYgKGlzUmVwZWF0ICYmIGlzUmVwZWF0ICE9PSB0cnVlKSB7XG4gICAgICAgICAgICBhY3RpdmVDYWxsLnJlcGVhdCA9IGlzUmVwZWF0IC0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0xvb3AgJiYgaXNMb29wICE9PSB0cnVlKSB7XG4gICAgICAgICAgICBhY3RpdmVDYWxsLmxvb3AgPSBpc0xvb3AgLSAxO1xuICAgICAgICAgICAgYWN0aXZlQ2FsbC5yZXBlYXQgPSBnZXRWYWx1ZShhY3RpdmVDYWxsLnJlcGVhdEFnYWluLCBvcHRpb25zLnJlcGVhdEFnYWluLCBkZWZhdWx0cyQxLnJlcGVhdEFnYWluKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNMb29wKSB7XG4gICAgICAgICAgICBhY3RpdmVDYWxsLl9mbGFncyBePSA2NCAvKiBSRVZFUlNFICovOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAocXVldWUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAvLyBDYW4ndCBiZSBjYWxsZWQgd2hlbiBzdG9wcGVkIHNvIG5vIG5lZWQgZm9yIGFuIGV4dHJhIGNoZWNrLlxuICAgICAgICAgICAgRGF0YShhY3RpdmVDYWxsLmVsZW1lbnQpLmxhc3RGaW5pc2hMaXN0W3F1ZXVlXSA9IGFjdGl2ZUNhbGwudGltZVN0YXJ0ICsgZ2V0VmFsdWUoYWN0aXZlQ2FsbC5kdXJhdGlvbiwgb3B0aW9ucy5kdXJhdGlvbiwgZGVmYXVsdHMkMS5kdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgYWN0aXZlQ2FsbC50aW1lU3RhcnQgPSBhY3RpdmVDYWxsLmVsbGFwc2VkVGltZSA9IGFjdGl2ZUNhbGwucGVyY2VudENvbXBsZXRlID0gMDtcbiAgICAgICAgYWN0aXZlQ2FsbC5fZmxhZ3MgJj0gfjQgLyogU1RBUlRFRCAqLzsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBhY3RpdmVDYWxsLmVsZW1lbnQsXG4gICAgICAgICAgICBkYXRhID0gRGF0YShlbGVtZW50KTtcbiAgICAgICAgaWYgKCEgLS1kYXRhLmNvdW50ICYmICFpc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgLy8gRmVhdHVyZTogQ2xhc3NuYW1lIC8vXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKGVsZW1lbnQsIFN0YXRlLmNsYXNzTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBPcHRpb246IENvbXBsZXRlIC8vXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gSWYgdGhpcyBpcyB0aGUgbGFzdCBhbmltYXRpb24gaW4gdGhpcyBsaXN0IHRoZW4gd2UgY2FuIGNoZWNrIGZvclxuICAgICAgICAvLyBhbmQgY29tcGxldGUgY2FsbHMgb3IgUHJvbWlzZXMuXG4gICAgICAgIC8vIFRPRE86IFdoZW4gZGVsZXRpbmcgYW4gZWxlbWVudCB3ZSBuZWVkIHRvIGFkanVzdCB0aGVzZSB2YWx1ZXMuXG4gICAgICAgIGlmIChvcHRpb25zICYmICsrb3B0aW9ucy5fY29tcGxldGVkID09PSBvcHRpb25zLl90b3RhbCkge1xuICAgICAgICAgICAgaWYgKCFpc1N0b3BwZWQgJiYgb3B0aW9ucy5jb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IGNhbGwgdGhlIGNvbXBsZXRlIGlmIHRoZSBhbmltYXRpb24gaXMgc3RvcHBlZCxcbiAgICAgICAgICAgICAgICAvLyBhbmQgd2UgY2xlYXIgdGhlIGtleSB0byBwcmV2ZW50IGl0IGJlaW5nIGNhbGxlZCBhZ2Fpbi5cbiAgICAgICAgICAgICAgICBjYWxsQ29tcGxldGUoYWN0aXZlQ2FsbCk7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5jb21wbGV0ZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmVzb2x2ZXIgPSBvcHRpb25zLl9yZXNvbHZlcjtcbiAgICAgICAgICAgIGlmIChyZXNvbHZlcikge1xuICAgICAgICAgICAgICAgIC8vIEZ1bGZpbCB0aGUgUHJvbWlzZVxuICAgICAgICAgICAgICAgIHJlc29sdmVyKGFjdGl2ZUNhbGwuZWxlbWVudHMpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLl9yZXNvbHZlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIE9wdGlvbjogUXVldWUgLy9cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICBpZiAocXVldWUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAvLyBXZSBvbmx5IGRvIGNsZXZlciB0aGluZ3Mgd2l0aCBxdWV1ZXMuLi5cbiAgICAgICAgICAgIGlmICghaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UncmUgbm90IHN0b3BwaW5nIGFuIGFuaW1hdGlvbiwgd2UgbmVlZCB0byByZW1lbWJlclxuICAgICAgICAgICAgICAgIC8vIHdoYXQgdGltZSBpdCBmaW5pc2hlZCBzbyB0aGF0IHRoZSBuZXh0IGFuaW1hdGlvbiBpblxuICAgICAgICAgICAgICAgIC8vIHNlcXVlbmNlIGdldHMgdGhlIGNvcnJlY3Qgc3RhcnQgdGltZS5cbiAgICAgICAgICAgICAgICBkYXRhLmxhc3RGaW5pc2hMaXN0W3F1ZXVlXSA9IGFjdGl2ZUNhbGwudGltZVN0YXJ0ICsgZ2V0VmFsdWUoYWN0aXZlQ2FsbC5kdXJhdGlvbiwgb3B0aW9ucy5kdXJhdGlvbiwgZGVmYXVsdHMkMS5kdXJhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTdGFydCB0aGUgbmV4dCBhbmltYXRpb24gaW4gc2VxdWVuY2UsIG9yIGRlbGV0ZSB0aGUgcXVldWUgaWZcbiAgICAgICAgICAgIC8vIHRoaXMgd2FzIHRoZSBsYXN0IG9uZS5cbiAgICAgICAgICAgIGRlcXVldWUoZWxlbWVudCwgcXVldWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENsZWFudXAgYW55IHBvaW50ZXJzLCBhbmQgcmVtZW1iZXIgdGhlIGxhc3QgYW5pbWF0aW9uIGV0Yy5cbiAgICAgICAgZnJlZUFuaW1hdGlvbkNhbGwoYWN0aXZlQ2FsbCk7XG4gICAgfVxufVxuXG4vLyBQcm9qZWN0XG4vKipcclxuICogVXNlZCB0byByZWdpc3RlciBhIG5vcm1hbGl6YXRpb24uIFRoaXMgc2hvdWxkIG5ldmVyIGJlIGNhbGxlZCBieSB1c2Vyc1xyXG4gKiBkaXJlY3RseSwgaW5zdGVhZCBpdCBzaG91bGQgYmUgY2FsbGVkIHZpYSBhbiBhY3Rpb246PGJyLz5cclxuICogPGNvZGU+VmVsb2NpdHkoXCJyZWdpc3Rlck5vcm1hbGl6YXRpb25cIiwgXCJFbGVtZW50XCIsIFwibmFtZVwiLCBWZWxvY2l0eU5vcm1hbGl6YXRpb25zRm5bLCBmYWxzZV0pOzwvY29kZT5cclxuICpcclxuICogVGhlIHNlY29uZCBhcmd1bWVudCBpcyB0aGUgY2xhc3Mgb2YgdGhlIGFuaW1hdGFibGUgb2JqZWN0LiBJZiB0aGlzIGlzIHBhc3NlZFxyXG4gKiBhcyBhIGNsYXNzIG5hbWUgKGllLCBgXCJFbGVtZW50XCJgIC0+IGB3aW5kb3dbXCJFbGVtZW50XCJdYCkgdGhlbiB0aGlzIHdpbGwgd29ya1xyXG4gKiBjcm9zcy1pZnJhbWUuIElmIHBhc3NlZCBhcyBhbiBhY3R1YWwgY2xhc3MgKGllIGBFbGVtZW50YCkgdGhlbiBpdCB3aWxsXHJcbiAqIGF0dGVtcHQgdG8gZmluZCB0aGUgY2xhc3Mgb24gdGhlIHdpbmRvdyBhbmQgdXNlIHRoYXQgbmFtZSBpbnN0ZWFkLiBJZiBpdFxyXG4gKiBjYW4ndCBmaW5kIGl0IHRoZW4gaXQgd2lsbCB1c2UgdGhlIGNsYXNzIHBhc3NlZCwgd2hpY2ggYWxsb3dzIGZvciBjdXN0b21cclxuICogYW5pbWF0aW9uIHRhcmdldHMsIGJ1dCB3aWxsIG5vdCB3b3JrIGNyb3NzLWlmcmFtZSBib3VuZGFyeS5cclxuICpcclxuICogVGhlIGZvdXJ0aCBhcmd1bWVudCBjYW4gYmUgYW4gZXhwbGljaXQgPGNvZGU+ZmFsc2U8L2NvZGU+LCB3aGljaCBwcmV2ZW50c1xyXG4gKiB0aGUgcHJvcGVydHkgZnJvbSBiZWluZyBjYWNoZWQuIFBsZWFzZSBub3RlIHRoYXQgdGhpcyBjYW4gYmUgZGFuZ2Vyb3VzXHJcbiAqIGZvciBwZXJmb3JtYW5jZSFcclxuICovXG5mdW5jdGlvbiByZWdpc3Rlck5vcm1hbGl6YXRpb24oYXJncykge1xuICAgIHZhciBjb25zdHJ1Y3RvciA9IGFyZ3NbMF0sXG4gICAgICAgIG5hbWUgPSBhcmdzWzFdLFxuICAgICAgICBjYWxsYmFjayA9IGFyZ3NbMl07XG4gICAgaWYgKGlzU3RyaW5nKGNvbnN0cnVjdG9yKSAmJiAhKHdpbmRvd1tjb25zdHJ1Y3Rvcl0gaW5zdGFuY2VvZiBPYmplY3QpIHx8ICFpc1N0cmluZyhjb25zdHJ1Y3RvcikgJiYgIShjb25zdHJ1Y3RvciBpbnN0YW5jZW9mIE9iamVjdCkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAncmVnaXN0ZXJOb3JtYWxpemF0aW9uJyBjb25zdHJ1Y3RvciB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCBjb25zdHJ1Y3Rvcik7XG4gICAgfSBlbHNlIGlmICghaXNTdHJpbmcobmFtZSkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAncmVnaXN0ZXJOb3JtYWxpemF0aW9uJyBuYW1lIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIG5hbWUpO1xuICAgIH0gZWxzZSBpZiAoIWlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ3JlZ2lzdGVyTm9ybWFsaXphdGlvbicgY2FsbGJhY2sgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgbmFtZSwgY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBpbmRleCA9IGNvbnN0cnVjdG9ycy5pbmRleE9mKGNvbnN0cnVjdG9yKSxcbiAgICAgICAgICAgIG5leHRBcmcgPSAzO1xuICAgICAgICBpZiAoaW5kZXggPCAwICYmICFpc1N0cmluZyhjb25zdHJ1Y3RvcikpIHtcbiAgICAgICAgICAgIGlmIChjb25zdHJ1Y3RvckNhY2hlLmhhcyhjb25zdHJ1Y3RvcikpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGNvbnN0cnVjdG9ycy5pbmRleE9mKGNvbnN0cnVjdG9yQ2FjaGUuZ2V0KGNvbnN0cnVjdG9yKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIHdpbmRvdykge1xuICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93W3Byb3BlcnR5XSA9PT0gY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gY29uc3RydWN0b3JzLmluZGV4T2YocHJvcGVydHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gY29uc3RydWN0b3JzLnB1c2gocHJvcGVydHkpIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb3JtYWxpemF0aW9uc1tpbmRleF0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdHJ1Y3RvckNhY2hlLnNldChjb25zdHJ1Y3RvciwgcHJvcGVydHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICAgICAgaW5kZXggPSBjb25zdHJ1Y3RvcnMucHVzaChjb25zdHJ1Y3RvcikgLSAxO1xuICAgICAgICAgICAgTm9ybWFsaXphdGlvbnNbaW5kZXhdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgTm9ybWFsaXphdGlvbnNbaW5kZXhdW25hbWVdID0gY2FsbGJhY2s7XG4gICAgICAgIGlmIChpc1N0cmluZyhhcmdzW25leHRBcmddKSkge1xuICAgICAgICAgICAgdmFyIHVuaXQgPSBhcmdzW25leHRBcmcrK107XG4gICAgICAgICAgICB2YXIgdW5pdHMgPSBOb3JtYWxpemF0aW9uVW5pdHNbdW5pdF07XG4gICAgICAgICAgICBpZiAoIXVuaXRzKSB7XG4gICAgICAgICAgICAgICAgdW5pdHMgPSBOb3JtYWxpemF0aW9uVW5pdHNbdW5pdF0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVuaXRzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcmdzW25leHRBcmddID09PSBmYWxzZSkge1xuICAgICAgICAgICAgTm9DYWNoZU5vcm1hbGl6YXRpb25zLmFkZChuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxyXG4gKiBVc2VkIHRvIGNoZWNrIGlmIGEgbm9ybWFsaXNhdGlvbiBleGlzdHMgb24gYSBzcGVjaWZpYyBjbGFzcy5cclxuICovXG5mdW5jdGlvbiBoYXNOb3JtYWxpemF0aW9uKGFyZ3MpIHtcbiAgICB2YXIgY29uc3RydWN0b3IgPSBhcmdzWzBdLFxuICAgICAgICBuYW1lID0gYXJnc1sxXTtcbiAgICB2YXIgaW5kZXggPSBjb25zdHJ1Y3RvcnMuaW5kZXhPZihjb25zdHJ1Y3Rvcik7XG4gICAgaWYgKGluZGV4IDwgMCAmJiAhaXNTdHJpbmcoY29uc3RydWN0b3IpKSB7XG4gICAgICAgIGlmIChjb25zdHJ1Y3RvckNhY2hlLmhhcyhjb25zdHJ1Y3RvcikpIHtcbiAgICAgICAgICAgIGluZGV4ID0gY29uc3RydWN0b3JzLmluZGV4T2YoY29uc3RydWN0b3JDYWNoZS5nZXQoY29uc3RydWN0b3IpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIHdpbmRvdykge1xuICAgICAgICAgICAgICAgIGlmICh3aW5kb3dbcHJvcGVydHldID09PSBjb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGNvbnN0cnVjdG9ycy5pbmRleE9mKHByb3BlcnR5KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbmRleCA+PSAwICYmIE5vcm1hbGl6YXRpb25zW2luZGV4XS5oYXNPd25Qcm9wZXJ0eShuYW1lKTtcbn1cbi8qKlxyXG4gKiBHZXQgdGhlIHVuaXQgdG8gYWRkIHRvIGEgdW5pdGxlc3MgbnVtYmVyIGJhc2VkIG9uIHRoZSBub3JtYWxpemF0aW9uIHVzZWQuXHJcbiAqL1xuZnVuY3Rpb24gZ2V0Tm9ybWFsaXphdGlvblVuaXQoZm4pIHtcbiAgICBmb3IgKHZhciB1bml0IGluIE5vcm1hbGl6YXRpb25Vbml0cykge1xuICAgICAgICBpZiAoTm9ybWFsaXphdGlvblVuaXRzW3VuaXRdLmluY2x1ZGVzKGZuKSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuaXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFwiXCI7XG59XG4vKipcclxuICogR2V0IHRoZSBub3JtYWxpemF0aW9uIGZvciBhbiBlbGVtZW50IGFuZCBwcm9wZXJ0eU5hbWUgY29tYmluYXRpb24uIFRoaXNcclxuICogdmFsdWUgc2hvdWxkIGJlIGNhY2hlZCBhdCBhc2tpbmcgdGltZSwgYXMgaXQgbWF5IGNoYW5nZSBpZiB0aGUgdXNlciBhZGRzXHJcbiAqIG1vcmUgbm9ybWFsaXphdGlvbnMuXHJcbiAqL1xuZnVuY3Rpb24gZ2V0Tm9ybWFsaXphdGlvbihlbGVtZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICB2YXIgZGF0YSA9IERhdGEoZWxlbWVudCk7XG4gICAgdmFyIGZuID0gdm9pZCAwO1xuICAgIGZvciAodmFyIGluZGV4ID0gY29uc3RydWN0b3JzLmxlbmd0aCAtIDEsIHR5cGVzID0gZGF0YS50eXBlczsgIWZuICYmIGluZGV4ID49IDA7IGluZGV4LS0pIHtcbiAgICAgICAgaWYgKHR5cGVzICYgMSA8PCBpbmRleCkge1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgICAgICAgICBmbiA9IE5vcm1hbGl6YXRpb25zW2luZGV4XVtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmbjtcbn1cbnJlZ2lzdGVyQWN0aW9uKFtcInJlZ2lzdGVyTm9ybWFsaXphdGlvblwiLCByZWdpc3Rlck5vcm1hbGl6YXRpb25dKTtcbnJlZ2lzdGVyQWN0aW9uKFtcImhhc05vcm1hbGl6YXRpb25cIiwgaGFzTm9ybWFsaXphdGlvbl0pO1xuXG4vLyBQcm9qZWN0XG4vKipcclxuICogVGhlIHNpbmd1bGFyIHNldFByb3BlcnR5VmFsdWUsIHdoaWNoIHJvdXRlcyB0aGUgbG9naWMgZm9yIGFsbFxyXG4gKiBub3JtYWxpemF0aW9ucy5cclxuICovXG5mdW5jdGlvbiBzZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIHByb3BlcnR5TmFtZSwgcHJvcGVydHlWYWx1ZSwgZm4pIHtcbiAgICB2YXIgbm9DYWNoZSA9IE5vQ2FjaGVOb3JtYWxpemF0aW9ucy5oYXMocHJvcGVydHlOYW1lKSxcbiAgICAgICAgZGF0YSA9ICFub0NhY2hlICYmIERhdGEoZWxlbWVudCk7XG4gICAgaWYgKG5vQ2FjaGUgfHwgZGF0YSAmJiBkYXRhLmNhY2hlW3Byb3BlcnR5TmFtZV0gIT09IHByb3BlcnR5VmFsdWUpIHtcbiAgICAgICAgLy8gQnkgc2V0dGluZyBpdCB0byB1bmRlZmluZWQgd2UgZm9yY2UgYSB0cnVlIFwiZ2V0XCIgbGF0ZXJcbiAgICAgICAgaWYgKCFub0NhY2hlKSB7XG4gICAgICAgICAgICBkYXRhLmNhY2hlW3Byb3BlcnR5TmFtZV0gPSBwcm9wZXJ0eVZhbHVlIHx8IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBmbiA9IGZuIHx8IGdldE5vcm1hbGl6YXRpb24oZWxlbWVudCwgcHJvcGVydHlOYW1lKTtcbiAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgICBmbihlbGVtZW50LCBwcm9wZXJ0eVZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoVmVsb2NpdHkkJDEuZGVidWcgPj0gMikge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKFwiU2V0IFxcXCJcIiArIHByb3BlcnR5TmFtZSArIFwiXFxcIjogXFxcIlwiICsgcHJvcGVydHlWYWx1ZSArIFwiXFxcIlwiLCBlbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXHJcbiAqIFJlbW92ZSBuZXN0ZWQgYGNhbGMoMHB4ICsgKilgIG9yIGBjYWxjKCogKyAoMHB4ICsgKikpYCBjb3JyZWN0bHkuXHJcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlTmVzdGVkQ2FsYyh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZS5pbmRleE9mKFwiY2FsYyhcIikgPj0gMCkge1xuICAgICAgICB2YXIgdG9rZW5zID0gdmFsdWUuc3BsaXQoLyhbXFwoXFwpXSkvKTtcbiAgICAgICAgdmFyIGRlcHRoID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0b2tlbiA9IHRva2Vuc1tpXTtcbiAgICAgICAgICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiKFwiOlxuICAgICAgICAgICAgICAgICAgICBkZXB0aCsrO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiKVwiOlxuICAgICAgICAgICAgICAgICAgICBkZXB0aC0tO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVwdGggJiYgdG9rZW5bMF0gPT09IFwiMFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnNbaV0gPSB0b2tlbi5yZXBsYWNlKC9eMFthLXolXSsgXFwrIC8sIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbnMuam9pbihcIlwiKS5yZXBsYWNlKC8oPzpjYWxjKT9cXCgoWzAtOVxcLl0rW2EteiVdKylcXCkvZywgXCIkMVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuXG4vKipcclxuICogQ2FjaGUgZXZlcnkgY2FtZWxDYXNlIG1hdGNoIHRvIGF2b2lkIHJlcGVhdGluZyBsb29rdXBzLlxyXG4gKi9cbnZhciBjYWNoZSQyID0ge307XG4vKipcclxuICogQ2FtZWxjYXNlIGEgcHJvcGVydHkgbmFtZSBpbnRvIGl0cyBKYXZhU2NyaXB0IG5vdGF0aW9uIChlLmcuXHJcbiAqIFwiYmFja2dyb3VuZC1jb2xvclwiID09PiBcImJhY2tncm91bmRDb2xvclwiKS4gQ2FtZWxjYXNpbmcgaXMgdXNlZCB0b1xyXG4gKiBub3JtYWxpemUgcHJvcGVydHkgbmFtZXMgYmV0d2VlbiBhbmQgYWNyb3NzIGNhbGxzLlxyXG4gKi9cbmZ1bmN0aW9uIGNhbWVsQ2FzZShwcm9wZXJ0eSkge1xuICB2YXIgZml4ZWQgPSBjYWNoZSQyW3Byb3BlcnR5XTtcbiAgaWYgKGZpeGVkKSB7XG4gICAgcmV0dXJuIGZpeGVkO1xuICB9XG4gIHJldHVybiBjYWNoZSQyW3Byb3BlcnR5XSA9IHByb3BlcnR5LnJlcGxhY2UoLy0oW2Etel0pL2csIGZ1bmN0aW9uICgkLCBsZXR0ZXIpIHtcbiAgICByZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCk7XG4gIH0pO1xufVxuXG4vLyBDb25zdGFudHNcbnZhciByeENvbG9yNiA9IC8jKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pL2dpLFxuICAgIHJ4Q29sb3IzID0gLyMoW2EtZlxcZF0pKFthLWZcXGRdKShbYS1mXFxkXSkvZ2ksXG4gICAgcnhDb2xvck5hbWUgPSAvKHJnYmE/XFwoXFxzKik/KFxcYlthLXpdK1xcYikvZyxcbiAgICByeFJHQiA9IC9yZ2IoYT8pXFwoKFteXFwpXSspXFwpL2dpLFxuICAgIHJ4U3BhY2VzID0gL1xccysvZztcbi8qKlxyXG4gKiBUaGlzIGlzIHRoZSBsaXN0IG9mIGNvbG9yIG5hbWVzIC0+IHJnYiB2YWx1ZXMuIFRoZSBvYmplY3QgaXMgaW4gaGVyZSBzb1xyXG4gKiB0aGF0IHRoZSBhY3R1YWwgbmFtZSBjb252ZXJzaW9uIGNhbiBiZSBpbiBhIHNlcGFyYXRlIGZpbGUgYW5kIG5vdFxyXG4gKiBpbmNsdWRlZCBmb3IgY3VzdG9tIGJ1aWxkcy5cclxuICovXG52YXIgQ29sb3JOYW1lcyA9IHt9O1xuLyoqXHJcbiAqIENvbnZlcnQgYSBoZXggbGlzdCB0byBhbiByZ2JhIHZhbHVlLiBEZXNpZ25lZCB0byBiZSB1c2VkIGluIHJlcGxhY2UuXHJcbiAqL1xuZnVuY3Rpb24gbWFrZVJHQkEoaWdub3JlLCByLCBnLCBiKSB7XG4gICAgcmV0dXJuIFwicmdiYShcIiArIHBhcnNlSW50KHIsIDE2KSArIFwiLFwiICsgcGFyc2VJbnQoZywgMTYpICsgXCIsXCIgKyBwYXJzZUludChiLCAxNikgKyBcIiwxKVwiO1xufVxuLyoqXHJcbiAqIFJlcGxhY2UgYW55IGNzcyBjb2xvdXIgbmFtZSB3aXRoIGl0cyByZ2JhKCkgdmFsdWUuIEl0IGlzIHBvc3NpYmxlIHRvIHVzZVxyXG4gKiB0aGUgbmFtZSB3aXRoaW4gYW4gXCJyZ2JhKGJsdWUsIDAuNClcIiBzdHJpbmcgdGhpcyB3YXkuXHJcbiAqL1xuZnVuY3Rpb24gZml4Q29sb3JzKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZShyeENvbG9yNiwgbWFrZVJHQkEpLnJlcGxhY2UocnhDb2xvcjMsIGZ1bmN0aW9uICgkMCwgciwgZywgYikge1xuICAgICAgICByZXR1cm4gbWFrZVJHQkEoJDAsIHIgKyByLCBnICsgZywgYiArIGIpO1xuICAgIH0pLnJlcGxhY2UocnhDb2xvck5hbWUsIGZ1bmN0aW9uICgkMCwgJDEsICQyKSB7XG4gICAgICAgIGlmIChDb2xvck5hbWVzWyQyXSkge1xuICAgICAgICAgICAgcmV0dXJuICgkMSA/ICQxIDogXCJyZ2JhKFwiKSArIENvbG9yTmFtZXNbJDJdICsgKCQxID8gXCJcIiA6IFwiLDEpXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAkMDtcbiAgICB9KS5yZXBsYWNlKHJ4UkdCLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuICAgICAgICByZXR1cm4gXCJyZ2JhKFwiICsgKCQyLnJlcGxhY2UocnhTcGFjZXMsIFwiXCIpICsgKCQxID8gXCJcIiA6IFwiLDFcIikpICsgXCIpXCI7XG4gICAgfSk7XG59XG5cbi8vIFByb2plY3Rcbi8qKlxyXG4gKiBGaWd1cmUgb3V0IHRoZSBkaW1lbnNpb25zIGZvciB0aGlzIHdpZHRoIC8gaGVpZ2h0IGJhc2VkIG9uIHRoZVxyXG4gKiBwb3RlbnRpYWwgYm9yZGVycyBhbmQgd2hldGhlciB3ZSBjYXJlIGFib3V0IHRoZW0uXHJcbiAqL1xuZnVuY3Rpb24gYXVnbWVudERpbWVuc2lvbihlbGVtZW50LCBuYW1lLCB3YW50SW5uZXIpIHtcbiAgICB2YXIgaXNCb3JkZXJCb3ggPSBnZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIFwiYm94U2l6aW5nXCIpLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSA9PT0gXCJib3JkZXItYm94XCI7XG4gICAgaWYgKGlzQm9yZGVyQm94ID09PSB3YW50SW5uZXIpIHtcbiAgICAgICAgLy8gaW4gYm94LXNpemluZyBtb2RlLCB0aGUgQ1NTIHdpZHRoIC8gaGVpZ2h0IGFjY2Vzc29ycyBhbHJlYWR5XG4gICAgICAgIC8vIGdpdmUgdGhlIG91dGVyV2lkdGggLyBvdXRlckhlaWdodC5cbiAgICAgICAgdmFyIHNpZGVzID0gbmFtZSA9PT0gXCJ3aWR0aFwiID8gW1wiTGVmdFwiLCBcIlJpZ2h0XCJdIDogW1wiVG9wXCIsIFwiQm90dG9tXCJdLFxuICAgICAgICAgICAgZmllbGRzID0gW1wicGFkZGluZ1wiICsgc2lkZXNbMF0sIFwicGFkZGluZ1wiICsgc2lkZXNbMV0sIFwiYm9yZGVyXCIgKyBzaWRlc1swXSArIFwiV2lkdGhcIiwgXCJib3JkZXJcIiArIHNpZGVzWzFdICsgXCJXaWR0aFwiXTtcbiAgICAgICAgdmFyIGF1Z21lbnQgPSAwO1xuICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGZpZWxkc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmllbGQgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHBhcnNlRmxvYXQoZ2V0UHJvcGVydHlWYWx1ZShlbGVtZW50LCBmaWVsZCkpO1xuICAgICAgICAgICAgICAgIGlmICghaXNOYU4odmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGF1Z21lbnQgKz0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHdhbnRJbm5lciA/IC1hdWdtZW50IDogYXVnbWVudDtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG59XG5cbi8vIFByb2plY3Rcbi8qKlxyXG4gKiBHZXQgdGhlIHdpZHRoIG9yIGhlaWdodCBvZiBhbiBlbGVtZW50LCBwdWxsZWQgb3V0IGFzIGl0IGNhbiBiZSB1c2VkIHdoZW4gdGhlXHJcbiAqIGluIHR3byBsb2NhdGlvbnMgc28gZG9uJ3Qgd2FudCB0byByZXBlYXQgaXQuXHJcbiAqL1xuZnVuY3Rpb24gZ2V0V2lkdGhIZWlnaHQoZWxlbWVudCwgcHJvcGVydHkpIHtcbiAgICByZXR1cm4gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVtwcm9wZXJ0eV0gKyBhdWdtZW50RGltZW5zaW9uKGVsZW1lbnQsIHByb3BlcnR5LCB0cnVlKSArIFwicHhcIjtcbn1cbi8vIFRPRE86IFRoaXMgaXMgc3RpbGwgYSBjb21wbGV0ZSBtZXNzXG5mdW5jdGlvbiBjb21wdXRlUHJvcGVydHlWYWx1ZShlbGVtZW50LCBwcm9wZXJ0eSkge1xuICAgIHZhciBkYXRhID0gRGF0YShlbGVtZW50KSxcblxuICAgIC8vIElmIGNvbXB1dGVkU3R5bGUgaXMgY2FjaGVkLCB1c2UgaXQuIElmIG5vdCB0aGVuIGdldCB0aGUgY29ycmVjdCBvbmVcbiAgICAvLyBmb3IgdGhlIGVsZW1lbnQgdG8gc3VwcG9ydCBjcm9zcy1pZnJhbWUgYm91bmRhcmllcy5cbiAgICBjb21wdXRlZFN0eWxlID0gZGF0YS5jb21wdXRlZFN0eWxlID8gZGF0YS5jb21wdXRlZFN0eWxlIDogZGF0YS53aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBudWxsKTtcbiAgICB2YXIgY29tcHV0ZWRWYWx1ZSA9IDA7XG4gICAgaWYgKCFkYXRhLmNvbXB1dGVkU3R5bGUpIHtcbiAgICAgICAgZGF0YS5jb21wdXRlZFN0eWxlID0gY29tcHV0ZWRTdHlsZTtcbiAgICB9XG4gICAgaWYgKGNvbXB1dGVkU3R5bGVbXCJkaXNwbGF5XCJdID09PSBcIm5vbmVcIikge1xuICAgICAgICBzd2l0Y2ggKHByb3BlcnR5KSB7XG4gICAgICAgICAgICBjYXNlIFwid2lkdGhcIjpcbiAgICAgICAgICAgIGNhc2UgXCJoZWlnaHRcIjpcbiAgICAgICAgICAgICAgICAvLyBCcm93c2VycyBkbyBub3QgcmV0dXJuIGhlaWdodCBhbmQgd2lkdGggdmFsdWVzIGZvciBlbGVtZW50c1xuICAgICAgICAgICAgICAgIC8vIHRoYXQgYXJlIHNldCB0byBkaXNwbGF5Olwibm9uZVwiLiBUaHVzLCB3ZSB0ZW1wb3JhcmlseSB0b2dnbGVcbiAgICAgICAgICAgICAgICAvLyBkaXNwbGF5IHRvIHRoZSBlbGVtZW50IHR5cGUncyBkZWZhdWx0IHZhbHVlLlxuICAgICAgICAgICAgICAgIHNldFByb3BlcnR5VmFsdWUoZWxlbWVudCwgXCJkaXNwbGF5XCIsIFwiYXV0b1wiKTtcbiAgICAgICAgICAgICAgICBjb21wdXRlZFZhbHVlID0gZ2V0V2lkdGhIZWlnaHQoZWxlbWVudCwgcHJvcGVydHkpO1xuICAgICAgICAgICAgICAgIHNldFByb3BlcnR5VmFsdWUoZWxlbWVudCwgXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKGNvbXB1dGVkVmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qIElFIGFuZCBGaXJlZm94IGRvIG5vdCByZXR1cm4gYSB2YWx1ZSBmb3IgdGhlIGdlbmVyaWMgYm9yZGVyQ29sb3IgLS0gdGhleSBvbmx5IHJldHVybiBpbmRpdmlkdWFsIHZhbHVlcyBmb3IgZWFjaCBib3JkZXIgc2lkZSdzIGNvbG9yLlxyXG4gICAgIEFsc28sIGluIGFsbCBicm93c2Vycywgd2hlbiBib3JkZXIgY29sb3JzIGFyZW4ndCBhbGwgdGhlIHNhbWUsIGEgY29tcG91bmQgdmFsdWUgaXMgcmV0dXJuZWQgdGhhdCBWZWxvY2l0eSBpc24ndCBzZXR1cCB0byBwYXJzZS5cclxuICAgICBTbywgYXMgYSBwb2x5ZmlsbCBmb3IgcXVlcnlpbmcgaW5kaXZpZHVhbCBib3JkZXIgc2lkZSBjb2xvcnMsIHdlIGp1c3QgcmV0dXJuIHRoZSB0b3AgYm9yZGVyJ3MgY29sb3IgYW5kIGFuaW1hdGUgYWxsIGJvcmRlcnMgZnJvbSB0aGF0IHZhbHVlLiAqL1xuICAgIC8qIFRPRE86IFRoZXJlIGlzIGEgYm9yZGVyQ29sb3Igbm9ybWFsaXNhdGlvbiBpbiBsZWdhY3kvIC0gZmlndXJlIG91dCB3aGVyZSB0aGlzIGlzIG5lZWRlZC4uLiAqL1xuICAgIGNvbXB1dGVkVmFsdWUgPSBjb21wdXRlZFN0eWxlW3Byb3BlcnR5XTtcbiAgICAvKiBGYWxsIGJhY2sgdG8gdGhlIHByb3BlcnR5J3Mgc3R5bGUgdmFsdWUgKGlmIGRlZmluZWQpIHdoZW4gY29tcHV0ZWRWYWx1ZSByZXR1cm5zIG5vdGhpbmcsXHJcbiAgICAgd2hpY2ggY2FuIGhhcHBlbiB3aGVuIHRoZSBlbGVtZW50IGhhc24ndCBiZWVuIHBhaW50ZWQuICovXG4gICAgaWYgKCFjb21wdXRlZFZhbHVlKSB7XG4gICAgICAgIGNvbXB1dGVkVmFsdWUgPSBlbGVtZW50LnN0eWxlW3Byb3BlcnR5XTtcbiAgICB9XG4gICAgLyogRm9yIHRvcCwgcmlnaHQsIGJvdHRvbSwgYW5kIGxlZnQgKFRSQkwpIHZhbHVlcyB0aGF0IGFyZSBzZXQgdG8gXCJhdXRvXCIgb24gZWxlbWVudHMgb2YgXCJmaXhlZFwiIG9yIFwiYWJzb2x1dGVcIiBwb3NpdGlvbixcclxuICAgICBkZWZlciB0byBqUXVlcnkgZm9yIGNvbnZlcnRpbmcgXCJhdXRvXCIgdG8gYSBudW1lcmljIHZhbHVlLiAoRm9yIGVsZW1lbnRzIHdpdGggYSBcInN0YXRpY1wiIG9yIFwicmVsYXRpdmVcIiBwb3NpdGlvbiwgXCJhdXRvXCIgaGFzIHRoZSBzYW1lXHJcbiAgICAgZWZmZWN0IGFzIGJlaW5nIHNldCB0byAwLCBzbyBubyBjb252ZXJzaW9uIGlzIG5lY2Vzc2FyeS4pICovXG4gICAgLyogQW4gZXhhbXBsZSBvZiB3aHkgbnVtZXJpYyBjb252ZXJzaW9uIGlzIG5lY2Vzc2FyeTogV2hlbiBhbiBlbGVtZW50IHdpdGggXCJwb3NpdGlvbjphYnNvbHV0ZVwiIGhhcyBhbiB1bnRvdWNoZWQgXCJsZWZ0XCJcclxuICAgICBwcm9wZXJ0eSwgd2hpY2ggcmV2ZXJ0cyB0byBcImF1dG9cIiwgbGVmdCdzIHZhbHVlIGlzIDAgcmVsYXRpdmUgdG8gaXRzIHBhcmVudCBlbGVtZW50LCBidXQgaXMgb2Z0ZW4gbm9uLXplcm8gcmVsYXRpdmVcclxuICAgICB0byBpdHMgKmNvbnRhaW5pbmcqIChub3QgcGFyZW50KSBlbGVtZW50LCB3aGljaCBpcyB0aGUgbmVhcmVzdCBcInBvc2l0aW9uOnJlbGF0aXZlXCIgYW5jZXN0b3Igb3IgdGhlIHZpZXdwb3J0IChhbmQgYWx3YXlzIHRoZSB2aWV3cG9ydCBpbiB0aGUgY2FzZSBvZiBcInBvc2l0aW9uOmZpeGVkXCIpLiAqL1xuICAgIGlmIChjb21wdXRlZFZhbHVlID09PSBcImF1dG9cIikge1xuICAgICAgICBzd2l0Y2ggKHByb3BlcnR5KSB7XG4gICAgICAgICAgICBjYXNlIFwid2lkdGhcIjpcbiAgICAgICAgICAgIGNhc2UgXCJoZWlnaHRcIjpcbiAgICAgICAgICAgICAgICBjb21wdXRlZFZhbHVlID0gZ2V0V2lkdGhIZWlnaHQoZWxlbWVudCwgcHJvcGVydHkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInRvcFwiOlxuICAgICAgICAgICAgY2FzZSBcImxlZnRcIjpcblxuICAgICAgICAgICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICAgICAgICBjYXNlIFwiYm90dG9tXCI6XG4gICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gZ2V0UHJvcGVydHlWYWx1ZShlbGVtZW50LCBcInBvc2l0aW9uXCIpO1xuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gXCJmaXhlZFwiIHx8IHBvc2l0aW9uID09PSBcImFic29sdXRlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogdGhpcyBoYXMgbm8gcGl4ZWwgdW5pdCBvbiBpdHMgcmV0dXJuZWQgdmFsdWVzLFxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSByZS1hZGQgaXQgaGVyZSB0byBjb25mb3JtIHdpdGhcbiAgICAgICAgICAgICAgICAgICAgLy8gY29tcHV0ZVByb3BlcnR5VmFsdWUncyBiZWhhdmlvci5cbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRWYWx1ZSA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0W3Byb3BlcnR5XSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRGVsaWJlcmF0ZSBmYWxsdGhyb3VnaCFcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY29tcHV0ZWRWYWx1ZSA9IFwiMHB4XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbXB1dGVkVmFsdWUgPyBTdHJpbmcoY29tcHV0ZWRWYWx1ZSkgOiBcIlwiO1xufVxuLyoqXHJcbiAqIEdldCBhIHByb3BlcnR5IHZhbHVlLiBUaGlzIHdpbGwgZ3JhYiB2aWEgdGhlIGNhY2hlIGlmIGl0IGV4aXN0cywgdGhlblxyXG4gKiB2aWEgYW55IG5vcm1hbGlzYXRpb25zLlxyXG4gKi9cbmZ1bmN0aW9uIGdldFByb3BlcnR5VmFsdWUoZWxlbWVudCwgcHJvcGVydHlOYW1lLCBmbiwgc2tpcENhY2hlKSB7XG4gICAgdmFyIGRhdGEgPSBEYXRhKGVsZW1lbnQpO1xuICAgIHZhciBwcm9wZXJ0eVZhbHVlID0gdm9pZCAwO1xuICAgIGlmIChOb0NhY2hlTm9ybWFsaXphdGlvbnMuaGFzKHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgc2tpcENhY2hlID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFza2lwQ2FjaGUgJiYgZGF0YSAmJiBkYXRhLmNhY2hlW3Byb3BlcnR5TmFtZV0gIT0gbnVsbCkge1xuICAgICAgICBwcm9wZXJ0eVZhbHVlID0gZGF0YS5jYWNoZVtwcm9wZXJ0eU5hbWVdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZuID0gZm4gfHwgZ2V0Tm9ybWFsaXphdGlvbihlbGVtZW50LCBwcm9wZXJ0eU5hbWUpO1xuICAgICAgICBpZiAoZm4pIHtcbiAgICAgICAgICAgIHByb3BlcnR5VmFsdWUgPSBmbihlbGVtZW50KTtcbiAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5jYWNoZVtwcm9wZXJ0eU5hbWVdID0gcHJvcGVydHlWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoVmVsb2NpdHkkJDEuZGVidWcgPj0gMikge1xuICAgICAgICBjb25zb2xlLmluZm8oXCJHZXQgXFxcIlwiICsgcHJvcGVydHlOYW1lICsgXCJcXFwiOiBcXFwiXCIgKyBwcm9wZXJ0eVZhbHVlICsgXCJcXFwiXCIsIGVsZW1lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvcGVydHlWYWx1ZTtcbn1cblxuLy8gUHJvamVjdFxuLy8gQ29uc3RhbnRzXG52YXIgcnhIZXggPSAvXiMoW0EtZlxcZF17M30pezEsMn0kL2ksXG4gICAgY29tbWFuZHMgPSB7XG4gICAgZnVuY3Rpb246IGZ1bmN0aW9uIF9mdW5jdGlvbih2YWx1ZSwgZWxlbWVudCwgZWxlbWVudHMsIGVsZW1lbnRBcnJheUluZGV4LCBwcm9wZXJ0eU5hbWUsIHR3ZWVuKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5jYWxsKGVsZW1lbnQsIGVsZW1lbnRBcnJheUluZGV4LCBlbGVtZW50cy5sZW5ndGgsIHByb3BlcnR5TmFtZSk7XG4gICAgfSxcbiAgICBudW1iZXI6IGZ1bmN0aW9uIG51bWJlcih2YWx1ZSwgZWxlbWVudCwgZWxlbWVudHMsIGVsZW1lbnRBcnJheUluZGV4LCBwcm9wZXJ0eU5hbWUsIHR3ZWVuKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpICsgZ2V0Tm9ybWFsaXphdGlvblVuaXQodHdlZW4uZm4pO1xuICAgIH0sXG4gICAgc3RyaW5nOiBmdW5jdGlvbiBzdHJpbmcodmFsdWUsIGVsZW1lbnQsIGVsZW1lbnRzLCBlbGVtZW50QXJyYXlJbmRleCwgcHJvcGVydHlOYW1lLCB0d2Vlbikge1xuICAgICAgICByZXR1cm4gZml4Q29sb3JzKHZhbHVlKTtcbiAgICB9LFxuICAgIHVuZGVmaW5lZDogZnVuY3Rpb24gdW5kZWZpbmVkKHZhbHVlLCBlbGVtZW50LCBlbGVtZW50cywgZWxlbWVudEFycmF5SW5kZXgsIHByb3BlcnR5TmFtZSwgdHdlZW4pIHtcbiAgICAgICAgcmV0dXJuIGZpeENvbG9ycyhnZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIHByb3BlcnR5TmFtZSwgdHdlZW4uZm4pIHx8IFwiXCIpO1xuICAgIH1cbn07XG4vKipcclxuICogRXhwYW5kIGEgVmVsb2NpdHlQcm9wZXJ0eSBhcmd1bWVudCBpbnRvIGEgdmFsaWQgc3BhcnNlIFR3ZWVuIGFycmF5LiBUaGlzXHJcbiAqIHByZS1hbGxvY2F0ZXMgdGhlIGFycmF5IGFzIGl0IGlzIHRoZW4gdGhlIGNvcnJlY3Qgc2l6ZSBhbmQgc2xpZ2h0bHlcclxuICogZmFzdGVyIHRvIGFjY2Vzcy5cclxuICovXG5mdW5jdGlvbiBleHBhbmRQcm9wZXJ0aWVzKGFuaW1hdGlvbiwgcHJvcGVydGllcykge1xuICAgIHZhciB0d2VlbnMgPSBhbmltYXRpb24udHdlZW5zID0gT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICAgICAgZWxlbWVudHMgPSBhbmltYXRpb24uZWxlbWVudHMsXG4gICAgICAgIGVsZW1lbnQgPSBhbmltYXRpb24uZWxlbWVudCxcbiAgICAgICAgZWxlbWVudEFycmF5SW5kZXggPSBlbGVtZW50cy5pbmRleE9mKGVsZW1lbnQpLFxuICAgICAgICBkYXRhID0gRGF0YShlbGVtZW50KSxcbiAgICAgICAgcXVldWUgPSBnZXRWYWx1ZShhbmltYXRpb24ucXVldWUsIGFuaW1hdGlvbi5vcHRpb25zLnF1ZXVlKSxcbiAgICAgICAgZHVyYXRpb24gPSBnZXRWYWx1ZShhbmltYXRpb24ub3B0aW9ucy5kdXJhdGlvbiwgZGVmYXVsdHMkMS5kdXJhdGlvbik7XG4gICAgZm9yICh2YXIgcHJvcGVydHkgaW4gcHJvcGVydGllcykge1xuICAgICAgICBpZiAocHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eU5hbWUgPSBjYW1lbENhc2UocHJvcGVydHkpLFxuICAgICAgICAgICAgICAgIGZuID0gZ2V0Tm9ybWFsaXphdGlvbihlbGVtZW50LCBwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgdmFyIHZhbHVlRGF0YSA9IHByb3BlcnRpZXNbcHJvcGVydHldO1xuICAgICAgICAgICAgaWYgKCFmbiAmJiBwcm9wZXJ0eU5hbWUgIT09IFwidHdlZW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChWZWxvY2l0eSQkMS5kZWJ1Zykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNraXBwaW5nIFxcXCJcIiArIHByb3BlcnR5ICsgXCJcXFwiIGR1ZSB0byBhIGxhY2sgb2YgYnJvd3NlciBzdXBwb3J0LlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWVEYXRhID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoVmVsb2NpdHkkJDEuZGVidWcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTa2lwcGluZyBcXFwiXCIgKyBwcm9wZXJ0eSArIFwiXFxcIiBkdWUgdG8gbm8gdmFsdWUgc3VwcGxpZWQuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0d2VlbiA9IHR3ZWVuc1twcm9wZXJ0eU5hbWVdID0ge307XG4gICAgICAgICAgICB2YXIgZW5kVmFsdWUgPSB2b2lkIDAsXG4gICAgICAgICAgICAgICAgc3RhcnRWYWx1ZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIHR3ZWVuLmZuID0gZm47XG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZURhdGEpKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIGZ1bmN0aW9uIGFzIHRoZSBtYWluIGFyZ3VtZW50IHRoZW4gcmVzb2x2ZVxuICAgICAgICAgICAgICAgIC8vIGl0IGZpcnN0LCBpbiBjYXNlIGl0IHJldHVybnMgYW4gYXJyYXkgdGhhdCBuZWVkcyB0byBiZVxuICAgICAgICAgICAgICAgIC8vIHNwbGl0LlxuICAgICAgICAgICAgICAgIHZhbHVlRGF0YSA9IHZhbHVlRGF0YS5jYWxsKGVsZW1lbnQsIGVsZW1lbnRBcnJheUluZGV4LCBlbGVtZW50cy5sZW5ndGgsIGVsZW1lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlRGF0YSkpIHtcbiAgICAgICAgICAgICAgICAvLyB2YWx1ZURhdGEgaXMgYW4gYXJyYXkgaW4gdGhlIGZvcm0gb2ZcbiAgICAgICAgICAgICAgICAvLyBbIGVuZFZhbHVlLCBbLCBlYXNpbmddIFssIHN0YXJ0VmFsdWVdIF1cbiAgICAgICAgICAgICAgICB2YXIgYXJyMSA9IHZhbHVlRGF0YVsxXSxcbiAgICAgICAgICAgICAgICAgICAgYXJyMiA9IHZhbHVlRGF0YVsyXTtcbiAgICAgICAgICAgICAgICBlbmRWYWx1ZSA9IHZhbHVlRGF0YVswXTtcbiAgICAgICAgICAgICAgICBpZiAoaXNTdHJpbmcoYXJyMSkgJiYgKC9eW1xcZC1dLy50ZXN0KGFycjEpIHx8IHJ4SGV4LnRlc3QoYXJyMSkpIHx8IGlzRnVuY3Rpb24oYXJyMSkgfHwgaXNOdW1iZXIoYXJyMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRWYWx1ZSA9IGFycjE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc1N0cmluZyhhcnIxKSAmJiBFYXNpbmdzW2FycjFdIHx8IEFycmF5LmlzQXJyYXkoYXJyMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHdlZW4uZWFzaW5nID0gdmFsaWRhdGVFYXNpbmcoYXJyMSwgZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBzdGFydFZhbHVlID0gYXJyMjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdGFydFZhbHVlID0gYXJyMSB8fCBhcnIyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZW5kVmFsdWUgPSB2YWx1ZURhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0d2Vlbi5lbmQgPSBjb21tYW5kc1t0eXBlb2YgZW5kVmFsdWUgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihlbmRWYWx1ZSldKGVuZFZhbHVlLCBlbGVtZW50LCBlbGVtZW50cywgZWxlbWVudEFycmF5SW5kZXgsIHByb3BlcnR5TmFtZSwgdHdlZW4pO1xuICAgICAgICAgICAgaWYgKHN0YXJ0VmFsdWUgIT0gbnVsbCB8fCBxdWV1ZSA9PT0gZmFsc2UgfHwgZGF0YS5xdWV1ZUxpc3RbcXVldWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0d2Vlbi5zdGFydCA9IGNvbW1hbmRzW3R5cGVvZiBzdGFydFZhbHVlID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yoc3RhcnRWYWx1ZSldKHN0YXJ0VmFsdWUsIGVsZW1lbnQsIGVsZW1lbnRzLCBlbGVtZW50QXJyYXlJbmRleCwgcHJvcGVydHlOYW1lLCB0d2Vlbik7XG4gICAgICAgICAgICAgICAgZXhwbG9kZVR3ZWVuKHByb3BlcnR5TmFtZSwgdHdlZW4sIGR1cmF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIFRPRE86IE5lZWRzIGEgYmV0dGVyIG1hdGNoIGZvciBcInRyYW5zbGF0ZTNkXCIgZXRjIC0gYSBudW1iZXIgbXVzdCBiZSBwcmVjZWRlZCBieSBzb21lIGZvcm0gb2YgYnJlYWsuLi5cbnZhciByeFRva2VuID0gLygoPzpbK1xcLSovXT0pPyg/OlsrLV0/XFxkKlxcLlxcZCt8WystXT9cXGQrKVthLXolXSp8KD86Lig/ISR8WystXT9cXGR8WytcXC0qL109WystXT9cXGQpKSsufC4pL2csXG4gICAgcnhOdW1iZXIgPSAvXihbK1xcLSovXT0pPyhbKy1dP1xcZCpcXC5cXGQrfFsrLV0/XFxkKykoLiopJC87XG4vKipcclxuICogRmluZCBhIHBhdHRlcm4gYmV0d2VlbiBtdWx0aXBsZSBzdHJpbmdzLCByZXR1cm4gYSBWZWxvY2l0eVNlcXVlbmNlIHdpdGhcclxuICogdGhlIHBhdHRlcm4gYW5kIHRoZSB0b2tlbmlzZWQgdmFsdWVzLlxyXG4gKlxyXG4gKiBJZiBudW1iZXIgdGhlbiBhbmltYXRlLlxyXG4gKiBJZiBhIHN0cmluZyB0aGVuIG11c3QgbWF0Y2guXHJcbiAqIElmIHVuaXRzIHRoZW4gY29udmVydCBiZXR3ZWVuIHRoZW0gYnkgd3JhcHBpbmcgaW4gYSBjYWxjKCkuXHJcbiAqIC0gSWYgYWxyZWFkeSBpbiBhIGNhbGMgdGhlbiBuZXN0IGFub3RoZXIgbGF5ZXIuXHJcbiAqIElmIGluIGFuIHJnYmEoKSB0aGVuIHRoZSBmaXJzdCB0aHJlZSBudW1iZXJzIGFyZSByb3VuZGVkLlxyXG4gKi9cbmZ1bmN0aW9uIGZpbmRQYXR0ZXJuKHBhcnRzLCBwcm9wZXJ0eU5hbWUpIHtcbiAgICB2YXIgcGFydHNMZW5ndGggPSBwYXJ0cy5sZW5ndGgsXG4gICAgICAgIHRva2VucyA9IFtdLFxuICAgICAgICBpbmRleGVzID0gW107XG4gICAgdmFyIG51bWJlcnMgPSB2b2lkIDA7XG4gICAgLy8gRmlyc3QgdG9rZW5pc2UgdGhlIHN0cmluZ3MgLSB0aGVzZSBoYXZlIGFsbCB2YWx1ZXMsIHdlIHdpbGwgcHVsbFxuICAgIC8vIG51bWJlcnMgbGF0ZXIuXG4gICAgZm9yICh2YXIgcGFydCA9IDA7IHBhcnQgPCBwYXJ0c0xlbmd0aDsgcGFydCsrKSB7XG4gICAgICAgIGlmIChpc1N0cmluZyhwYXJ0c1twYXJ0XSkpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0c1twYXJ0XSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgIHRva2Vuc1twYXJ0XSA9IFtcIlwiXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdG9rZW5zW3BhcnRdID0gY2xvbmVBcnJheShwYXJ0c1twYXJ0XS5tYXRjaChyeFRva2VuKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbmRleGVzW3BhcnRdID0gMDtcbiAgICAgICAgICAgIC8vIElmIGl0IG1hdGNoZXMgbW9yZSB0aGFuIG9uZSB0aGluZyB0aGVuIHdlJ3ZlIGdvdCBhIG51bWJlci5cbiAgICAgICAgICAgIG51bWJlcnMgPSBudW1iZXJzIHx8IHRva2Vuc1twYXJ0XS5sZW5ndGggPiAxO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhgdG9rZW5zOmAsIHBhcnRzW3BhcnRdLCB0b2tlbnNbcGFydF0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBXZSBoYXZlIGFuIGluY29tcGxldGUgbGluZXVwLCBpdCB3aWxsIGdldCB0cmllZCBhZ2FpbiBsYXRlci4uLlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBzZXF1ZW5jZSA9IFtdLFxuICAgICAgICBwYXR0ZXJuID0gc2VxdWVuY2UucGF0dGVybiA9IFtdLFxuICAgICAgICBhZGRTdHJpbmcgPSBmdW5jdGlvbiBhZGRTdHJpbmcodGV4dCkge1xuICAgICAgICBpZiAoaXNTdHJpbmcocGF0dGVybltwYXR0ZXJuLmxlbmd0aCAtIDFdKSkge1xuICAgICAgICAgICAgcGF0dGVybltwYXR0ZXJuLmxlbmd0aCAtIDFdICs9IHRleHQ7XG4gICAgICAgIH0gZWxzZSBpZiAodGV4dCkge1xuICAgICAgICAgICAgcGF0dGVybi5wdXNoKHRleHQpO1xuICAgICAgICAgICAgZm9yICh2YXIgX3BhcnQgPSAwOyBfcGFydCA8IHBhcnRzTGVuZ3RoOyBfcGFydCsrKSB7XG4gICAgICAgICAgICAgICAgc2VxdWVuY2VbX3BhcnRdLnB1c2gobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgICAgICByZXR1cm5TdHJpbmdUeXBlID0gZnVuY3Rpb24gcmV0dXJuU3RyaW5nVHlwZSgpIHtcbiAgICAgICAgaWYgKG51bWJlcnMgfHwgcGF0dGVybi5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAvL2NvbnNvbGUuZXJyb3IoYFZlbG9jaXR5OiBUcnlpbmcgdG8gcGF0dGVybiBtYXRjaCBtaXMtbWF0Y2hlZCBzdHJpbmdzIFwiJHtwcm9wZXJ0eU5hbWV9XCI6YCwgcGFydHMpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpc0Rpc3BsYXkgPSBwcm9wZXJ0eU5hbWUgPT09IFwiZGlzcGxheVwiLFxuICAgICAgICAgICAgaXNWaXNpYmlsaXR5ID0gcHJvcGVydHlOYW1lID09PSBcInZpc2liaWxpdHlcIjtcbiAgICAgICAgZm9yICh2YXIgX3BhcnQyID0gMDsgX3BhcnQyIDwgcGFydHNMZW5ndGg7IF9wYXJ0MisrKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBwYXJ0c1tfcGFydDJdO1xuICAgICAgICAgICAgc2VxdWVuY2VbX3BhcnQyXVswXSA9IHZhbHVlO1xuICAgICAgICAgICAgLy8gRG9uJ3QgY2FyZSBhYm91dCBkdXJhdGlvbi4uLlxuICAgICAgICAgICAgc2VxdWVuY2VbX3BhcnQyXS5lYXNpbmcgPSB2YWxpZGF0ZUVhc2luZyhpc0Rpc3BsYXkgJiYgdmFsdWUgPT09IFwibm9uZVwiIHx8IGlzVmlzaWJpbGl0eSAmJiB2YWx1ZSA9PT0gXCJoaWRkZW5cIiB8fCAhaXNEaXNwbGF5ICYmICFpc1Zpc2liaWxpdHkgPyBcImF0LWVuZFwiIDogXCJhdC1zdGFydFwiLCA0MDApO1xuICAgICAgICB9XG4gICAgICAgIHBhdHRlcm5bMF0gPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHNlcXVlbmNlO1xuICAgIH07XG4gICAgdmFyIG1vcmUgPSB0cnVlO1xuICAgIGZvciAodmFyIF9wYXJ0MyA9IDA7IF9wYXJ0MyA8IHBhcnRzTGVuZ3RoOyBfcGFydDMrKykge1xuICAgICAgICBzZXF1ZW5jZVtfcGFydDNdID0gW107XG4gICAgfVxuICAgIHdoaWxlIChtb3JlKSB7XG4gICAgICAgIHZhciBiaXRzID0gW10sXG4gICAgICAgICAgICB1bml0cyA9IFtdO1xuICAgICAgICB2YXIgdGV4dCA9IHZvaWQgMCxcbiAgICAgICAgICAgIGlzVW5pdGxlc3MgPSBmYWxzZSxcbiAgICAgICAgICAgIGhhc051bWJlcnMgPSBmYWxzZTtcbiAgICAgICAgZm9yICh2YXIgX3BhcnQ0ID0gMDsgX3BhcnQ0IDwgcGFydHNMZW5ndGg7IF9wYXJ0NCsrKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpbmRleGVzW19wYXJ0NF0rKyxcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2Vuc1tfcGFydDRdW2luZGV4XTtcbiAgICAgICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgICAgIHZhciBudW0gPSB0b2tlbi5tYXRjaChyeE51bWJlcik7IC8vIFtpZ25vcmUsIGNoYW5nZSwgbnVtYmVyLCB1bml0XVxuICAgICAgICAgICAgICAgIGlmIChudW0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSXQncyBhIG51bWJlciwgcG9zc2libHkgd2l0aCBhICs9IGNoYW5nZSBhbmQgdW5pdC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5TdHJpbmdUeXBlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpZ2l0cyA9IHBhcnNlRmxvYXQobnVtWzJdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuaXQgPSBudW1bM10sXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2UgPSBudW1bMV0gPyBudW1bMV1bMF0gKyB1bml0IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlT3JVbml0ID0gY2hhbmdlIHx8IHVuaXQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaWdpdHMgJiYgIXVuaXRzLmluY2x1ZGVzKGNoYW5nZU9yVW5pdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdpbGwgYmUgYW4gZW1wdHkgc3RyaW5nIGF0IHRoZSBsZWFzdC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHVuaXRzLnB1c2goY2hhbmdlT3JVbml0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXVuaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaWdpdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNOdW1iZXJzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNVbml0bGVzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYml0c1tfcGFydDRdID0gY2hhbmdlID8gW2RpZ2l0cywgY2hhbmdlT3JVbml0LCB0cnVlXSA6IFtkaWdpdHMsIGNoYW5nZU9yVW5pdF07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChiaXRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuU3RyaW5nVHlwZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEl0J3MgYSBzdHJpbmcuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRva2VuO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRleHQgIT09IHRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuU3RyaW5nVHlwZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICghX3BhcnQ0KSB7XG4gICAgICAgICAgICAgICAgZm9yICg7IF9wYXJ0NCA8IHBhcnRzTGVuZ3RoOyBfcGFydDQrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXgyID0gaW5kZXhlc1tfcGFydDRdKys7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbnNbX3BhcnQ0XVtpbmRleDJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuU3RyaW5nVHlwZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElNUE9SVEFOVDogVGhpcyBpcyB0aGUgZXhpdCBwb2ludC5cbiAgICAgICAgICAgICAgICBtb3JlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIERpZmZlcmVudFxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGV4dCkge1xuICAgICAgICAgICAgYWRkU3RyaW5nKHRleHQpO1xuICAgICAgICB9IGVsc2UgaWYgKHVuaXRzLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKHVuaXRzLmxlbmd0aCA9PT0gMiAmJiBpc1VuaXRsZXNzICYmICFoYXNOdW1iZXJzKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2Ugb25seSBoYXZlIHR3byB1bml0cywgYW5kIG9uZSBpcyBlbXB0eSwgYW5kIGl0J3Mgb25seSBlbXB0eSBvbiBcIjBcIiwgdGhlbiB0cmVhdCB1cyBhcyBoYXZpbmcgb25lIHVuaXRcbiAgICAgICAgICAgICAgICB1bml0cy5zcGxpY2UodW5pdHNbMF0gPyAxIDogMCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodW5pdHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gQWxsIHRoZSBzYW1lIHVuaXRzLCBzbyBhcHBlbmQgbnVtYmVyIHRoZW4gdW5pdC5cbiAgICAgICAgICAgICAgICB2YXIgX3VuaXQgPSB1bml0c1swXSxcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RMZXR0ZXIgPSBfdW5pdFswXTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGZpcnN0TGV0dGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCIrXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCItXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCIqXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCIvXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydHlOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlZlbG9jaXR5OiBUaGUgZmlyc3QgcHJvcGVydHkgbXVzdCBub3QgY29udGFpbiBhIHJlbGF0aXZlIGZ1bmN0aW9uIFxcXCJcIiArIHByb3BlcnR5TmFtZSArIFwiXFxcIjpcIiwgcGFydHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXR0ZXJuLnB1c2goZmFsc2UpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9wYXJ0NSA9IDA7IF9wYXJ0NSA8IHBhcnRzTGVuZ3RoOyBfcGFydDUrKykge1xuICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZVtfcGFydDVdLnB1c2goYml0c1tfcGFydDVdWzBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYWRkU3RyaW5nKF91bml0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTXVsdGlwbGUgdW5pdHMsIHNvIG11c3QgYmUgaW5zaWRlIGEgY2FsYy5cbiAgICAgICAgICAgICAgICBhZGRTdHJpbmcoXCJjYWxjKFwiKTtcbiAgICAgICAgICAgICAgICB2YXIgcGF0dGVybkNhbGMgPSBwYXR0ZXJuLmxlbmd0aCAtIDE7IC8vIFN0b3JlIHRoZSBiZWdpbm5pbmcgb2Ygb3VyIGNhbGMuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1bml0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3VuaXQyID0gdW5pdHNbaV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfZmlyc3RMZXR0ZXIgPSBfdW5pdDJbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0NvbXBsZXggPSBfZmlyc3RMZXR0ZXIgPT09IFwiKlwiIHx8IF9maXJzdExldHRlciA9PT0gXCIvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc01hdGhzID0gaXNDb21wbGV4IHx8IF9maXJzdExldHRlciA9PT0gXCIrXCIgfHwgX2ZpcnN0TGV0dGVyID09PSBcIi1cIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ29tcGxleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogTm90IHN1cmUgdGhpcyBzaG91bGQgYmUgZG9uZSBhdXRvbWF0aWNhbGx5IVxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybltwYXR0ZXJuQ2FsY10gKz0gXCIoXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRTdHJpbmcoXCIpXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRTdHJpbmcoXCIgXCIgKyAoaXNNYXRocyA/IF9maXJzdExldHRlciA6IFwiK1wiKSArIFwiIFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLnB1c2goZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfcGFydDYgPSAwOyBfcGFydDYgPCBwYXJ0c0xlbmd0aDsgX3BhcnQ2KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiaXQgPSBiaXRzW19wYXJ0Nl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBiaXRbMV0gPT09IF91bml0MiA/IGJpdFswXSA6IGJpdC5sZW5ndGggPT09IDMgPyBzZXF1ZW5jZVtfcGFydDYgLSAxXVtzZXF1ZW5jZVtfcGFydDYgLSAxXS5sZW5ndGggLSAxXSA6IGlzQ29tcGxleCA/IDEgOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VbX3BhcnQ2XS5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhZGRTdHJpbmcoaXNNYXRocyA/IF91bml0Mi5zdWJzdHJpbmcoMSkgOiBfdW5pdDIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhZGRTdHJpbmcoXCIpXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFdlJ3ZlIGdvdCBoZXJlLCBzbyBhIHZhbGlkIHNlcXVlbmNlIC0gbm93IGNoZWNrIGFuZCBmaXggUkdCIHJvdW5kaW5nXG4gICAgLy8gYW5kIGNhbGMoKSBuZXN0aW5nLi4uXG4gICAgLy8gVE9ETzogTmVzdGVkIGNhbGMoYSArIGNhbGMoYiArIGMpKSAtPiBjYWxjKGEgKyAoYiArIGMpKVxuICAgIGZvciAodmFyIF9pID0gMCwgaW5SR0IgPSAwOyBfaSA8IHBhdHRlcm4ubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBfdGV4dCA9IHBhdHRlcm5bX2ldO1xuICAgICAgICBpZiAoaXNTdHJpbmcoX3RleHQpKSB7XG4gICAgICAgICAgICBpZiAoaW5SR0IgJiYgX3RleHQuaW5kZXhPZihcIixcIikgPj0gMCkge1xuICAgICAgICAgICAgICAgIGluUkdCKys7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF90ZXh0LmluZGV4T2YoXCJyZ2JcIikgPj0gMCkge1xuICAgICAgICAgICAgICAgIGluUkdCID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpblJHQikge1xuICAgICAgICAgICAgaWYgKGluUkdCIDwgNCkge1xuICAgICAgICAgICAgICAgIHBhdHRlcm5bX2ldID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5SR0IgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzZXF1ZW5jZTtcbn1cbi8qKlxyXG4gKiBDb252ZXJ0IGEgc3RyaW5nLWJhc2VkIHR3ZWVuIHdpdGggc3RhcnQgYW5kIGVuZCBzdHJpbmdzLCBpbnRvIGEgcGF0dGVyblxyXG4gKiBiYXNlZCB0d2VlbiB3aXRoIGFycmF5cy5cclxuICovXG5mdW5jdGlvbiBleHBsb2RlVHdlZW4ocHJvcGVydHlOYW1lLCB0d2VlbiwgZHVyYXRpb24sIHN0YXJ0aW5nKSB7XG4gICAgdmFyIHN0YXJ0VmFsdWUgPSB0d2Vlbi5zdGFydCxcbiAgICAgICAgZW5kVmFsdWUgPSB0d2Vlbi5lbmQ7XG4gICAgaWYgKCFpc1N0cmluZyhlbmRWYWx1ZSkgfHwgIWlzU3RyaW5nKHN0YXJ0VmFsdWUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHNlcXVlbmNlID0gZmluZFBhdHRlcm4oW3N0YXJ0VmFsdWUsIGVuZFZhbHVlXSwgcHJvcGVydHlOYW1lKTtcbiAgICBpZiAoIXNlcXVlbmNlICYmIHN0YXJ0aW5nKSB7XG4gICAgICAgIC8vIFRoaXMgbGl0dGxlIHBpZWNlIHdpbGwgdGFrZSBhIHN0YXJ0VmFsdWUsIHNwbGl0IG91dCB0aGVcbiAgICAgICAgLy8gdmFyaW91cyBudW1iZXJzIGluIGl0LCB0aGVuIGNvcHkgdGhlIGVuZFZhbHVlIGludG8gdGhlXG4gICAgICAgIC8vIHN0YXJ0VmFsdWUgd2hpbGUgcmVwbGFjaW5nIHRoZSBudW1iZXJzIGluIGl0IHRvIG1hdGNoIHRoZVxuICAgICAgICAvLyBvcmlnaW5hbCBzdGFydCBudW1iZXJzIGFzIGEgcmVwZWF0aW5nIHNlcXVlbmNlLlxuICAgICAgICAvLyBGaW5hbGx5IHRoaXMgZnVuY3Rpb24gd2lsbCBydW4gYWdhaW4gd2l0aCB0aGUgbmV3XG4gICAgICAgIC8vIHN0YXJ0VmFsdWUgYW5kIGEgbm93IG1hdGNoaW5nIHBhdHRlcm4uXG4gICAgICAgIHZhciBzdGFydE51bWJlcnMgPSBzdGFydFZhbHVlLm1hdGNoKC9cXGRcXC4/XFxkKi9nKSB8fCBbXCIwXCJdLFxuICAgICAgICAgICAgY291bnQgPSBzdGFydE51bWJlcnMubGVuZ3RoO1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICBzZXF1ZW5jZSA9IGZpbmRQYXR0ZXJuKFtlbmRWYWx1ZS5yZXBsYWNlKC9cXGQrXFwuP1xcZCovZywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXJ0TnVtYmVyc1tpbmRleCsrICUgY291bnRdO1xuICAgICAgICB9KSwgZW5kVmFsdWVdLCBwcm9wZXJ0eU5hbWUpO1xuICAgIH1cbiAgICBpZiAoc2VxdWVuY2UpIHtcbiAgICAgICAgaWYgKFZlbG9jaXR5JCQxLmRlYnVnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlZlbG9jaXR5OiBTZXF1ZW5jZSBmb3VuZDpcIiwgc2VxdWVuY2UpO1xuICAgICAgICB9XG4gICAgICAgIHNlcXVlbmNlWzBdLnBlcmNlbnQgPSAwO1xuICAgICAgICBzZXF1ZW5jZVsxXS5wZXJjZW50ID0gMTtcbiAgICAgICAgdHdlZW4uc2VxdWVuY2UgPSBzZXF1ZW5jZTtcbiAgICAgICAgc3dpdGNoICh0d2Vlbi5lYXNpbmcpIHtcbiAgICAgICAgICAgIGNhc2UgRWFzaW5nc1tcImF0LXN0YXJ0XCJdOlxuICAgICAgICAgICAgY2FzZSBFYXNpbmdzW1wiZHVyaW5nXCJdOlxuICAgICAgICAgICAgY2FzZSBFYXNpbmdzW1wiYXQtZW5kXCJdOlxuICAgICAgICAgICAgICAgIHNlcXVlbmNlWzBdLmVhc2luZyA9IHNlcXVlbmNlWzFdLmVhc2luZyA9IHR3ZWVuLmVhc2luZztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxyXG4gKiBFeHBhbmQgYWxsIHF1ZXVlZCBhbmltYXRpb25zIHRoYXQgaGF2ZW4ndCBnb25lIHlldFxyXG4gKlxyXG4gKiBUaGlzIHdpbGwgYXV0b21hdGljYWxseSBleHBhbmQgdGhlIHByb3BlcnRpZXMgbWFwIGZvciBhbnkgcmVjZW50bHkgYWRkZWRcclxuICogYW5pbWF0aW9ucyBzbyB0aGF0IHRoZSBzdGFydCBhbmQgZW5kIHZhbHVlcyBhcmUgY29ycmVjdC5cclxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZVR3ZWVucyhhY3RpdmVDYWxsKSB7XG4gICAgLy8gVGhpcyBtaWdodCBiZSBjYWxsZWQgb24gYW4gYWxyZWFkeS1yZWFkeSBhbmltYXRpb25cbiAgICBpZiAoU3RhdGUuZmlyc3ROZXcgPT09IGFjdGl2ZUNhbGwpIHtcbiAgICAgICAgU3RhdGUuZmlyc3ROZXcgPSBhY3RpdmVDYWxsLl9uZXh0O1xuICAgIH1cbiAgICAvLyBDaGVjayBpZiB3ZSdyZSBhY3R1YWxseSBhbHJlYWR5IHJlYWR5XG4gICAgaWYgKGFjdGl2ZUNhbGwuX2ZsYWdzICYgMSAvKiBFWFBBTkRFRCAqLykge1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB2YXIgZWxlbWVudCA9IGFjdGl2ZUNhbGwuZWxlbWVudCxcbiAgICAgICAgdHdlZW5zID0gYWN0aXZlQ2FsbC50d2VlbnMsXG4gICAgICAgIGR1cmF0aW9uID0gZ2V0VmFsdWUoYWN0aXZlQ2FsbC5vcHRpb25zLmR1cmF0aW9uLCBkZWZhdWx0cyQxLmR1cmF0aW9uKTtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6Zm9yaW5cbiAgICBmb3IgKHZhciBwcm9wZXJ0eU5hbWUgaW4gdHdlZW5zKSB7XG4gICAgICAgIHZhciB0d2VlbiA9IHR3ZWVuc1twcm9wZXJ0eU5hbWVdO1xuICAgICAgICBpZiAodHdlZW4uc3RhcnQgPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gR2V0IHRoZSBzdGFydCB2YWx1ZSBhcyBpdCdzIG5vdCBiZWVuIHBhc3NlZCBpblxuICAgICAgICAgICAgdmFyIHN0YXJ0VmFsdWUgPSBnZXRQcm9wZXJ0eVZhbHVlKGFjdGl2ZUNhbGwuZWxlbWVudCwgcHJvcGVydHlOYW1lKTtcbiAgICAgICAgICAgIGlmIChpc1N0cmluZyhzdGFydFZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHR3ZWVuLnN0YXJ0ID0gZml4Q29sb3JzKHN0YXJ0VmFsdWUpO1xuICAgICAgICAgICAgICAgIGV4cGxvZGVUd2Vlbihwcm9wZXJ0eU5hbWUsIHR3ZWVuLCBkdXJhdGlvbiwgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KHN0YXJ0VmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiYmFkIHR5cGVcIiwgdHdlZW4sIHByb3BlcnR5TmFtZSwgc3RhcnRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFZlbG9jaXR5JCQxLmRlYnVnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInR3ZWVuc0NvbnRhaW5lciBcXFwiXCIgKyBwcm9wZXJ0eU5hbWUgKyBcIlxcXCI6IFwiICsgSlNPTi5zdHJpbmdpZnkodHdlZW4pLCBlbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhY3RpdmVDYWxsLl9mbGFncyB8PSAxIC8qIEVYUEFOREVEICovOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2Vcbn1cblxuLy8gUHJvamVjdFxuLyoqXHJcbiAqIENhbGwgdGhlIGJlZ2luIG1ldGhvZCBvZiBhbiBhbmltYXRpb24gaW4gYSBzZXBhcmF0ZSBmdW5jdGlvbiBzbyBpdCBjYW5cclxuICogYmVuZWZpdCBmcm9tIEpJVCBjb21waWxpbmcgd2hpbGUgc3RpbGwgaGF2aW5nIGEgdHJ5L2NhdGNoIGJsb2NrLlxyXG4gKi9cbmZ1bmN0aW9uIGJlZ2luQ2FsbChhY3RpdmVDYWxsKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gYWN0aXZlQ2FsbC5iZWdpbiB8fCBhY3RpdmVDYWxsLm9wdGlvbnMuYmVnaW47XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudHMgPSBhY3RpdmVDYWxsLmVsZW1lbnRzO1xuICAgICAgICAgICAgY2FsbGJhY2suY2FsbChlbGVtZW50cywgZWxlbWVudHMsIGFjdGl2ZUNhbGwpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxyXG4gKiBDYWxsIHRoZSBwcm9ncmVzcyBtZXRob2Qgb2YgYW4gYW5pbWF0aW9uIGluIGEgc2VwYXJhdGUgZnVuY3Rpb24gc28gaXQgY2FuXHJcbiAqIGJlbmVmaXQgZnJvbSBKSVQgY29tcGlsaW5nIHdoaWxlIHN0aWxsIGhhdmluZyBhIHRyeS9jYXRjaCBibG9jay5cclxuICovXG5mdW5jdGlvbiBwcm9ncmVzc0NhbGwoYWN0aXZlQ2FsbCkge1xuICAgIHZhciBjYWxsYmFjayA9IGFjdGl2ZUNhbGwucHJvZ3Jlc3MgfHwgYWN0aXZlQ2FsbC5vcHRpb25zLnByb2dyZXNzO1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnRzID0gYWN0aXZlQ2FsbC5lbGVtZW50cyxcbiAgICAgICAgICAgICAgICBwZXJjZW50Q29tcGxldGUgPSBhY3RpdmVDYWxsLnBlcmNlbnRDb21wbGV0ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gYWN0aXZlQ2FsbC5vcHRpb25zLFxuICAgICAgICAgICAgICAgIHR3ZWVuVmFsdWUgPSBhY3RpdmVDYWxsLnR3ZWVuO1xuICAgICAgICAgICAgY2FsbGJhY2suY2FsbChlbGVtZW50cywgZWxlbWVudHMsIHBlcmNlbnRDb21wbGV0ZSwgTWF0aC5tYXgoMCwgYWN0aXZlQ2FsbC50aW1lU3RhcnQgKyAoYWN0aXZlQ2FsbC5kdXJhdGlvbiAhPSBudWxsID8gYWN0aXZlQ2FsbC5kdXJhdGlvbiA6IG9wdGlvbnMuZHVyYXRpb24gIT0gbnVsbCA/IG9wdGlvbnMuZHVyYXRpb24gOiBkZWZhdWx0cyQxLmR1cmF0aW9uKSAtIGxhc3RUaWNrKSwgdHdlZW5WYWx1ZSAhPT0gdW5kZWZpbmVkID8gdHdlZW5WYWx1ZSA6IFN0cmluZyhwZXJjZW50Q29tcGxldGUgKiAxMDApLCBhY3RpdmVDYWxsKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcclxuICogQ2FsbCBjYWxsYmFja3MsIHBvdGVudGlhbGx5IHJ1biBhc3luYyB3aXRoIHRoZSBtYWluIGFuaW1hdGlvbiB0aHJlYWQuXHJcbiAqL1xuZnVuY3Rpb24gYXN5bmNDYWxsYmFja3MoKSB7XG4gICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgIHRyeSB7XG4gICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHByb2dyZXNzZWRbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICB2YXIgYWN0aXZlQ2FsbCA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICBwcm9ncmVzc0NhbGwoYWN0aXZlQ2FsbCk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb2dyZXNzZWQuY2xlYXIoKTtcbiAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IGNvbXBsZXRlZFtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgdmFyIF9hY3RpdmVDYWxsID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICBjb21wbGV0ZUNhbGwoX2FjdGl2ZUNhbGwpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29tcGxldGVkLmNsZWFyKCk7XG59XG4vKioqKioqKioqKioqKipcclxuIFRpbWluZ1xyXG4gKioqKioqKioqKioqKiovXG52YXIgRlJBTUVfVElNRSA9IDEwMDAgLyA2MCxcblxuLyoqXHJcbiAqIEFuaW1hdGlvbnMgd2l0aCBhIENvbXBsZXRlIGNhbGxiYWNrLlxyXG4gKi9cbmNvbXBsZXRlZCA9IG5ldyBTZXQoKSxcblxuLyoqXHJcbiAqIEFuaW1hdGlvbnMgd2l0aCBhIFByb2dyZXNzIGNhbGxiYWNrLlxyXG4gKi9cbnByb2dyZXNzZWQgPSBuZXcgU2V0KCksXG5cbi8qKlxyXG4gKiBTaGltIGZvciB3aW5kb3cucGVyZm9ybWFuY2UgaW4gY2FzZSBpdCBkb2Vzbid0IGV4aXN0XHJcbiAqL1xucGVyZm9ybWFuY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHBlcmYgPSB3aW5kb3cucGVyZm9ybWFuY2UgfHwge307XG4gICAgaWYgKHR5cGVvZiBwZXJmLm5vdyAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHZhciBub3dPZmZzZXQgPSBwZXJmLnRpbWluZyAmJiBwZXJmLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQgPyBwZXJmLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQgOiBub3coKTtcbiAgICAgICAgcGVyZi5ub3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbm93KCkgLSBub3dPZmZzZXQ7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBwZXJmO1xufSgpLFxuXG4vKipcclxuICogUHJveHkgZnVuY3Rpb24gZm9yIHdoZW4gckFGIGlzIG5vdCBhdmFpbGFibGUuXHJcbiAqXHJcbiAqIFRoaXMgc2hvdWxkIGhvcGVmdWxseSBuZXZlciBiZSB1c2VkIGFzIHRoZSBicm93c2VycyBvZnRlbiB0aHJvdHRsZVxyXG4gKiB0aGlzIHRvIGxlc3MgdGhhbiBvbmUgZnJhbWUgcGVyIHNlY29uZCBpbiB0aGUgYmFja2dyb3VuZCwgbWFraW5nIGl0XHJcbiAqIGNvbXBsZXRlbHkgdW51c2FibGUuXHJcbiAqL1xuckFGUHJveHkgPSBmdW5jdGlvbiByQUZQcm94eShjYWxsYmFjaykge1xuICAgIHJldHVybiBzZXRUaW1lb3V0KGNhbGxiYWNrLCBNYXRoLm1heCgwLCBGUkFNRV9USU1FIC0gKHBlcmZvcm1hbmNlLm5vdygpIC0gbGFzdFRpY2spKSk7XG59LFxuXG4vKipcclxuICogRWl0aGVyIHJlcXVlc3RBbmltYXRpb25GcmFtZSwgb3IgYSBzaGltIGZvciBpdC5cclxuICovXG5yQUZTaGltID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCByQUZQcm94eTtcbi8qKlxyXG4gKiBTZXQgaWYgd2UgYXJlIGN1cnJlbnRseSBpbnNpZGUgYSB0aWNrKCkgdG8gcHJldmVudCBkb3VibGUtY2FsbGluZy5cclxuICovXG52YXIgdGlja2luZyA9IHZvaWQgMCxcblxuLyoqXHJcbiAqIEEgYmFja2dyb3VuZCBXZWJXb3JrZXIgdGhhdCBzZW5kcyB1cyBmcmFtZXJhdGUgbWVzc2FnZXMgd2hlbiB3ZSdyZSBpblxyXG4gKiB0aGUgYmFja2dyb3VuZC4gV2l0aG91dCB0aGlzIHdlIGNhbm5vdCBtYWludGFpbiBmcmFtZSBhY2N1cmFjeS5cclxuICovXG53b3JrZXIgPSB2b2lkIDA7XG4vKipcclxuICogVGhlIHRpbWUgdGhhdCB0aGUgbGFzdCBhbmltYXRpb24gZnJhbWUgcmFuIGF0LiBTZXQgZnJvbSB0aWNrKCksIGFuZCB1c2VkXHJcbiAqIGZvciBtaXNzaW5nIHJBRiAoaWUsIHdoZW4gbm90IGluIGZvY3VzIGV0YykuXHJcbiAqL1xudmFyIGxhc3RUaWNrID0gMDtcbi8qKlxyXG4gKiBXZWJXb3JrZXIgYmFja2dyb3VuZCBmdW5jdGlvbi5cclxuICpcclxuICogV2hlbiB3ZSdyZSBpbiB0aGUgYmFja2dyb3VuZCB0aGlzIHdpbGwgc2VuZCB1cyBhIG1zZyBldmVyeSB0aWNrLCB3aGVuIGluXHJcbiAqIHRoZSBmb3JlZ3JvdW5kIGl0IHdvbid0LlxyXG4gKlxyXG4gKiBXaGVuIHJ1bm5pbmcgaW4gdGhlIGJhY2tncm91bmQgdGhlIGJyb3dzZXIgcmVkdWNlcyBhbGxvd2VkIENQVSBldGMsIHNvXHJcbiAqIHdlIHJhdW4gYXQgMzBmcHMgaW5zdGVhZCBvZiA2MGZwcy5cclxuICovXG5mdW5jdGlvbiB3b3JrZXJGbigpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIGludGVydmFsID0gdm9pZCAwO1xuICAgIHRoaXMub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgc3dpdGNoIChlLmRhdGEpIHtcbiAgICAgICAgICAgIGNhc2UgdHJ1ZTpcbiAgICAgICAgICAgICAgICBpZiAoIWludGVydmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zdE1lc3NhZ2UodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDEwMDAgLyAzMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBmYWxzZTpcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgIGludGVydmFsID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIF90aGlzLnBvc3RNZXNzYWdlKGUuZGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xufVxudHJ5IHtcbiAgICAvLyBDcmVhdGUgdGhlIHdvcmtlciAtIHRoaXMgbWlnaHQgbm90IGJlIHN1cHBvcnRlZCwgaGVuY2UgdGhlIHRyeS9jYXRjaC5cbiAgICB3b3JrZXIgPSBuZXcgV29ya2VyKFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW1wiKFwiICsgd29ya2VyRm4gKyBcIikoKVwiXSkpKTtcbiAgICAvLyBXaGVuZXZlciB0aGUgd29ya2VyIHNlbmRzIGEgbWVzc2FnZSB3ZSB0aWNrKClcbiAgICB3b3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUuZGF0YSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGljaygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXN5bmNDYWxsYmFja3MoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gQW5kIHdhdGNoIGZvciBnb2luZyB0byB0aGUgYmFja2dyb3VuZCB0byBzdGFydCB0aGUgV2ViV29ya2VyIHJ1bm5pbmcuXG4gICAgaWYgKCFTdGF0ZS5pc01vYmlsZSAmJiBkb2N1bWVudC5oaWRkZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB3b3JrZXIucG9zdE1lc3NhZ2UoU3RhdGUuaXNUaWNraW5nICYmIGRvY3VtZW50LmhpZGRlbik7XG4gICAgICAgIH0pO1xuICAgIH1cbn0gY2F0Y2ggKGUpIHt9XG4vKlxyXG4gKiBXZWJXb3JrZXJzIGFyZSBub3Qgc3VwcG9ydGVkIGluIHRoaXMgZm9ybWF0LiBUaGlzIGNhbiBoYXBwZW4gaW4gSUUxMFxyXG4gKiB3aGVyZSBpdCBjYW4ndCBjcmVhdGUgb25lIGZyb20gYSBibG9iIHRoaXMgd2F5LiBXZSBmYWxsYmFjaywgYnV0IG1ha2VcclxuICogbm8gZ3VhcmFudGVlcyB0b3dhcmRzIGFjY3VyYWN5IGluIHRoaXMgY2FzZS5cclxuICovXG5cbi8qKlxyXG4gKiBDYWxsZWQgb24gZXZlcnkgdGljaywgcHJlZmVyYWJseSB0aHJvdWdoIHJBRi4gVGhpcyBpcyByZXBvbnNpYmxlIGZvclxyXG4gKiBpbml0aWFsaXNpbmcgYW55IG5ldyBhbmltYXRpb25zLCB0aGVuIHN0YXJ0aW5nIGFueSB0aGF0IG5lZWQgc3RhcnRpbmcuXHJcbiAqIEZpbmFsbHkgaXQgd2lsbCBleHBhbmQgYW55IHR3ZWVucyBhbmQgc2V0IHRoZSBwcm9wZXJ0aWVzIHJlbGF0aW5nIHRvXHJcbiAqIHRoZW0uIElmIHRoZXJlIGFyZSBhbnkgY2FsbGJhY2tzIHJlbGF0aW5nIHRvIHRoZSBhbmltYXRpb25zIHRoZW4gdGhleVxyXG4gKiB3aWxsIGF0dGVtcHQgdG8gY2FsbCBhdCB0aGUgZW5kICh3aXRoIHRoZSBleGNlcHRpb24gb2YgXCJiZWdpblwiKS5cclxuICovXG5mdW5jdGlvbiB0aWNrKHRpbWVzdGFtcCkge1xuICAgIGlmICh0aWNraW5nKSB7XG4gICAgICAgIC8vIFNob3VsZCBuZXZlciBoYXBwZW4gLSBidXQgaWYgd2UndmUgc3dhcHBlZCBiYWNrIGZyb20gaGlkZGVuIHRvXG4gICAgICAgIC8vIHZpc2liaWxlIHRoZW4gd2Ugd2FudCB0byBtYWtlIHN1cmVcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aWNraW5nID0gdHJ1ZTtcbiAgICAvKiBBbiBlbXB0eSB0aW1lc3RhbXAgYXJndW1lbnQgaW5kaWNhdGVzIHRoYXQgdGhpcyBpcyB0aGUgZmlyc3QgdGljayBvY2N1cmVuY2Ugc2luY2UgdGlja2luZyB3YXMgdHVybmVkIG9uLlxyXG4gICAgIFdlIGxldmVyYWdlIHRoaXMgbWV0YWRhdGEgdG8gZnVsbHkgaWdub3JlIHRoZSBmaXJzdCB0aWNrIHBhc3Mgc2luY2UgUkFGJ3MgaW5pdGlhbCBwYXNzIGlzIGZpcmVkIHdoZW5ldmVyXHJcbiAgICAgdGhlIGJyb3dzZXIncyBuZXh0IHRpY2sgc3luYyB0aW1lIG9jY3Vycywgd2hpY2ggcmVzdWx0cyBpbiB0aGUgZmlyc3QgZWxlbWVudHMgc3ViamVjdGVkIHRvIFZlbG9jaXR5XHJcbiAgICAgY2FsbHMgYmVpbmcgYW5pbWF0ZWQgb3V0IG9mIHN5bmMgd2l0aCBhbnkgZWxlbWVudHMgYW5pbWF0ZWQgaW1tZWRpYXRlbHkgdGhlcmVhZnRlci4gSW4gc2hvcnQsIHdlIGlnbm9yZVxyXG4gICAgIHRoZSBmaXJzdCBSQUYgdGljayBwYXNzIHNvIHRoYXQgZWxlbWVudHMgYmVpbmcgaW1tZWRpYXRlbHkgY29uc2VjdXRpdmVseSBhbmltYXRlZCAtLSBpbnN0ZWFkIG9mIHNpbXVsdGFuZW91c2x5IGFuaW1hdGVkXHJcbiAgICAgYnkgdGhlIHNhbWUgVmVsb2NpdHkgY2FsbCAtLSBhcmUgcHJvcGVybHkgYmF0Y2hlZCBpbnRvIHRoZSBzYW1lIGluaXRpYWwgUkFGIHRpY2sgYW5kIGNvbnNlcXVlbnRseSByZW1haW4gaW4gc3luYyB0aGVyZWFmdGVyLiAqL1xuICAgIGlmICh0aW1lc3RhbXAgIT09IGZhbHNlKSB7XG4gICAgICAgIHZhciB0aW1lQ3VycmVudCA9IHBlcmZvcm1hbmNlLm5vdygpLFxuICAgICAgICAgICAgZGVsdGFUaW1lID0gbGFzdFRpY2sgPyB0aW1lQ3VycmVudCAtIGxhc3RUaWNrIDogRlJBTUVfVElNRSxcbiAgICAgICAgICAgIGRlZmF1bHRTcGVlZCA9IGRlZmF1bHRzJDEuc3BlZWQsXG4gICAgICAgICAgICBkZWZhdWx0RWFzaW5nID0gZGVmYXVsdHMkMS5lYXNpbmcsXG4gICAgICAgICAgICBkZWZhdWx0RHVyYXRpb24gPSBkZWZhdWx0cyQxLmR1cmF0aW9uO1xuICAgICAgICB2YXIgYWN0aXZlQ2FsbCA9IHZvaWQgMCxcbiAgICAgICAgICAgIG5leHRDYWxsID0gdm9pZCAwO1xuICAgICAgICBpZiAoZGVsdGFUaW1lID49IGRlZmF1bHRzJDEubWluRnJhbWVUaW1lIHx8ICFsYXN0VGljaykge1xuICAgICAgICAgICAgbGFzdFRpY2sgPSB0aW1lQ3VycmVudDtcbiAgICAgICAgICAgIC8qKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAgICAgQ2FsbCBJdGVyYXRpb25cclxuICAgICAgICAgICAgICoqKioqKioqKioqKioqKioqKioqL1xuICAgICAgICAgICAgLy8gRXhwYW5kIGFueSB0d2VlbnMgdGhhdCBtaWdodCBuZWVkIGl0LlxuICAgICAgICAgICAgd2hpbGUgKFN0YXRlLmZpcnN0TmV3KSB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGVUd2VlbnMoU3RhdGUuZmlyc3ROZXcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGVhY2ggYWN0aXZlIGNhbGwuXG4gICAgICAgICAgICBmb3IgKGFjdGl2ZUNhbGwgPSBTdGF0ZS5maXJzdDsgYWN0aXZlQ2FsbCAmJiBhY3RpdmVDYWxsICE9PSBTdGF0ZS5maXJzdE5ldzsgYWN0aXZlQ2FsbCA9IGFjdGl2ZUNhbGwuX25leHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IGFjdGl2ZUNhbGwuZWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IERhdGEoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoaXMgZWxlbWVudCBoYXMgYmVlbiBkZWxldGVkIG1pZHdheVxuICAgICAgICAgICAgICAgIC8vIHRocm91Z2ggdGhlIGFuaW1hdGlvbi4gSWYgaXQncyBnb25lIHRoZW4gZW5kIHRoaXNcbiAgICAgICAgICAgICAgICAvLyBhbmltYXRpb24uXG4gICAgICAgICAgICAgICAgaWYgKCFlbGVtZW50LnBhcmVudE5vZGUgfHwgIWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogUmVtb3ZlIHNhZmVseSAtIGRlY3JlYXNlIGNvdW50LCBkZWxldGUgZGF0YSwgcmVtb3ZlIGZyb20gYXJyYXlzXG4gICAgICAgICAgICAgICAgICAgIGZyZWVBbmltYXRpb25DYWxsKGFjdGl2ZUNhbGwpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRG9uJ3QgYm90aGVyIGdldHRpbmcgdW50aWwgd2UgY2FuIHVzZSB0aGVzZS5cbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGFjdGl2ZUNhbGwub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3MgPSBhY3RpdmVDYWxsLl9mbGFncztcbiAgICAgICAgICAgICAgICB2YXIgdGltZVN0YXJ0ID0gYWN0aXZlQ2FsbC50aW1lU3RhcnQ7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyB0aGUgZmlyc3QgdGltZSB0aGF0IHRoaXMgY2FsbCBoYXMgYmVlblxuICAgICAgICAgICAgICAgIC8vIHByb2Nlc3NlZCBieSB0aWNrKCkgdGhlbiB3ZSBhc3NpZ24gdGltZVN0YXJ0IG5vdyBzbyB0aGF0XG4gICAgICAgICAgICAgICAgLy8gaXQncyB2YWx1ZSBpcyBhcyBjbG9zZSB0byB0aGUgcmVhbCBhbmltYXRpb24gc3RhcnQgdGltZVxuICAgICAgICAgICAgICAgIC8vIGFzIHBvc3NpYmxlLlxuICAgICAgICAgICAgICAgIGlmICghdGltZVN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBxdWV1ZSA9IGFjdGl2ZUNhbGwucXVldWUgIT0gbnVsbCA/IGFjdGl2ZUNhbGwucXVldWUgOiBvcHRpb25zLnF1ZXVlO1xuICAgICAgICAgICAgICAgICAgICB0aW1lU3RhcnQgPSB0aW1lQ3VycmVudCAtIGRlbHRhVGltZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHF1ZXVlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGltZVN0YXJ0ID0gTWF0aC5tYXgodGltZVN0YXJ0LCBkYXRhLmxhc3RGaW5pc2hMaXN0W3F1ZXVlXSB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVDYWxsLnRpbWVTdGFydCA9IHRpbWVTdGFydDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhpcyBhbmltYXRpb24gaXMgcGF1c2VkIHRoZW4gc2tpcCBwcm9jZXNzaW5nIHVubGVzc1xuICAgICAgICAgICAgICAgIC8vIGl0IGhhcyBiZWVuIHNldCB0byByZXN1bWUuXG4gICAgICAgICAgICAgICAgaWYgKGZsYWdzICYgMTYgLyogUEFVU0VEICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgdGltZSBzdGFydCB0byBhY2NvbW9kYXRlIHRoZSBwYXVzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbXBsZXRpb24gYW1vdW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlQ2FsbC50aW1lU3RhcnQgKz0gZGVsdGFUaW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGFuaW1hdGlvbiBpcyByZWFkeSAtIGlmIGl0J3Mgc3luY2VkIHRoZW4gaXRcbiAgICAgICAgICAgICAgICAvLyBuZWVkcyB0byB3YWl0IGZvciBhbGwgb3RoZXIgYW5pbWF0aW9ucyBpbiB0aGUgc3luY1xuICAgICAgICAgICAgICAgIGlmICghKGZsYWdzICYgMiAvKiBSRUFEWSAqLykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUNhbGwuX2ZsYWdzIHw9IDIgLyogUkVBRFkgKi87IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLl9yZWFkeSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5lZWQgdG8gc3BsaXQgdGhlIGxvb3AsIGFzIHJlYWR5IHN5bmMgYW5pbWF0aW9ucyBtdXN0IGFsbCBnZXRcbiAgICAgICAgICAgIC8vIHRoZSBzYW1lIHN0YXJ0IHRpbWUuXG4gICAgICAgICAgICBmb3IgKGFjdGl2ZUNhbGwgPSBTdGF0ZS5maXJzdDsgYWN0aXZlQ2FsbCAmJiBhY3RpdmVDYWxsICE9PSBTdGF0ZS5maXJzdE5ldzsgYWN0aXZlQ2FsbCA9IG5leHRDYWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9mbGFncyA9IGFjdGl2ZUNhbGwuX2ZsYWdzO1xuICAgICAgICAgICAgICAgIG5leHRDYWxsID0gYWN0aXZlQ2FsbC5fbmV4dDtcbiAgICAgICAgICAgICAgICBpZiAoIShfZmxhZ3MgJiAyIC8qIFJFQURZICovKSB8fCBfZmxhZ3MgJiAxNiAvKiBQQVVTRUQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgX29wdGlvbnMgPSBhY3RpdmVDYWxsLm9wdGlvbnM7XG4gICAgICAgICAgICAgICAgaWYgKF9mbGFncyAmIDMyIC8qIFNZTkMgKi8gJiYgX29wdGlvbnMuX3JlYWR5IDwgX29wdGlvbnMuX3RvdGFsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVDYWxsLnRpbWVTdGFydCArPSBkZWx0YVRpbWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgc3BlZWQgPSBhY3RpdmVDYWxsLnNwZWVkICE9IG51bGwgPyBhY3RpdmVDYWxsLnNwZWVkIDogX29wdGlvbnMuc3BlZWQgIT0gbnVsbCA/IF9vcHRpb25zLnNwZWVkIDogZGVmYXVsdFNwZWVkO1xuICAgICAgICAgICAgICAgIHZhciBfdGltZVN0YXJ0ID0gYWN0aXZlQ2FsbC50aW1lU3RhcnQ7XG4gICAgICAgICAgICAgICAgLy8gRG9uJ3QgYm90aGVyIGdldHRpbmcgdW50aWwgd2UgY2FuIHVzZSB0aGVzZS5cbiAgICAgICAgICAgICAgICBpZiAoIShfZmxhZ3MgJiA0IC8qIFNUQVJURUQgKi8pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICAgICAgICAgICAgICAgICAgICB2YXIgZGVsYXkgPSBhY3RpdmVDYWxsLmRlbGF5ICE9IG51bGwgPyBhY3RpdmVDYWxsLmRlbGF5IDogX29wdGlvbnMuZGVsYXk7XG4gICAgICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSBhbnl0aGluZyB3ZSd2ZSBkZWxheWVkIGRvZXNuJ3Qgc3RhcnRcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5pbWF0aW5nIHlldCwgdGhlcmUgbWlnaHQgc3RpbGwgYmUgYW4gYWN0aXZlIGRlbGF5XG4gICAgICAgICAgICAgICAgICAgIC8vIGFmdGVyIHNvbWV0aGluZyBoYXMgYmVlbiB1bi1wYXVzZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlbGF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RpbWVTdGFydCArIGRlbGF5IC8gc3BlZWQgPiB0aW1lQ3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlQ2FsbC50aW1lU3RhcnQgPSBfdGltZVN0YXJ0ICs9IGRlbGF5IC8gKGRlbGF5ID4gMCA/IHNwZWVkIDogMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlQ2FsbC5fZmxhZ3MgfD0gNCAvKiBTVEFSVEVEICovOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGJlZ2luIGNhbGxiYWNrIGlzIGZpcmVkIG9uY2UgcGVyIGNhbGwsIG5vdCBvbmNlXG4gICAgICAgICAgICAgICAgICAgIC8vIHBlciBlbGVtZW50LCBhbmQgaXMgcGFzc2VkIHRoZSBmdWxsIHJhdyBET00gZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAvLyBzZXQgYXMgYm90aCBpdHMgY29udGV4dCBhbmQgaXRzIGZpcnN0IGFyZ3VtZW50LlxuICAgICAgICAgICAgICAgICAgICBpZiAoX29wdGlvbnMuX3N0YXJ0ZWQrKyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX29wdGlvbnMuX2ZpcnN0ID0gYWN0aXZlQ2FsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfb3B0aW9ucy5iZWdpbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBhc3MgdG8gYW4gZXh0ZXJuYWwgZm4gd2l0aCBhIHRyeS9jYXRjaCBibG9jayBmb3Igb3B0aW1pc2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVnaW5DYWxsKGFjdGl2ZUNhbGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgY2FsbGVkIG9uY2UsIGV2ZW4gaWYgcmV2ZXJzZWQgb3IgcmVwZWF0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb3B0aW9ucy5iZWdpbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3BlZWQgIT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT24gdGhlIGZpcnN0IGZyYW1lIHdlIG1heSBoYXZlIGEgc2hvcnRlciBkZWx0YVxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBkZWx0YSA9IE1hdGgubWluKGRlbHRhVGltZSwgdGltZUN1cnJlbnQgLSB0aW1lU3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmVDYWxsLnRpbWVTdGFydCA9IF90aW1lU3RhcnQgKz0gTWF0aC5taW4oZGVsdGFUaW1lLCB0aW1lQ3VycmVudCAtIF90aW1lU3RhcnQpICogKDEgLSBzcGVlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBhY3RpdmVFYXNpbmcgPSBhY3RpdmVDYWxsLmVhc2luZyAhPSBudWxsID8gYWN0aXZlQ2FsbC5lYXNpbmcgOiBfb3B0aW9ucy5lYXNpbmcgIT0gbnVsbCA/IF9vcHRpb25zLmVhc2luZyA6IGRlZmF1bHRFYXNpbmcsXG4gICAgICAgICAgICAgICAgICAgIG1pbGxpc2Vjb25kc0VsbGFwc2VkID0gYWN0aXZlQ2FsbC5lbGxhcHNlZFRpbWUgPSB0aW1lQ3VycmVudCAtIF90aW1lU3RhcnQsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gYWN0aXZlQ2FsbC5kdXJhdGlvbiAhPSBudWxsID8gYWN0aXZlQ2FsbC5kdXJhdGlvbiA6IF9vcHRpb25zLmR1cmF0aW9uICE9IG51bGwgPyBfb3B0aW9ucy5kdXJhdGlvbiA6IGRlZmF1bHREdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgcGVyY2VudENvbXBsZXRlID0gYWN0aXZlQ2FsbC5wZXJjZW50Q29tcGxldGUgPSBWZWxvY2l0eSQkMS5tb2NrID8gMSA6IE1hdGgubWluKG1pbGxpc2Vjb25kc0VsbGFwc2VkIC8gZHVyYXRpb24sIDEpLFxuICAgICAgICAgICAgICAgICAgICB0d2VlbnMgPSBhY3RpdmVDYWxsLnR3ZWVucyxcbiAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZSA9IF9mbGFncyAmIDY0IC8qIFJFVkVSU0UgKi87IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICAgICAgICAgICAgICAgIGlmIChhY3RpdmVDYWxsLnByb2dyZXNzIHx8IF9vcHRpb25zLl9maXJzdCA9PT0gYWN0aXZlQ2FsbCAmJiBfb3B0aW9ucy5wcm9ncmVzcykge1xuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc2VkLmFkZChhY3RpdmVDYWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQuYWRkKGFjdGl2ZUNhbGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6Zm9yaW5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiB0d2VlbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGV2ZXJ5IGVsZW1lbnQsIGl0ZXJhdGUgdGhyb3VnaCBlYWNoIHByb3BlcnR5LlxuICAgICAgICAgICAgICAgICAgICB2YXIgdHdlZW4gPSB0d2VlbnNbcHJvcGVydHldLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2UgPSB0d2Vlbi5zZXF1ZW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBzZXF1ZW5jZS5wYXR0ZXJuO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudFZhbHVlID0gXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGF0dGVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVhc2luZ0NvbXBsZXRlID0gKHR3ZWVuLmVhc2luZyB8fCBhY3RpdmVFYXNpbmcpKHBlcmNlbnRDb21wbGV0ZSwgMCwgMSwgcHJvcGVydHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJlc3QgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzZXF1ZW5jZS5sZW5ndGggLSAxOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2Vbal0ucGVyY2VudCA8IGVhc2luZ0NvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlc3QgPSBqO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0d2VlbkZyb20gPSBzZXF1ZW5jZVtiZXN0XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0d2VlblRvID0gc2VxdWVuY2VbYmVzdCArIDFdIHx8IHR3ZWVuRnJvbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXdQZXJjZW50ID0gKHBlcmNlbnRDb21wbGV0ZSAtIHR3ZWVuRnJvbS5wZXJjZW50KSAvICh0d2VlblRvLnBlcmNlbnQgLSB0d2VlbkZyb20ucGVyY2VudCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHdlZW5QZXJjZW50ID0gcmV2ZXJzZSA/IDEgLSByYXdQZXJjZW50IDogcmF3UGVyY2VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmcgPSB0d2VlblRvLmVhc2luZyB8fCBhY3RpdmVFYXNpbmcgfHwgbGluZWFyRWFzaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICg7IGkgPCBwYXR0ZXJuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0VmFsdWUgPSB0d2VlbkZyb21baV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0VmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgKz0gcGF0dGVybltpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5kVmFsdWUgPSB0d2VlblRvW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRWYWx1ZSA9PT0gZW5kVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSArPSBzdGFydFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxsIGVhc2luZ3MgbXVzdCBkZWFsIHdpdGggbnVtYmVycyBleGNlcHQgZm9yIG91ciBpbnRlcm5hbCBvbmVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGVhc2luZyh0d2VlblBlcmNlbnQsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlLCBwcm9wZXJ0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgKz0gcGF0dGVybltpXSAhPT0gdHJ1ZSA/IHJlc3VsdCA6IE1hdGgucm91bmQocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eSAhPT0gXCJ0d2VlblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgPSByZW1vdmVOZXN0ZWRDYWxjKGN1cnJlbnRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IFRvIHNvbHZlIGFuIElFPD04IHBvc2l0aW9uaW5nIGJ1ZywgdGhlIHVuaXQgdHlwZSBtdXN0IGJlIGRyb3BwZWQgd2hlbiBzZXR0aW5nIGEgcHJvcGVydHkgdmFsdWUgb2YgMCAtIGFkZCBub3JtYWxpc2F0aW9ucyB0byBsZWdhY3lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQcm9wZXJ0eVZhbHVlKGFjdGl2ZUNhbGwuZWxlbWVudCwgcHJvcGVydHksIGN1cnJlbnRWYWx1ZSwgdHdlZW4uZm4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIHRoZSBmYWtlICd0d2VlbicgcHJvcGVydHkgYXMgdGhhdCBpcyBvbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGFzc2VkIGludG8gdGhlIHByb2dyZXNzIGNhbGxiYWNrLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUNhbGwudHdlZW4gPSBjdXJyZW50VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBNaXNzaW5nIHBhdHRlcm46XCIsIHByb3BlcnR5LCBKU09OLnN0cmluZ2lmeSh0d2Vlbltwcm9wZXJ0eV0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0d2VlbnNbcHJvcGVydHldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByb2dyZXNzZWQuc2l6ZSB8fCBjb21wbGV0ZWQuc2l6ZSkge1xuICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jQ2FsbGJhY2tzKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3b3JrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKFwiXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoYXN5bmNDYWxsYmFja3MsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoU3RhdGUuZmlyc3QpIHtcbiAgICAgICAgU3RhdGUuaXNUaWNraW5nID0gdHJ1ZTtcbiAgICAgICAgaWYgKCFkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgICAgICAgIHJBRlNoaW0odGljayk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXdvcmtlcikge1xuICAgICAgICAgICAgckFGUHJveHkodGljayk7XG4gICAgICAgIH0gZWxzZSBpZiAodGltZXN0YW1wID09PSBmYWxzZSkge1xuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHdlIHR1cm4gb24gdGhlIG1lc3NhZ2VzLlxuICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKHRydWUpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgU3RhdGUuaXNUaWNraW5nID0gZmFsc2U7XG4gICAgICAgIGxhc3RUaWNrID0gMDtcbiAgICAgICAgaWYgKGRvY3VtZW50LmhpZGRlbiAmJiB3b3JrZXIpIHtcbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSB0dXJuIG9mZiB0aGUgbWVzc2FnZXMuXG4gICAgICAgICAgICB3b3JrZXIucG9zdE1lc3NhZ2UoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRpY2tpbmcgPSBmYWxzZTtcbn1cblxuLy8gUHJvamVjdFxuLyoqXHJcbiAqIENoZWNrIGlmIGFuIGFuaW1hdGlvbiBzaG91bGQgYmUgZmluaXNoZWQsIGFuZCBpZiBzbyB3ZSBzZXQgdGhlIHR3ZWVucyB0b1xyXG4gKiB0aGUgZmluYWwgdmFsdWUgZm9yIGl0LCB0aGVuIGNhbGwgY29tcGxldGUuXHJcbiAqL1xuZnVuY3Rpb24gY2hlY2tBbmltYXRpb25TaG91bGRCZUZpbmlzaGVkKGFuaW1hdGlvbiwgcXVldWVOYW1lLCBkZWZhdWx0UXVldWUpIHtcbiAgICB2YWxpZGF0ZVR3ZWVucyhhbmltYXRpb24pO1xuICAgIGlmIChxdWV1ZU5hbWUgPT09IHVuZGVmaW5lZCB8fCBxdWV1ZU5hbWUgPT09IGdldFZhbHVlKGFuaW1hdGlvbi5xdWV1ZSwgYW5pbWF0aW9uLm9wdGlvbnMucXVldWUsIGRlZmF1bHRRdWV1ZSkpIHtcbiAgICAgICAgaWYgKCEoYW5pbWF0aW9uLl9mbGFncyAmIDQgLyogU1RBUlRFRCAqLykpIHtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICAgICAgICAgICAgLy8gQ29waWVkIGZyb20gdGljay50cyAtIGVuc3VyZSB0aGF0IHRoZSBhbmltYXRpb24gaXMgY29tcGxldGVseVxuICAgICAgICAgICAgLy8gdmFsaWQgYW5kIHJ1biBiZWdpbigpIGJlZm9yZSBjb21wbGV0ZSgpLlxuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBhbmltYXRpb24ub3B0aW9ucztcbiAgICAgICAgICAgIC8vIFRoZSBiZWdpbiBjYWxsYmFjayBpcyBmaXJlZCBvbmNlIHBlciBjYWxsLCBub3Qgb25jZSBwZXJcbiAgICAgICAgICAgIC8vIGVsZW1lbnQsIGFuZCBpcyBwYXNzZWQgdGhlIGZ1bGwgcmF3IERPTSBlbGVtZW50IHNldCBhcyBib3RoXG4gICAgICAgICAgICAvLyBpdHMgY29udGV4dCBhbmQgaXRzIGZpcnN0IGFyZ3VtZW50LlxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuX3N0YXJ0ZWQrKyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuX2ZpcnN0ID0gYW5pbWF0aW9uO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmJlZ2luKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBhc3MgdG8gYW4gZXh0ZXJuYWwgZm4gd2l0aCBhIHRyeS9jYXRjaCBibG9jayBmb3Igb3B0aW1pc2F0aW9uXG4gICAgICAgICAgICAgICAgICAgIGJlZ2luQ2FsbChhbmltYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IGNhbGxlZCBvbmNlLCBldmVuIGlmIHJldmVyc2VkIG9yIHJlcGVhdGVkXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuYmVnaW4gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYW5pbWF0aW9uLl9mbGFncyB8PSA0IC8qIFNUQVJURUQgKi87IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICAgICAgICB9XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpmb3JpblxuICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBhbmltYXRpb24udHdlZW5zKSB7XG4gICAgICAgICAgICB2YXIgdHdlZW4gPSBhbmltYXRpb24udHdlZW5zW3Byb3BlcnR5XSxcbiAgICAgICAgICAgICAgICBzZXF1ZW5jZSA9IHR3ZWVuLnNlcXVlbmNlLFxuICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBzZXF1ZW5jZS5wYXR0ZXJuO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IFwiXCIsXG4gICAgICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICBpZiAocGF0dGVybikge1xuICAgICAgICAgICAgICAgIHZhciBlbmRWYWx1ZXMgPSBzZXF1ZW5jZVtzZXF1ZW5jZS5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IHBhdHRlcm4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZFZhbHVlID0gZW5kVmFsdWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgKz0gZW5kVmFsdWUgPT0gbnVsbCA/IHBhdHRlcm5baV0gOiBlbmRWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRQcm9wZXJ0eVZhbHVlKGFuaW1hdGlvbi5lbGVtZW50LCBwcm9wZXJ0eSwgY3VycmVudFZhbHVlLCB0d2Vlbi5mbik7XG4gICAgICAgIH1cbiAgICAgICAgY29tcGxldGVDYWxsKGFuaW1hdGlvbik7XG4gICAgfVxufVxuLyoqXHJcbiAqIFdoZW4gdGhlIGZpbmlzaCBhY3Rpb24gaXMgdHJpZ2dlcmVkLCB0aGUgZWxlbWVudHMnIGN1cnJlbnRseSBhY3RpdmUgY2FsbCBpc1xyXG4gKiBpbW1lZGlhdGVseSBmaW5pc2hlZC4gV2hlbiBhbiBlbGVtZW50IGlzIGZpbmlzaGVkLCB0aGUgbmV4dCBpdGVtIGluIGl0c1xyXG4gKiBhbmltYXRpb24gcXVldWUgaXMgaW1tZWRpYXRlbHkgdHJpZ2dlcmVkLiBJZiBwYXNzZWQgdmlhIGEgY2hhaW5lZCBjYWxsXHJcbiAqIHRoZW4gdGhpcyB3aWxsIG9ubHkgdGFyZ2V0IHRoZSBhbmltYXRpb25zIGluIHRoYXQgY2FsbCwgYW5kIG5vdCB0aGVcclxuICogZWxlbWVudHMgbGlua2VkIHRvIGl0LlxyXG4gKlxyXG4gKiBBIHF1ZXVlIG5hbWUgbWF5IGJlIHBhc3NlZCBpbiB0byBzcGVjaWZ5IHRoYXQgb25seSBhbmltYXRpb25zIG9uIHRoZVxyXG4gKiBuYW1lZCBxdWV1ZSBhcmUgZmluaXNoZWQuIFRoZSBkZWZhdWx0IHF1ZXVlIGlzIG5hbWVkIFwiXCIuIEluIGFkZGl0aW9uIHRoZVxyXG4gKiB2YWx1ZSBvZiBgZmFsc2VgIGlzIGFsbG93ZWQgZm9yIHRoZSBxdWV1ZSBuYW1lLlxyXG4gKlxyXG4gKiBBbiBmaW5hbCBhcmd1bWVudCBtYXkgYmUgcGFzc2VkIGluIHRvIGNsZWFyIGFuIGVsZW1lbnQncyByZW1haW5pbmcgcXVldWVkXHJcbiAqIGNhbGxzLiBUaGlzIG1heSBvbmx5IGJlIHRoZSB2YWx1ZSBgdHJ1ZWAuXHJcbiAqL1xuZnVuY3Rpb24gZmluaXNoKGFyZ3MsIGVsZW1lbnRzLCBwcm9taXNlSGFuZGxlcikge1xuICAgIHZhciBxdWV1ZU5hbWUgPSB2YWxpZGF0ZVF1ZXVlKGFyZ3NbMF0sIHRydWUpLFxuICAgICAgICBkZWZhdWx0UXVldWUgPSBkZWZhdWx0cyQxLnF1ZXVlLFxuICAgICAgICBmaW5pc2hBbGwgPSBhcmdzW3F1ZXVlTmFtZSA9PT0gdW5kZWZpbmVkID8gMCA6IDFdID09PSB0cnVlO1xuICAgIGlmIChpc1ZlbG9jaXR5UmVzdWx0KGVsZW1lbnRzKSAmJiBlbGVtZW50cy52ZWxvY2l0eS5hbmltYXRpb25zKSB7XG4gICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gZWxlbWVudHMudmVsb2NpdHkuYW5pbWF0aW9uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICBjaGVja0FuaW1hdGlvblNob3VsZEJlRmluaXNoZWQoYW5pbWF0aW9uLCBxdWV1ZU5hbWUsIGRlZmF1bHRRdWV1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICB3aGlsZSAoU3RhdGUuZmlyc3ROZXcpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlVHdlZW5zKFN0YXRlLmZpcnN0TmV3KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBhY3RpdmVDYWxsID0gU3RhdGUuZmlyc3QsIG5leHRDYWxsOyBhY3RpdmVDYWxsICYmIChmaW5pc2hBbGwgfHwgYWN0aXZlQ2FsbCAhPT0gU3RhdGUuZmlyc3ROZXcpOyBhY3RpdmVDYWxsID0gbmV4dENhbGwgfHwgU3RhdGUuZmlyc3ROZXcpIHtcbiAgICAgICAgICAgIG5leHRDYWxsID0gYWN0aXZlQ2FsbC5fbmV4dDtcbiAgICAgICAgICAgIGlmICghZWxlbWVudHMgfHwgZWxlbWVudHMuaW5jbHVkZXMoYWN0aXZlQ2FsbC5lbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIGNoZWNrQW5pbWF0aW9uU2hvdWxkQmVGaW5pc2hlZChhY3RpdmVDYWxsLCBxdWV1ZU5hbWUsIGRlZmF1bHRRdWV1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHByb21pc2VIYW5kbGVyKSB7XG4gICAgICAgIGlmIChpc1ZlbG9jaXR5UmVzdWx0KGVsZW1lbnRzKSAmJiBlbGVtZW50cy52ZWxvY2l0eS5hbmltYXRpb25zICYmIGVsZW1lbnRzLnRoZW4pIHtcbiAgICAgICAgICAgIGVsZW1lbnRzLnRoZW4ocHJvbWlzZUhhbmRsZXIuX3Jlc29sdmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb21pc2VIYW5kbGVyLl9yZXNvbHZlcihlbGVtZW50cyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5yZWdpc3RlckFjdGlvbihbXCJmaW5pc2hcIiwgZmluaXNoXSwgdHJ1ZSk7XG5cbi8qKlxyXG4gKiBVc2VkIHRvIG1hcCBnZXR0ZXJzIGZvciB0aGUgdmFyaW91cyBBbmltYXRpb25GbGFncy5cclxuICovXG52YXIgYW5pbWF0aW9uRmxhZ3MgPSB7XG4gICAgaXNFeHBhbmRlZDogMSAvKiBFWFBBTkRFRCAqL1xuICAgICwgaXNSZWFkeTogMiAvKiBSRUFEWSAqL1xuICAgICwgaXNTdGFydGVkOiA0IC8qIFNUQVJURUQgKi9cbiAgICAsIGlzU3RvcHBlZDogOCAvKiBTVE9QUEVEICovXG4gICAgLCBpc1BhdXNlZDogMTYgLyogUEFVU0VEICovXG4gICAgLCBpc1N5bmM6IDMyIC8qIFNZTkMgKi9cbiAgICAsIGlzUmV2ZXJzZTogNjQgLyogUkVWRVJTRSAqL1xufTtcbi8qKlxyXG4gKiBHZXQgb3Igc2V0IGFuIG9wdGlvbiBvciBydW5uaW5nIEFuaW1hdGlvbkNhbGwgZGF0YSB2YWx1ZS4gSWYgdGhlcmUgaXMgbm9cclxuICogdmFsdWUgcGFzc2VkIHRoZW4gaXQgd2lsbCBnZXQsIG90aGVyd2lzZSB3ZSB3aWxsIHNldC5cclxuICpcclxuICogTk9URTogV2hlbiB1c2luZyBcImdldFwiIHRoaXMgd2lsbCBub3QgdG91Y2ggdGhlIFByb21pc2UgYXMgaXQgaXMgbmV2ZXJcclxuICogcmV0dXJuZWQgdG8gdGhlIHVzZXIuXHJcbiAqL1xuZnVuY3Rpb24gb3B0aW9uKGFyZ3MsIGVsZW1lbnRzLCBwcm9taXNlSGFuZGxlciwgYWN0aW9uKSB7XG4gICAgdmFyIGtleSA9IGFyZ3NbMF0sXG4gICAgICAgIHF1ZXVlID0gYWN0aW9uLmluZGV4T2YoXCIuXCIpID49IDAgPyBhY3Rpb24ucmVwbGFjZSgvXi4qXFwuLywgXCJcIikgOiB1bmRlZmluZWQsXG4gICAgICAgIHF1ZXVlTmFtZSA9IHF1ZXVlID09PSBcImZhbHNlXCIgPyBmYWxzZSA6IHZhbGlkYXRlUXVldWUocXVldWUsIHRydWUpO1xuICAgIHZhciBhbmltYXRpb25zID0gdm9pZCAwLFxuICAgICAgICB2YWx1ZSA9IGFyZ3NbMV07XG4gICAgaWYgKCFrZXkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogQ2Fubm90IGFjY2VzcyBhIG5vbi1leGlzdGFudCBrZXkhXCIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLy8gSWYgd2UncmUgY2hhaW5pbmcgdGhlIHJldHVybiB2YWx1ZSBmcm9tIFZlbG9jaXR5IHRoZW4gd2UgYXJlIG9ubHlcbiAgICAvLyBpbnRlcmVzdGVkIGluIHRoZSB2YWx1ZXMgcmVsYXRlZCB0byB0aGF0IGNhbGxcbiAgICBpZiAoaXNWZWxvY2l0eVJlc3VsdChlbGVtZW50cykgJiYgZWxlbWVudHMudmVsb2NpdHkuYW5pbWF0aW9ucykge1xuICAgICAgICBhbmltYXRpb25zID0gZWxlbWVudHMudmVsb2NpdHkuYW5pbWF0aW9ucztcbiAgICB9IGVsc2Uge1xuICAgICAgICBhbmltYXRpb25zID0gW107XG4gICAgICAgIGZvciAodmFyIGFjdGl2ZUNhbGwgPSBTdGF0ZS5maXJzdDsgYWN0aXZlQ2FsbDsgYWN0aXZlQ2FsbCA9IGFjdGl2ZUNhbGwuX25leHQpIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50cy5pbmRleE9mKGFjdGl2ZUNhbGwuZWxlbWVudCkgPj0gMCAmJiBnZXRWYWx1ZShhY3RpdmVDYWxsLnF1ZXVlLCBhY3RpdmVDYWxsLm9wdGlvbnMucXVldWUpID09PSBxdWV1ZU5hbWUpIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb25zLnB1c2goYWN0aXZlQ2FsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UncmUgZGVhbGluZyB3aXRoIG11bHRpcGxlIGVsZW1lbnRzIHRoYXQgYXJlIHBvaW50aW5nIGF0IGFcbiAgICAgICAgLy8gc2luZ2xlIHJ1bm5pbmcgYW5pbWF0aW9uLCB0aGVuIGluc3RlYWQgdHJlYXQgdGhlbSBhcyBhIHNpbmdsZVxuICAgICAgICAvLyBhbmltYXRpb24uXG4gICAgICAgIGlmIChlbGVtZW50cy5sZW5ndGggPiAxICYmIGFuaW1hdGlvbnMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgdmFyIGkgPSAxLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBhbmltYXRpb25zWzBdLm9wdGlvbnM7XG4gICAgICAgICAgICB3aGlsZSAoaSA8IGFuaW1hdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbnNbaSsrXS5vcHRpb25zICE9PSBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUT0RPOiB0aGlzIG5lZWRzIHRvIGNoZWNrIHRoYXQgdGhleSdyZSBhY3R1YWxseSBhIHN5bmM6dHJ1ZSBhbmltYXRpb24gdG8gbWVyZ2UgdGhlIHJlc3VsdHMsIG90aGVyd2lzZSB0aGUgaW5kaXZpZHVhbCB2YWx1ZXMgbWF5IGJlIGRpZmZlcmVudFxuICAgICAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb25zID0gW2FuaW1hdGlvbnNbMF1dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEdFVFxuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXSxcbiAgICAgICAgICAgIGZsYWcgPSBhbmltYXRpb25GbGFnc1trZXldO1xuICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGFuaW1hdGlvbnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZsYWcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBIG5vcm1hbCBrZXkgdG8gZ2V0LlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChnZXRWYWx1ZShhbmltYXRpb25ba2V5XSwgYW5pbWF0aW9uLm9wdGlvbnNba2V5XSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEEgZmxhZyB0aGF0IHdlJ3JlIGNoZWNraW5nIGFnYWluc3QuXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKChhbmltYXRpb24uX2ZsYWdzICYgZmxhZykgPT09IDApOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWxlbWVudHMubGVuZ3RoID09PSAxICYmIGFuaW1hdGlvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAvLyBJZiBvbmx5IGEgc2luZ2xlIGFuaW1hdGlvbiBpcyBmb3VuZCBhbmQgd2UncmUgb25seSB0YXJnZXR0aW5nIGFcbiAgICAgICAgICAgIC8vIHNpbmdsZSBlbGVtZW50LCB0aGVuIHJldHVybiB0aGUgdmFsdWUgZGlyZWN0bHlcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRbMF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLy8gU0VUXG4gICAgdmFyIGlzUGVyY2VudENvbXBsZXRlID0gdm9pZCAwO1xuICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgIGNhc2UgXCJjYWNoZVwiOlxuICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZUNhY2hlKHZhbHVlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYmVnaW5cIjpcbiAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVCZWdpbih2YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImNvbXBsZXRlXCI6XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlQ29tcGxldGUodmFsdWUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkZWxheVwiOlxuICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZURlbGF5KHZhbHVlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZHVyYXRpb25cIjpcbiAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVEdXJhdGlvbih2YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImZwc0xpbWl0XCI6XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlRnBzTGltaXQodmFsdWUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJsb29wXCI6XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlTG9vcCh2YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInBlcmNlbnRDb21wbGV0ZVwiOlxuICAgICAgICAgICAgaXNQZXJjZW50Q29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicmVwZWF0XCI6XG4gICAgICAgIGNhc2UgXCJyZXBlYXRBZ2FpblwiOlxuICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZVJlcGVhdCh2YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmIChrZXlbMF0gIT09IFwiX1wiKSB7XG4gICAgICAgICAgICAgICAgdmFyIG51bSA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gU3RyaW5nKG51bSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBudW07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAvLyBkZWxpYmVyYXRlIGZhbGx0aHJvdWdoXG4gICAgICAgIGNhc2UgXCJxdWV1ZVwiOlxuICAgICAgICBjYXNlIFwicHJvbWlzZVwiOlxuICAgICAgICBjYXNlIFwicHJvbWlzZVJlamVjdEVtcHR5XCI6XG4gICAgICAgIGNhc2UgXCJlYXNpbmdcIjpcbiAgICAgICAgY2FzZSBcInN0YXJ0ZWRcIjpcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgYSByZWFkLW9ubHkga2V5OlwiLCBrZXkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCBhbiBpbnZhbGlkIHZhbHVlOlwiICsga2V5ICsgXCI9XCIgKyB2YWx1ZSArIFwiIChcIiArIGFyZ3NbMV0gKyBcIilcIik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IGFuaW1hdGlvbnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICAgIHZhciBfYW5pbWF0aW9uID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICBpZiAoaXNQZXJjZW50Q29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICBfYW5pbWF0aW9uLnRpbWVTdGFydCA9IGxhc3RUaWNrIC0gZ2V0VmFsdWUoX2FuaW1hdGlvbi5kdXJhdGlvbiwgX2FuaW1hdGlvbi5vcHRpb25zLmR1cmF0aW9uLCBkZWZhdWx0cyQxLmR1cmF0aW9uKSAqIHZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfYW5pbWF0aW9uW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwcm9taXNlSGFuZGxlcikge1xuICAgICAgICBpZiAoaXNWZWxvY2l0eVJlc3VsdChlbGVtZW50cykgJiYgZWxlbWVudHMudmVsb2NpdHkuYW5pbWF0aW9ucyAmJiBlbGVtZW50cy50aGVuKSB7XG4gICAgICAgICAgICBlbGVtZW50cy50aGVuKHByb21pc2VIYW5kbGVyLl9yZXNvbHZlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9taXNlSGFuZGxlci5fcmVzb2x2ZXIoZWxlbWVudHMpO1xuICAgICAgICB9XG4gICAgfVxufVxucmVnaXN0ZXJBY3Rpb24oW1wib3B0aW9uXCIsIG9wdGlvbl0sIHRydWUpO1xuXG4vLyBQcm9qZWN0XG4vKipcclxuICogQ2hlY2sgaWYgYW4gYW5pbWF0aW9uIHNob3VsZCBiZSBwYXVzZWQgLyByZXN1bWVkLlxyXG4gKi9cbmZ1bmN0aW9uIGNoZWNrQW5pbWF0aW9uKGFuaW1hdGlvbiwgcXVldWVOYW1lLCBkZWZhdWx0UXVldWUsIGlzUGF1c2VkKSB7XG4gICAgaWYgKHF1ZXVlTmFtZSA9PT0gdW5kZWZpbmVkIHx8IHF1ZXVlTmFtZSA9PT0gZ2V0VmFsdWUoYW5pbWF0aW9uLnF1ZXVlLCBhbmltYXRpb24ub3B0aW9ucy5xdWV1ZSwgZGVmYXVsdFF1ZXVlKSkge1xuICAgICAgICBpZiAoaXNQYXVzZWQpIHtcbiAgICAgICAgICAgIGFuaW1hdGlvbi5fZmxhZ3MgfD0gMTYgLyogUEFVU0VEICovOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFuaW1hdGlvbi5fZmxhZ3MgJj0gfjE2IC8qIFBBVVNFRCAqLzsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcclxuICogUGF1c2UgYW5kIFJlc3VtZSBhcmUgY2FsbC13aWRlIChub3Qgb24gYSBwZXIgZWxlbWVudCBiYXNpcykuIFRodXMsIGNhbGxpbmcgcGF1c2Ugb3IgcmVzdW1lIG9uIGFcclxuICogc2luZ2xlIGVsZW1lbnQgd2lsbCBjYXVzZSBhbnkgY2FsbHMgdGhhdCBjb250YWluIHR3ZWVucyBmb3IgdGhhdCBlbGVtZW50IHRvIGJlIHBhdXNlZC9yZXN1bWVkXHJcbiAqIGFzIHdlbGwuXHJcbiAqL1xuZnVuY3Rpb24gcGF1c2VSZXN1bWUoYXJncywgZWxlbWVudHMsIHByb21pc2VIYW5kbGVyLCBhY3Rpb24pIHtcbiAgICB2YXIgaXNQYXVzZWQgPSBhY3Rpb24uaW5kZXhPZihcInBhdXNlXCIpID09PSAwLFxuICAgICAgICBxdWV1ZSA9IGFjdGlvbi5pbmRleE9mKFwiLlwiKSA+PSAwID8gYWN0aW9uLnJlcGxhY2UoL14uKlxcLi8sIFwiXCIpIDogdW5kZWZpbmVkLFxuICAgICAgICBxdWV1ZU5hbWUgPSBxdWV1ZSA9PT0gXCJmYWxzZVwiID8gZmFsc2UgOiB2YWxpZGF0ZVF1ZXVlKGFyZ3NbMF0pLFxuICAgICAgICBkZWZhdWx0UXVldWUgPSBkZWZhdWx0cyQxLnF1ZXVlO1xuICAgIGlmIChpc1ZlbG9jaXR5UmVzdWx0KGVsZW1lbnRzKSAmJiBlbGVtZW50cy52ZWxvY2l0eS5hbmltYXRpb25zKSB7XG4gICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gZWxlbWVudHMudmVsb2NpdHkuYW5pbWF0aW9uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICBjaGVja0FuaW1hdGlvbihhbmltYXRpb24sIHF1ZXVlTmFtZSwgZGVmYXVsdFF1ZXVlLCBpc1BhdXNlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgYWN0aXZlQ2FsbCA9IFN0YXRlLmZpcnN0O1xuICAgICAgICB3aGlsZSAoYWN0aXZlQ2FsbCkge1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50cyB8fCBlbGVtZW50cy5pbmNsdWRlcyhhY3RpdmVDYWxsLmVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgY2hlY2tBbmltYXRpb24oYWN0aXZlQ2FsbCwgcXVldWVOYW1lLCBkZWZhdWx0UXVldWUsIGlzUGF1c2VkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFjdGl2ZUNhbGwgPSBhY3RpdmVDYWxsLl9uZXh0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChwcm9taXNlSGFuZGxlcikge1xuICAgICAgICBpZiAoaXNWZWxvY2l0eVJlc3VsdChlbGVtZW50cykgJiYgZWxlbWVudHMudmVsb2NpdHkuYW5pbWF0aW9ucyAmJiBlbGVtZW50cy50aGVuKSB7XG4gICAgICAgICAgICBlbGVtZW50cy50aGVuKHByb21pc2VIYW5kbGVyLl9yZXNvbHZlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9taXNlSGFuZGxlci5fcmVzb2x2ZXIoZWxlbWVudHMpO1xuICAgICAgICB9XG4gICAgfVxufVxucmVnaXN0ZXJBY3Rpb24oW1wicGF1c2VcIiwgcGF1c2VSZXN1bWVdLCB0cnVlKTtcbnJlZ2lzdGVyQWN0aW9uKFtcInJlc3VtZVwiLCBwYXVzZVJlc3VtZV0sIHRydWUpO1xuXG4vLyBQcm9qZWN0XG4vKipcclxuICogR2V0IG9yIHNldCBhIHN0eWxlIG9mIE5vbXJhbGlzZWQgcHJvcGVydHkgdmFsdWUgb24gb25lIG9yIG1vcmUgZWxlbWVudHMuXHJcbiAqIElmIHRoZXJlIGlzIG5vIHZhbHVlIHBhc3NlZCB0aGVuIGl0IHdpbGwgZ2V0LCBvdGhlcndpc2Ugd2Ugd2lsbCBzZXQuXHJcbiAqXHJcbiAqIE5PVEU6IFdoZW4gdXNpbmcgXCJnZXRcIiB0aGlzIHdpbGwgbm90IHRvdWNoIHRoZSBQcm9taXNlIGFzIGl0IGlzIG5ldmVyXHJcbiAqIHJldHVybmVkIHRvIHRoZSB1c2VyLlxyXG4gKlxyXG4gKiBUaGlzIGNhbiBmYWlsIHRvIHNldCwgYW5kIHdpbGwgcmVqZWN0IHRoZSBQcm9taXNlIGlmIGl0IGRvZXMgc28uXHJcbiAqXHJcbiAqIFZlbG9jaXR5KGVsZW1lbnRzLCBcInN0eWxlXCIsIFwicHJvcGVydHlcIiwgXCJ2YWx1ZVwiKSA9PiBlbGVtZW50cztcclxuICogVmVsb2NpdHkoZWxlbWVudHMsIFwic3R5bGVcIiwge1wicHJvcGVydHlcIjogXCJ2YWx1ZVwiLCAuLi59KSA9PiBlbGVtZW50cztcclxuICogVmVsb2NpdHkoZWxlbWVudCwgXCJzdHlsZVwiLCBcInByb3BlcnR5XCIpID0+IFwidmFsdWVcIjtcclxuICogVmVsb2NpdHkoZWxlbWVudHMsIFwic3R5bGVcIiwgXCJwcm9wZXJ0eVwiKSA9PiBbXCJ2YWx1ZVwiLCAuLi5dO1xyXG4gKi9cbmZ1bmN0aW9uIHByb3BlcnR5QWN0aW9uKGFyZ3MsIGVsZW1lbnRzLCBwcm9taXNlSGFuZGxlciwgYWN0aW9uKSB7XG4gICAgdmFyIHByb3BlcnR5ID0gYXJnc1swXSxcbiAgICAgICAgdmFsdWUgPSBhcmdzWzFdO1xuICAgIGlmICghcHJvcGVydHkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogQ2Fubm90IGFjY2VzcyBhIG5vbi1leGlzdGFudCBwcm9wZXJ0eSFcIik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyBHRVRcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhaXNQbGFpbk9iamVjdChwcm9wZXJ0eSkpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcGVydHkpKSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBwcm9wZXJ0eVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtwcm9wXSA9IGZpeENvbG9ycyhnZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnRzWzBdLCBwcm9wKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBfcmVzdWx0ID0gW107XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSBlbGVtZW50c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IzID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjMgPSBwcm9wZXJ0eVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMzsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IChfc3RlcDMgPSBfaXRlcmF0b3IzLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3Byb3AgPSBfc3RlcDMudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzW19wcm9wXSA9IGZpeENvbG9ycyhnZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIF9wcm9wKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjMgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgJiYgX2l0ZXJhdG9yMy5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZXN1bHQucHVzaChyZXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9yZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiBvbmx5IGEgc2luZ2xlIGFuaW1hdGlvbiBpcyBmb3VuZCBhbmQgd2UncmUgb25seSB0YXJnZXR0aW5nIGFcbiAgICAgICAgICAgIC8vIHNpbmdsZSBlbGVtZW50LCB0aGVuIHJldHVybiB0aGUgdmFsdWUgZGlyZWN0bHlcbiAgICAgICAgICAgIGlmIChlbGVtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZml4Q29sb3JzKGdldFByb3BlcnR5VmFsdWUoZWxlbWVudHNbMF0sIHByb3BlcnR5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgX3Jlc3VsdDIgPSBbXTtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3I0ID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3I0ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjQgPSBlbGVtZW50c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IChfc3RlcDQgPSBfaXRlcmF0b3I0Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2VsZW1lbnQgPSBfc3RlcDQudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgX3Jlc3VsdDIucHVzaChmaXhDb2xvcnMoZ2V0UHJvcGVydHlWYWx1ZShfZWxlbWVudCwgcHJvcGVydHkpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3I0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjQgPSBlcnI7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgJiYgX2l0ZXJhdG9yNC5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBfcmVzdWx0MjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBTRVRcbiAgICB2YXIgZXJyb3IgPSBbXTtcbiAgICBpZiAoaXNQbGFpbk9iamVjdChwcm9wZXJ0eSkpIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcGVydHlOYW1lIGluIHByb3BlcnR5KSB7XG4gICAgICAgICAgICBpZiAocHJvcGVydHkuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjUgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I1ID0gZWxlbWVudHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDU7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSAoX3N0ZXA1ID0gX2l0ZXJhdG9yNS5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfZWxlbWVudDIgPSBfc3RlcDUudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0eVZhbHVlID0gcHJvcGVydHlbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1N0cmluZyhwcm9wZXJ0eVZhbHVlKSB8fCBpc051bWJlcihwcm9wZXJ0eVZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFByb3BlcnR5VmFsdWUoX2VsZW1lbnQyLCBwcm9wZXJ0eU5hbWUsIHByb3BlcnR5W3Byb3BlcnR5TmFtZV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvci5wdXNoKFwiQ2Fubm90IHNldCBhIHByb3BlcnR5IFxcXCJcIiArIHByb3BlcnR5TmFtZSArIFwiXFxcIiB0byBhbiB1bmtub3duIHR5cGU6IFwiICsgKHR5cGVvZiBwcm9wZXJ0eVZhbHVlID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YocHJvcGVydHlWYWx1ZSkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBDYW5ub3Qgc2V0IGEgcHJvcGVydHkgXFxcIlwiICsgcHJvcGVydHlOYW1lICsgXCJcXFwiIHRvIGFuIHVua25vd24gdHlwZTpcIiwgcHJvcGVydHlWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3I1ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3I1ID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ICYmIF9pdGVyYXRvcjUucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNS5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKHZhbHVlKSB8fCBpc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ID0gdHJ1ZTtcbiAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNiA9IGZhbHNlO1xuICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3I2ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I2ID0gZWxlbWVudHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDY7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjYgPSAoX3N0ZXA2ID0gX2l0ZXJhdG9yNi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2VsZW1lbnQzID0gX3N0ZXA2LnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgc2V0UHJvcGVydHlWYWx1ZShfZWxlbWVudDMsIHByb3BlcnR5LCBTdHJpbmcodmFsdWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjYgPSB0cnVlO1xuICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3I2ID0gZXJyO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ICYmIF9pdGVyYXRvcjYucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjYucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I2KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBlcnJvci5wdXNoKFwiQ2Fubm90IHNldCBhIHByb3BlcnR5IFxcXCJcIiArIHByb3BlcnR5ICsgXCJcXFwiIHRvIGFuIHVua25vd24gdHlwZTogXCIgKyAodHlwZW9mIHZhbHVlID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YodmFsdWUpKSk7XG4gICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IENhbm5vdCBzZXQgYSBwcm9wZXJ0eSBcXFwiXCIgKyBwcm9wZXJ0eSArIFwiXFxcIiB0byBhbiB1bmtub3duIHR5cGU6XCIsIHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKHByb21pc2VIYW5kbGVyKSB7XG4gICAgICAgIGlmIChlcnJvci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHByb21pc2VIYW5kbGVyLl9yZWplY3RlcihlcnJvci5qb2luKFwiLCBcIikpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzVmVsb2NpdHlSZXN1bHQoZWxlbWVudHMpICYmIGVsZW1lbnRzLnZlbG9jaXR5LmFuaW1hdGlvbnMgJiYgZWxlbWVudHMudGhlbikge1xuICAgICAgICAgICAgZWxlbWVudHMudGhlbihwcm9taXNlSGFuZGxlci5fcmVzb2x2ZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvbWlzZUhhbmRsZXIuX3Jlc29sdmVyKGVsZW1lbnRzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbnJlZ2lzdGVyQWN0aW9uKFtcInByb3BlcnR5XCIsIHByb3BlcnR5QWN0aW9uXSwgdHJ1ZSk7XG5cbi8vIFByb2plY3RcbnJlZ2lzdGVyQWN0aW9uKFtcInJldmVyc2VcIiwgZnVuY3Rpb24gKGFyZ3MsIGVsZW1lbnRzLCBwcm9taXNlSGFuZGxlciwgYWN0aW9uKSB7XG4gICAgICAgIC8vIE5PVEU6IENvZGUgbmVlZHMgdG8gc3BsaXQgb3V0IGJlZm9yZSBoZXJlIC0gYnV0IHRoaXMgaXMgbmVlZGVkIHRvIHByZXZlbnQgaXQgYmVpbmcgb3ZlcnJpZGRlblxuICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJWZWxvY2l0eUpTOiBUaGUgJ3JldmVyc2UnIGFjdGlvbiBpcyBidWlsdCBpbiBhbmQgcHJpdmF0ZS5cIik7XG59XSwgdHJ1ZSk7XG5cbi8vIFByb2plY3Rcbi8qKlxyXG4gKiBDaGVjayBpZiBhbiBhbmltYXRpb24gc2hvdWxkIGJlIHN0b3BwZWQsIGFuZCBpZiBzbyB0aGVuIHNldCB0aGUgU1RPUFBFRFxyXG4gKiBmbGFnIG9uIGl0LCB0aGVuIGNhbGwgY29tcGxldGUuXHJcbiAqL1xuZnVuY3Rpb24gY2hlY2tBbmltYXRpb25TaG91bGRCZVN0b3BwZWQoYW5pbWF0aW9uLCBxdWV1ZU5hbWUsIGRlZmF1bHRRdWV1ZSkge1xuICAgIHZhbGlkYXRlVHdlZW5zKGFuaW1hdGlvbik7XG4gICAgaWYgKHF1ZXVlTmFtZSA9PT0gdW5kZWZpbmVkIHx8IHF1ZXVlTmFtZSA9PT0gZ2V0VmFsdWUoYW5pbWF0aW9uLnF1ZXVlLCBhbmltYXRpb24ub3B0aW9ucy5xdWV1ZSwgZGVmYXVsdFF1ZXVlKSkge1xuICAgICAgICBhbmltYXRpb24uX2ZsYWdzIHw9IDggLyogU1RPUFBFRCAqLzsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgICAgIGNvbXBsZXRlQ2FsbChhbmltYXRpb24pO1xuICAgIH1cbn1cbi8qKlxyXG4gKiBXaGVuIHRoZSBzdG9wIGFjdGlvbiBpcyB0cmlnZ2VyZWQsIHRoZSBlbGVtZW50cycgY3VycmVudGx5IGFjdGl2ZSBjYWxsIGlzXHJcbiAqIGltbWVkaWF0ZWx5IHN0b3BwZWQuIFdoZW4gYW4gZWxlbWVudCBpcyBzdG9wcGVkLCB0aGUgbmV4dCBpdGVtIGluIGl0c1xyXG4gKiBhbmltYXRpb24gcXVldWUgaXMgaW1tZWRpYXRlbHkgdHJpZ2dlcmVkLiBJZiBwYXNzZWQgdmlhIGEgY2hhaW5lZCBjYWxsXHJcbiAqIHRoZW4gdGhpcyB3aWxsIG9ubHkgdGFyZ2V0IHRoZSBhbmltYXRpb25zIGluIHRoYXQgY2FsbCwgYW5kIG5vdCB0aGVcclxuICogZWxlbWVudHMgbGlua2VkIHRvIGl0LlxyXG4gKlxyXG4gKiBBIHF1ZXVlIG5hbWUgbWF5IGJlIHBhc3NlZCBpbiB0byBzcGVjaWZ5IHRoYXQgb25seSBhbmltYXRpb25zIG9uIHRoZVxyXG4gKiBuYW1lZCBxdWV1ZSBhcmUgc3RvcHBlZC4gVGhlIGRlZmF1bHQgcXVldWUgaXMgbmFtZWQgXCJcIi4gSW4gYWRkaXRpb24gdGhlXHJcbiAqIHZhbHVlIG9mIGBmYWxzZWAgaXMgYWxsb3dlZCBmb3IgdGhlIHF1ZXVlIG5hbWUuXHJcbiAqXHJcbiAqIEFuIGZpbmFsIGFyZ3VtZW50IG1heSBiZSBwYXNzZWQgaW4gdG8gY2xlYXIgYW4gZWxlbWVudCdzIHJlbWFpbmluZyBxdWV1ZWRcclxuICogY2FsbHMuIFRoaXMgbWF5IG9ubHkgYmUgdGhlIHZhbHVlIGB0cnVlYC5cclxuICpcclxuICogTm90ZTogVGhlIHN0b3AgY29tbWFuZCBydW5zIHByaW9yIHRvIFZlbG9jaXR5J3MgUXVldWVpbmcgcGhhc2Ugc2luY2UgaXRzXHJcbiAqIGJlaGF2aW9yIGlzIGludGVuZGVkIHRvIHRha2UgZWZmZWN0ICppbW1lZGlhdGVseSosIHJlZ2FyZGxlc3Mgb2YgdGhlXHJcbiAqIGVsZW1lbnQncyBjdXJyZW50IHF1ZXVlIHN0YXRlLlxyXG4gKi9cbmZ1bmN0aW9uIHN0b3AoYXJncywgZWxlbWVudHMsIHByb21pc2VIYW5kbGVyLCBhY3Rpb24pIHtcbiAgICB2YXIgcXVldWVOYW1lID0gdmFsaWRhdGVRdWV1ZShhcmdzWzBdLCB0cnVlKSxcbiAgICAgICAgZGVmYXVsdFF1ZXVlID0gZGVmYXVsdHMkMS5xdWV1ZSxcbiAgICAgICAgZmluaXNoQWxsID0gYXJnc1txdWV1ZU5hbWUgPT09IHVuZGVmaW5lZCA/IDAgOiAxXSA9PT0gdHJ1ZTtcbiAgICBpZiAoaXNWZWxvY2l0eVJlc3VsdChlbGVtZW50cykgJiYgZWxlbWVudHMudmVsb2NpdHkuYW5pbWF0aW9ucykge1xuICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGVsZW1lbnRzLnZlbG9jaXR5LmFuaW1hdGlvbnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgY2hlY2tBbmltYXRpb25TaG91bGRCZVN0b3BwZWQoYW5pbWF0aW9uLCBxdWV1ZU5hbWUsIGRlZmF1bHRRdWV1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICB3aGlsZSAoU3RhdGUuZmlyc3ROZXcpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlVHdlZW5zKFN0YXRlLmZpcnN0TmV3KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBhY3RpdmVDYWxsID0gU3RhdGUuZmlyc3QsIG5leHRDYWxsOyBhY3RpdmVDYWxsICYmIChmaW5pc2hBbGwgfHwgYWN0aXZlQ2FsbCAhPT0gU3RhdGUuZmlyc3ROZXcpOyBhY3RpdmVDYWxsID0gbmV4dENhbGwgfHwgU3RhdGUuZmlyc3ROZXcpIHtcbiAgICAgICAgICAgIG5leHRDYWxsID0gYWN0aXZlQ2FsbC5fbmV4dDtcbiAgICAgICAgICAgIGlmICghZWxlbWVudHMgfHwgZWxlbWVudHMuaW5jbHVkZXMoYWN0aXZlQ2FsbC5lbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIGNoZWNrQW5pbWF0aW9uU2hvdWxkQmVTdG9wcGVkKGFjdGl2ZUNhbGwsIHF1ZXVlTmFtZSwgZGVmYXVsdFF1ZXVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocHJvbWlzZUhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGlzVmVsb2NpdHlSZXN1bHQoZWxlbWVudHMpICYmIGVsZW1lbnRzLnZlbG9jaXR5LmFuaW1hdGlvbnMgJiYgZWxlbWVudHMudGhlbikge1xuICAgICAgICAgICAgZWxlbWVudHMudGhlbihwcm9taXNlSGFuZGxlci5fcmVzb2x2ZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvbWlzZUhhbmRsZXIuX3Jlc29sdmVyKGVsZW1lbnRzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbnJlZ2lzdGVyQWN0aW9uKFtcInN0b3BcIiwgc3RvcF0sIHRydWUpO1xuXG4vLyBQcm9qZWN0XG5yZWdpc3RlckFjdGlvbihbXCJzdHlsZVwiLCBwcm9wZXJ0eUFjdGlvbl0sIHRydWUpO1xuXG4vLyBQcm9qZWN0XG4vKipcclxuICpcclxuICovXG5mdW5jdGlvbiB0d2VlbkFjdGlvbihhcmdzLCBlbGVtZW50cywgcHJvbWlzZUhhbmRsZXIsIGFjdGlvbikge1xuICAgIHZhciByZXF1aXJlRm9yY2VmZWVkaW5nID0gdm9pZCAwO1xuICAgIGlmICghZWxlbWVudHMpIHtcbiAgICAgICAgaWYgKCFhcmdzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKFwiVmVsb2NpdHkoPGVsZW1lbnQ+LCBcXFwidHdlZW5cXFwiLCBwZXJjZW50Q29tcGxldGUsIHByb3BlcnR5LCBlbmQgfCBbZW5kLCA8ZWFzaW5nPiwgPHN0YXJ0Pl0sIDxlYXNpbmc+KSA9PiB2YWx1ZVxcblZlbG9jaXR5KDxlbGVtZW50PiwgXFxcInR3ZWVuXFxcIiwgcGVyY2VudENvbXBsZXRlLCB7cHJvcGVydHk6IGVuZCB8IFtlbmQsIDxlYXNpbmc+LCA8c3RhcnQ+XSwgLi4ufSwgPGVhc2luZz4pID0+IHtwcm9wZXJ0eTogdmFsdWUsIC4uLn1cIik7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50cyA9IFtkb2N1bWVudC5ib2R5XTtcbiAgICAgICAgcmVxdWlyZUZvcmNlZmVlZGluZyA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50cy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgLy8gVE9ETzogQWxsb3cgbW9yZSB0aGFuIGEgc2luZ2xlIGVsZW1lbnQgdG8gcmV0dXJuIGFuIGFycmF5IG9mIHJlc3VsdHNcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmVsb2NpdHlKUzogQ2Fubm90IHR3ZWVuIG1vcmUgdGhhbiBvbmUgZWxlbWVudCFcIik7XG4gICAgfVxuICAgIHZhciBwZXJjZW50Q29tcGxldGUgPSBhcmdzWzBdLFxuICAgICAgICBmYWtlQW5pbWF0aW9uID0ge1xuICAgICAgICBlbGVtZW50czogZWxlbWVudHMsXG4gICAgICAgIGVsZW1lbnQ6IGVsZW1lbnRzWzBdLFxuICAgICAgICBxdWV1ZTogZmFsc2UsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwXG4gICAgICAgIH0sXG4gICAgICAgIHR3ZWVuczogbnVsbFxuICAgIH0sXG4gICAgICAgIHJlc3VsdCA9IHt9O1xuICAgIHZhciBwcm9wZXJ0aWVzID0gYXJnc1sxXSxcbiAgICAgICAgc2luZ2xlUmVzdWx0ID0gdm9pZCAwLFxuICAgICAgICBtYXliZVNlcXVlbmNlID0gdm9pZCAwLFxuICAgICAgICBlYXNpbmcgPSBhcmdzWzJdLFxuICAgICAgICBjb3VudCA9IDA7XG4gICAgaWYgKGlzU3RyaW5nKGFyZ3NbMV0pKSB7XG4gICAgICAgIGlmIChTZXF1ZW5jZXNPYmplY3QgJiYgU2VxdWVuY2VzT2JqZWN0W2FyZ3NbMV1dKSB7XG4gICAgICAgICAgICBtYXliZVNlcXVlbmNlID0gU2VxdWVuY2VzT2JqZWN0W2FyZ3NbMV1dO1xuICAgICAgICAgICAgcHJvcGVydGllcyA9IHt9O1xuICAgICAgICAgICAgZWFzaW5nID0gYXJnc1syXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNpbmdsZVJlc3VsdCA9IHRydWU7XG4gICAgICAgICAgICBwcm9wZXJ0aWVzID0gZGVmaW5lUHJvcGVydHkoe30sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgZWFzaW5nID0gYXJnc1szXTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmdzWzFdKSkge1xuICAgICAgICBzaW5nbGVSZXN1bHQgPSB0cnVlO1xuICAgICAgICBwcm9wZXJ0aWVzID0ge1xuICAgICAgICAgICAgdHdlZW46IGFyZ3NbMV1cbiAgICAgICAgfTtcbiAgICAgICAgZWFzaW5nID0gYXJnc1syXTtcbiAgICB9XG4gICAgaWYgKCFpc051bWJlcihwZXJjZW50Q29tcGxldGUpIHx8IHBlcmNlbnRDb21wbGV0ZSA8IDAgfHwgcGVyY2VudENvbXBsZXRlID4gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWZWxvY2l0eUpTOiBNdXN0IHR3ZWVuIGEgcGVyY2VudGFnZSBmcm9tIDAgdG8gMSFcIik7XG4gICAgfVxuICAgIGlmICghaXNQbGFpbk9iamVjdChwcm9wZXJ0aWVzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWZWxvY2l0eUpTOiBDYW5ub3QgdHdlZW4gYW4gaW52YWxpZCBwcm9wZXJ0eSFcIik7XG4gICAgfVxuICAgIGlmIChyZXF1aXJlRm9yY2VmZWVkaW5nKSB7XG4gICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSAmJiAoIUFycmF5LmlzQXJyYXkocHJvcGVydGllc1twcm9wZXJ0eV0pIHx8IHByb3BlcnRpZXNbcHJvcGVydHldLmxlbmd0aCA8IDIpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmVsb2NpdHlKUzogV2hlbiBub3Qgc3VwcGx5aW5nIGFuIGVsZW1lbnQgeW91IG11c3QgZm9yY2UtZmVlZCB2YWx1ZXM6IFwiICsgcHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBhY3RpdmVFYXNpbmcgPSB2YWxpZGF0ZUVhc2luZyhnZXRWYWx1ZShlYXNpbmcsIGRlZmF1bHRzJDEuZWFzaW5nKSwgREVGQVVMVF9EVVJBVElPTik7XG4gICAgaWYgKG1heWJlU2VxdWVuY2UpIHtcbiAgICAgICAgZXhwYW5kU2VxdWVuY2UoZmFrZUFuaW1hdGlvbiwgbWF5YmVTZXF1ZW5jZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZXhwYW5kUHJvcGVydGllcyhmYWtlQW5pbWF0aW9uLCBwcm9wZXJ0aWVzKTtcbiAgICB9XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmZvcmluXG4gICAgZm9yICh2YXIgX3Byb3BlcnR5IGluIGZha2VBbmltYXRpb24udHdlZW5zKSB7XG4gICAgICAgIC8vIEZvciBldmVyeSBlbGVtZW50LCBpdGVyYXRlIHRocm91Z2ggZWFjaCBwcm9wZXJ0eS5cbiAgICAgICAgdmFyIHByb3BlcnR5VHdlZW4gPSBmYWtlQW5pbWF0aW9uLnR3ZWVuc1tfcHJvcGVydHldLFxuICAgICAgICAgICAgc2VxdWVuY2UgPSBwcm9wZXJ0eVR3ZWVuLnNlcXVlbmNlLFxuICAgICAgICAgICAgcGF0dGVybiA9IHNlcXVlbmNlLnBhdHRlcm47XG4gICAgICAgIHZhciBjdXJyZW50VmFsdWUgPSBcIlwiLFxuICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgIGNvdW50Kys7XG4gICAgICAgIGlmIChwYXR0ZXJuKSB7XG4gICAgICAgICAgICB2YXIgZWFzaW5nQ29tcGxldGUgPSAocHJvcGVydHlUd2Vlbi5lYXNpbmcgfHwgYWN0aXZlRWFzaW5nKShwZXJjZW50Q29tcGxldGUsIDAsIDEsIF9wcm9wZXJ0eSk7XG4gICAgICAgICAgICB2YXIgYmVzdCA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHNlcXVlbmNlLmxlbmd0aCAtIDE7IGorKykge1xuICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZVtqXS5wZXJjZW50IDwgZWFzaW5nQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYmVzdCA9IGo7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHR3ZWVuRnJvbSA9IHNlcXVlbmNlW2Jlc3RdLFxuICAgICAgICAgICAgICAgIHR3ZWVuVG8gPSBzZXF1ZW5jZVtiZXN0ICsgMV0gfHwgdHdlZW5Gcm9tLFxuICAgICAgICAgICAgICAgIHR3ZWVuUGVyY2VudCA9IChwZXJjZW50Q29tcGxldGUgLSB0d2VlbkZyb20ucGVyY2VudCkgLyAodHdlZW5Uby5wZXJjZW50IC0gdHdlZW5Gcm9tLnBlcmNlbnQpLFxuICAgICAgICAgICAgICAgIHR3ZWVuRWFzaW5nID0gdHdlZW5Uby5lYXNpbmcgfHwgbGluZWFyRWFzaW5nO1xuICAgICAgICAgICAgZm9yICg7IGkgPCBwYXR0ZXJuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0VmFsdWUgPSB0d2VlbkZyb21baV07XG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0VmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgKz0gcGF0dGVybltpXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW5kVmFsdWUgPSB0d2VlblRvW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRWYWx1ZSA9PT0gZW5kVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSArPSBzdGFydFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxsIGVhc2luZ3MgbXVzdCBkZWFsIHdpdGggbnVtYmVycyBleGNlcHQgZm9yIG91ciBpbnRlcm5hbCBvbmVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdHdlZW5FYXNpbmcodHdlZW5QZXJjZW50LCBzdGFydFZhbHVlLCBlbmRWYWx1ZSwgX3Byb3BlcnR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSArPSBwYXR0ZXJuW2ldID09PSB0cnVlID8gTWF0aC5yb3VuZCh2YWx1ZSkgOiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdFtfcHJvcGVydHldID0gY3VycmVudFZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzaW5nbGVSZXN1bHQgJiYgY291bnQgPT09IDEpIHtcbiAgICAgICAgZm9yICh2YXIgX3Byb3BlcnR5MiBpbiByZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQuaGFzT3duUHJvcGVydHkoX3Byb3BlcnR5MikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0W19wcm9wZXJ0eTJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5yZWdpc3RlckFjdGlvbihbXCJ0d2VlblwiLCB0d2VlbkFjdGlvbl0sIHRydWUpO1xuXG4vLyBQcm9qZWN0XG4vKipcclxuICogQ29udmVydGluZyBmcm9tIGhleCBhcyBpdCBtYWtlcyBmb3IgYSBzbWFsbGVyIGZpbGUuXHJcbiAqL1xudmFyIGNvbG9yVmFsdWVzID0ge1xuICAgIGFsaWNlYmx1ZTogMHhGMEY4RkYsXG4gICAgYW50aXF1ZXdoaXRlOiAweEZBRUJENyxcbiAgICBhcXVhOiAweDAwRkZGRixcbiAgICBhcXVhbWFyaW5lOiAweDdGRkZENCxcbiAgICBhenVyZTogMHhGMEZGRkYsXG4gICAgYmVpZ2U6IDB4RjVGNURDLFxuICAgIGJpc3F1ZTogMHhGRkU0QzQsXG4gICAgYmxhY2s6IDB4MDAwMDAwLFxuICAgIGJsYW5jaGVkYWxtb25kOiAweEZGRUJDRCxcbiAgICBibHVlOiAweDAwMDBGRixcbiAgICBibHVldmlvbGV0OiAweDhBMkJFMixcbiAgICBicm93bjogMHhBNTJBMkEsXG4gICAgYnVybHl3b29kOiAweERFQjg4NyxcbiAgICBjYWRldGJsdWU6IDB4NUY5RUEwLFxuICAgIGNoYXJ0cmV1c2U6IDB4N0ZGRjAwLFxuICAgIGNob2NvbGF0ZTogMHhEMjY5MUUsXG4gICAgY29yYWw6IDB4RkY3RjUwLFxuICAgIGNvcm5mbG93ZXJibHVlOiAweDY0OTVFRCxcbiAgICBjb3Juc2lsazogMHhGRkY4REMsXG4gICAgY3JpbXNvbjogMHhEQzE0M0MsXG4gICAgY3lhbjogMHgwMEZGRkYsXG4gICAgZGFya2JsdWU6IDB4MDAwMDhCLFxuICAgIGRhcmtjeWFuOiAweDAwOEI4QixcbiAgICBkYXJrZ29sZGVucm9kOiAweEI4ODYwQixcbiAgICBkYXJrZ3JheTogMHhBOUE5QTksXG4gICAgZGFya2dyZXk6IDB4QTlBOUE5LFxuICAgIGRhcmtncmVlbjogMHgwMDY0MDAsXG4gICAgZGFya2toYWtpOiAweEJEQjc2QixcbiAgICBkYXJrbWFnZW50YTogMHg4QjAwOEIsXG4gICAgZGFya29saXZlZ3JlZW46IDB4NTU2QjJGLFxuICAgIGRhcmtvcmFuZ2U6IDB4RkY4QzAwLFxuICAgIGRhcmtvcmNoaWQ6IDB4OTkzMkNDLFxuICAgIGRhcmtyZWQ6IDB4OEIwMDAwLFxuICAgIGRhcmtzYWxtb246IDB4RTk5NjdBLFxuICAgIGRhcmtzZWFncmVlbjogMHg4RkJDOEYsXG4gICAgZGFya3NsYXRlYmx1ZTogMHg0ODNEOEIsXG4gICAgZGFya3NsYXRlZ3JheTogMHgyRjRGNEYsXG4gICAgZGFya3NsYXRlZ3JleTogMHgyRjRGNEYsXG4gICAgZGFya3R1cnF1b2lzZTogMHgwMENFRDEsXG4gICAgZGFya3Zpb2xldDogMHg5NDAwRDMsXG4gICAgZGVlcHBpbms6IDB4RkYxNDkzLFxuICAgIGRlZXBza3libHVlOiAweDAwQkZGRixcbiAgICBkaW1ncmF5OiAweDY5Njk2OSxcbiAgICBkaW1ncmV5OiAweDY5Njk2OSxcbiAgICBkb2RnZXJibHVlOiAweDFFOTBGRixcbiAgICBmaXJlYnJpY2s6IDB4QjIyMjIyLFxuICAgIGZsb3JhbHdoaXRlOiAweEZGRkFGMCxcbiAgICBmb3Jlc3RncmVlbjogMHgyMjhCMjIsXG4gICAgZnVjaHNpYTogMHhGRjAwRkYsXG4gICAgZ2FpbnNib3JvOiAweERDRENEQyxcbiAgICBnaG9zdHdoaXRlOiAweEY4RjhGRixcbiAgICBnb2xkOiAweEZGRDcwMCxcbiAgICBnb2xkZW5yb2Q6IDB4REFBNTIwLFxuICAgIGdyYXk6IDB4ODA4MDgwLFxuICAgIGdyZXk6IDB4ODA4MDgwLFxuICAgIGdyZWVuOiAweDAwODAwMCxcbiAgICBncmVlbnllbGxvdzogMHhBREZGMkYsXG4gICAgaG9uZXlkZXc6IDB4RjBGRkYwLFxuICAgIGhvdHBpbms6IDB4RkY2OUI0LFxuICAgIGluZGlhbnJlZDogMHhDRDVDNUMsXG4gICAgaW5kaWdvOiAweDRCMDA4MixcbiAgICBpdm9yeTogMHhGRkZGRjAsXG4gICAga2hha2k6IDB4RjBFNjhDLFxuICAgIGxhdmVuZGVyOiAweEU2RTZGQSxcbiAgICBsYXZlbmRlcmJsdXNoOiAweEZGRjBGNSxcbiAgICBsYXduZ3JlZW46IDB4N0NGQzAwLFxuICAgIGxlbW9uY2hpZmZvbjogMHhGRkZBQ0QsXG4gICAgbGlnaHRibHVlOiAweEFERDhFNixcbiAgICBsaWdodGNvcmFsOiAweEYwODA4MCxcbiAgICBsaWdodGN5YW46IDB4RTBGRkZGLFxuICAgIGxpZ2h0Z29sZGVucm9keWVsbG93OiAweEZBRkFEMixcbiAgICBsaWdodGdyYXk6IDB4RDNEM0QzLFxuICAgIGxpZ2h0Z3JleTogMHhEM0QzRDMsXG4gICAgbGlnaHRncmVlbjogMHg5MEVFOTAsXG4gICAgbGlnaHRwaW5rOiAweEZGQjZDMSxcbiAgICBsaWdodHNhbG1vbjogMHhGRkEwN0EsXG4gICAgbGlnaHRzZWFncmVlbjogMHgyMEIyQUEsXG4gICAgbGlnaHRza3libHVlOiAweDg3Q0VGQSxcbiAgICBsaWdodHNsYXRlZ3JheTogMHg3Nzg4OTksXG4gICAgbGlnaHRzbGF0ZWdyZXk6IDB4Nzc4ODk5LFxuICAgIGxpZ2h0c3RlZWxibHVlOiAweEIwQzRERSxcbiAgICBsaWdodHllbGxvdzogMHhGRkZGRTAsXG4gICAgbGltZTogMHgwMEZGMDAsXG4gICAgbGltZWdyZWVuOiAweDMyQ0QzMixcbiAgICBsaW5lbjogMHhGQUYwRTYsXG4gICAgbWFnZW50YTogMHhGRjAwRkYsXG4gICAgbWFyb29uOiAweDgwMDAwMCxcbiAgICBtZWRpdW1hcXVhbWFyaW5lOiAweDY2Q0RBQSxcbiAgICBtZWRpdW1ibHVlOiAweDAwMDBDRCxcbiAgICBtZWRpdW1vcmNoaWQ6IDB4QkE1NUQzLFxuICAgIG1lZGl1bXB1cnBsZTogMHg5MzcwREIsXG4gICAgbWVkaXVtc2VhZ3JlZW46IDB4M0NCMzcxLFxuICAgIG1lZGl1bXNsYXRlYmx1ZTogMHg3QjY4RUUsXG4gICAgbWVkaXVtc3ByaW5nZ3JlZW46IDB4MDBGQTlBLFxuICAgIG1lZGl1bXR1cnF1b2lzZTogMHg0OEQxQ0MsXG4gICAgbWVkaXVtdmlvbGV0cmVkOiAweEM3MTU4NSxcbiAgICBtaWRuaWdodGJsdWU6IDB4MTkxOTcwLFxuICAgIG1pbnRjcmVhbTogMHhGNUZGRkEsXG4gICAgbWlzdHlyb3NlOiAweEZGRTRFMSxcbiAgICBtb2NjYXNpbjogMHhGRkU0QjUsXG4gICAgbmF2YWpvd2hpdGU6IDB4RkZERUFELFxuICAgIG5hdnk6IDB4MDAwMDgwLFxuICAgIG9sZGxhY2U6IDB4RkRGNUU2LFxuICAgIG9saXZlOiAweDgwODAwMCxcbiAgICBvbGl2ZWRyYWI6IDB4NkI4RTIzLFxuICAgIG9yYW5nZTogMHhGRkE1MDAsXG4gICAgb3JhbmdlcmVkOiAweEZGNDUwMCxcbiAgICBvcmNoaWQ6IDB4REE3MEQ2LFxuICAgIHBhbGVnb2xkZW5yb2Q6IDB4RUVFOEFBLFxuICAgIHBhbGVncmVlbjogMHg5OEZCOTgsXG4gICAgcGFsZXR1cnF1b2lzZTogMHhBRkVFRUUsXG4gICAgcGFsZXZpb2xldHJlZDogMHhEQjcwOTMsXG4gICAgcGFwYXlhd2hpcDogMHhGRkVGRDUsXG4gICAgcGVhY2hwdWZmOiAweEZGREFCOSxcbiAgICBwZXJ1OiAweENEODUzRixcbiAgICBwaW5rOiAweEZGQzBDQixcbiAgICBwbHVtOiAweEREQTBERCxcbiAgICBwb3dkZXJibHVlOiAweEIwRTBFNixcbiAgICBwdXJwbGU6IDB4ODAwMDgwLFxuICAgIHJlYmVjY2FwdXJwbGU6IDB4NjYzMzk5LFxuICAgIHJlZDogMHhGRjAwMDAsXG4gICAgcm9zeWJyb3duOiAweEJDOEY4RixcbiAgICByb3lhbGJsdWU6IDB4NDE2OUUxLFxuICAgIHNhZGRsZWJyb3duOiAweDhCNDUxMyxcbiAgICBzYWxtb246IDB4RkE4MDcyLFxuICAgIHNhbmR5YnJvd246IDB4RjRBNDYwLFxuICAgIHNlYWdyZWVuOiAweDJFOEI1NyxcbiAgICBzZWFzaGVsbDogMHhGRkY1RUUsXG4gICAgc2llbm5hOiAweEEwNTIyRCxcbiAgICBzaWx2ZXI6IDB4QzBDMEMwLFxuICAgIHNreWJsdWU6IDB4ODdDRUVCLFxuICAgIHNsYXRlYmx1ZTogMHg2QTVBQ0QsXG4gICAgc2xhdGVncmF5OiAweDcwODA5MCxcbiAgICBzbGF0ZWdyZXk6IDB4NzA4MDkwLFxuICAgIHNub3c6IDB4RkZGQUZBLFxuICAgIHNwcmluZ2dyZWVuOiAweDAwRkY3RixcbiAgICBzdGVlbGJsdWU6IDB4NDY4MkI0LFxuICAgIHRhbjogMHhEMkI0OEMsXG4gICAgdGVhbDogMHgwMDgwODAsXG4gICAgdGhpc3RsZTogMHhEOEJGRDgsXG4gICAgdG9tYXRvOiAweEZGNjM0NyxcbiAgICB0dXJxdW9pc2U6IDB4NDBFMEQwLFxuICAgIHZpb2xldDogMHhFRTgyRUUsXG4gICAgd2hlYXQ6IDB4RjVERUIzLFxuICAgIHdoaXRlOiAweEZGRkZGRixcbiAgICB3aGl0ZXNtb2tlOiAweEY1RjVGNSxcbiAgICB5ZWxsb3c6IDB4RkZGRjAwLFxuICAgIHllbGxvd2dyZWVuOiAweDlBQ0QzMlxufTtcbmZvciAodmFyIG5hbWUgaW4gY29sb3JWYWx1ZXMpIHtcbiAgICBpZiAoY29sb3JWYWx1ZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gY29sb3JWYWx1ZXNbbmFtZV07XG4gICAgICAgIENvbG9yTmFtZXNbbmFtZV0gPSBNYXRoLmZsb29yKGNvbG9yIC8gNjU1MzYpICsgXCIsXCIgKyBNYXRoLmZsb29yKGNvbG9yIC8gMjU2ICUgMjU2KSArIFwiLFwiICsgY29sb3IgJSAyNTY7XG4gICAgfVxufVxuXG4vLyBQcm9qZWN0XG5mdW5jdGlvbiByZWdpc3RlckJhY2tJbihuYW1lLCBhbW91bnQpIHtcbiAgICByZWdpc3RlckVhc2luZyhbbmFtZSwgZnVuY3Rpb24gKHBlcmNlbnRDb21wbGV0ZSwgc3RhcnRWYWx1ZSwgZW5kVmFsdWUpIHtcbiAgICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGVuZFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBNYXRoLnBvdyhwZXJjZW50Q29tcGxldGUsIDIpICogKChhbW91bnQgKyAxKSAqIHBlcmNlbnRDb21wbGV0ZSAtIGFtb3VudCkgKiAoZW5kVmFsdWUgLSBzdGFydFZhbHVlKTtcbiAgICB9XSk7XG59XG5mdW5jdGlvbiByZWdpc3RlckJhY2tPdXQobmFtZSwgYW1vdW50KSB7XG4gICAgcmVnaXN0ZXJFYXNpbmcoW25hbWUsIGZ1bmN0aW9uIChwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSB7XG4gICAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFydFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBlbmRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKE1hdGgucG93KC0tcGVyY2VudENvbXBsZXRlLCAyKSAqICgoYW1vdW50ICsgMSkgKiBwZXJjZW50Q29tcGxldGUgKyBhbW91bnQpICsgMSkgKiAoZW5kVmFsdWUgLSBzdGFydFZhbHVlKTtcbiAgICB9XSk7XG59XG5mdW5jdGlvbiByZWdpc3RlckJhY2tJbk91dChuYW1lLCBhbW91bnQpIHtcbiAgICBhbW91bnQgKj0gMS41MjU7XG4gICAgcmVnaXN0ZXJFYXNpbmcoW25hbWUsIGZ1bmN0aW9uIChwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSB7XG4gICAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFydFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBlbmRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBwZXJjZW50Q29tcGxldGUgKj0gMjtcbiAgICAgICAgcmV0dXJuIChwZXJjZW50Q29tcGxldGUgPCAxID8gTWF0aC5wb3cocGVyY2VudENvbXBsZXRlLCAyKSAqICgoYW1vdW50ICsgMSkgKiBwZXJjZW50Q29tcGxldGUgLSBhbW91bnQpIDogTWF0aC5wb3cocGVyY2VudENvbXBsZXRlIC0gMiwgMikgKiAoKGFtb3VudCArIDEpICogKHBlcmNlbnRDb21wbGV0ZSAtIDIpICsgYW1vdW50KSArIDIpICogMC41ICogKGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSk7XG4gICAgfV0pO1xufVxucmVnaXN0ZXJCYWNrSW4oXCJlYXNlSW5CYWNrXCIsIDEuNyk7XG5yZWdpc3RlckJhY2tPdXQoXCJlYXNlT3V0QmFja1wiLCAxLjcpO1xucmVnaXN0ZXJCYWNrSW5PdXQoXCJlYXNlSW5PdXRCYWNrXCIsIDEuNyk7XG4vLyBUT0RPOiBFeHBvc2UgdGhlc2UgYXMgYWN0aW9ucyB0byByZWdpc3RlciBjdXN0b20gZWFzaW5ncz9cblxuLy8gUHJvamVjdFxuZnVuY3Rpb24gZWFzZU91dEJvdW5jZVBlcmNlbnQocGVyY2VudENvbXBsZXRlKSB7XG4gICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA8IDEgLyAyLjc1KSB7XG4gICAgICAgIHJldHVybiA3LjU2MjUgKiBwZXJjZW50Q29tcGxldGUgKiBwZXJjZW50Q29tcGxldGU7XG4gICAgfVxuICAgIGlmIChwZXJjZW50Q29tcGxldGUgPCAyIC8gMi43NSkge1xuICAgICAgICByZXR1cm4gNy41NjI1ICogKHBlcmNlbnRDb21wbGV0ZSAtPSAxLjUgLyAyLjc1KSAqIHBlcmNlbnRDb21wbGV0ZSArIDAuNzU7XG4gICAgfVxuICAgIGlmIChwZXJjZW50Q29tcGxldGUgPCAyLjUgLyAyLjc1KSB7XG4gICAgICAgIHJldHVybiA3LjU2MjUgKiAocGVyY2VudENvbXBsZXRlIC09IDIuMjUgLyAyLjc1KSAqIHBlcmNlbnRDb21wbGV0ZSArIDAuOTM3NTtcbiAgICB9XG4gICAgcmV0dXJuIDcuNTYyNSAqIChwZXJjZW50Q29tcGxldGUgLT0gMi42MjUgLyAyLjc1KSAqIHBlcmNlbnRDb21wbGV0ZSArIDAuOTg0Mzc1O1xufVxuZnVuY3Rpb24gZWFzZUluQm91bmNlUGVyY2VudChwZXJjZW50Q29tcGxldGUpIHtcbiAgICByZXR1cm4gMSAtIGVhc2VPdXRCb3VuY2VQZXJjZW50KDEgLSBwZXJjZW50Q29tcGxldGUpO1xufVxuZnVuY3Rpb24gZWFzZUluQm91bmNlKHBlcmNlbnRDb21wbGV0ZSwgc3RhcnRWYWx1ZSwgZW5kVmFsdWUpIHtcbiAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAwKSB7XG4gICAgICAgIHJldHVybiBzdGFydFZhbHVlO1xuICAgIH1cbiAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAxKSB7XG4gICAgICAgIHJldHVybiBlbmRWYWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGVhc2VJbkJvdW5jZVBlcmNlbnQocGVyY2VudENvbXBsZXRlKSAqIChlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUpO1xufVxuZnVuY3Rpb24gZWFzZU91dEJvdW5jZShwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSB7XG4gICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gc3RhcnRWYWx1ZTtcbiAgICB9XG4gICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMSkge1xuICAgICAgICByZXR1cm4gZW5kVmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBlYXNlT3V0Qm91bmNlUGVyY2VudChwZXJjZW50Q29tcGxldGUpICogKGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSk7XG59XG5mdW5jdGlvbiBlYXNlSW5PdXRCb3VuY2UocGVyY2VudENvbXBsZXRlLCBzdGFydFZhbHVlLCBlbmRWYWx1ZSkge1xuICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWU7XG4gICAgfVxuICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGVuZFZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gKHBlcmNlbnRDb21wbGV0ZSA8IDAuNSA/IGVhc2VJbkJvdW5jZVBlcmNlbnQocGVyY2VudENvbXBsZXRlICogMikgKiAwLjUgOiBlYXNlT3V0Qm91bmNlUGVyY2VudChwZXJjZW50Q29tcGxldGUgKiAyIC0gMSkgKiAwLjUgKyAwLjUpICogKGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSk7XG59XG5yZWdpc3RlckVhc2luZyhbXCJlYXNlSW5Cb3VuY2VcIiwgZWFzZUluQm91bmNlXSk7XG5yZWdpc3RlckVhc2luZyhbXCJlYXNlT3V0Qm91bmNlXCIsIGVhc2VPdXRCb3VuY2VdKTtcbnJlZ2lzdGVyRWFzaW5nKFtcImVhc2VJbk91dEJvdW5jZVwiLCBlYXNlSW5PdXRCb3VuY2VdKTtcblxuLy8gUHJvamVjdFxuLy8gQ29uc3RhbnRzXG52YXIgUEkyID0gTWF0aC5QSSAqIDI7XG5mdW5jdGlvbiByZWdpc3RlckVsYXN0aWNJbihuYW1lLCBhbXBsaXR1ZGUsIHBlcmlvZCkge1xuICAgIHJlZ2lzdGVyRWFzaW5nKFtuYW1lLCBmdW5jdGlvbiAocGVyY2VudENvbXBsZXRlLCBzdGFydFZhbHVlLCBlbmRWYWx1ZSkge1xuICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhcnRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gZW5kVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0oYW1wbGl0dWRlICogTWF0aC5wb3coMiwgMTAgKiAocGVyY2VudENvbXBsZXRlIC09IDEpKSAqIE1hdGguc2luKChwZXJjZW50Q29tcGxldGUgLSBwZXJpb2QgLyBQSTIgKiBNYXRoLmFzaW4oMSAvIGFtcGxpdHVkZSkpICogUEkyIC8gcGVyaW9kKSkgKiAoZW5kVmFsdWUgLSBzdGFydFZhbHVlKTtcbiAgICB9XSk7XG59XG5mdW5jdGlvbiByZWdpc3RlckVsYXN0aWNPdXQobmFtZSwgYW1wbGl0dWRlLCBwZXJpb2QpIHtcbiAgICByZWdpc3RlckVhc2luZyhbbmFtZSwgZnVuY3Rpb24gKHBlcmNlbnRDb21wbGV0ZSwgc3RhcnRWYWx1ZSwgZW5kVmFsdWUpIHtcbiAgICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGVuZFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoYW1wbGl0dWRlICogTWF0aC5wb3coMiwgLTEwICogcGVyY2VudENvbXBsZXRlKSAqIE1hdGguc2luKChwZXJjZW50Q29tcGxldGUgLSBwZXJpb2QgLyBQSTIgKiBNYXRoLmFzaW4oMSAvIGFtcGxpdHVkZSkpICogUEkyIC8gcGVyaW9kKSArIDEpICogKGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSk7XG4gICAgfV0pO1xufVxuZnVuY3Rpb24gcmVnaXN0ZXJFbGFzdGljSW5PdXQobmFtZSwgYW1wbGl0dWRlLCBwZXJpb2QpIHtcbiAgICByZWdpc3RlckVhc2luZyhbbmFtZSwgZnVuY3Rpb24gKHBlcmNlbnRDb21wbGV0ZSwgc3RhcnRWYWx1ZSwgZW5kVmFsdWUpIHtcbiAgICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGVuZFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzID0gcGVyaW9kIC8gUEkyICogTWF0aC5hc2luKDEgLyBhbXBsaXR1ZGUpO1xuICAgICAgICBwZXJjZW50Q29tcGxldGUgPSBwZXJjZW50Q29tcGxldGUgKiAyIC0gMTtcbiAgICAgICAgcmV0dXJuIChwZXJjZW50Q29tcGxldGUgPCAwID8gLTAuNSAqIChhbXBsaXR1ZGUgKiBNYXRoLnBvdygyLCAxMCAqIHBlcmNlbnRDb21wbGV0ZSkgKiBNYXRoLnNpbigocGVyY2VudENvbXBsZXRlIC0gcykgKiBQSTIgLyBwZXJpb2QpKSA6IGFtcGxpdHVkZSAqIE1hdGgucG93KDIsIC0xMCAqIHBlcmNlbnRDb21wbGV0ZSkgKiBNYXRoLnNpbigocGVyY2VudENvbXBsZXRlIC0gcykgKiBQSTIgLyBwZXJpb2QpICogMC41ICsgMSkgKiAoZW5kVmFsdWUgLSBzdGFydFZhbHVlKTtcbiAgICB9XSk7XG59XG5yZWdpc3RlckVsYXN0aWNJbihcImVhc2VJbkVsYXN0aWNcIiwgMSwgMC4zKTtcbnJlZ2lzdGVyRWxhc3RpY091dChcImVhc2VPdXRFbGFzdGljXCIsIDEsIDAuMyk7XG5yZWdpc3RlckVsYXN0aWNJbk91dChcImVhc2VJbk91dEVsYXN0aWNcIiwgMSwgMC4zICogMS41KTtcbi8vIFRPRE86IEV4cG9zZSB0aGVzZSBhcyBhY3Rpb25zIHRvIHJlZ2lzdGVyIGN1c3RvbSBlYXNpbmdzP1xuXG4vLyBQcm9qZWN0XG4vKipcclxuICogRWFzaW5nIGZ1bmN0aW9uIHRoYXQgc2V0cyB0byB0aGUgc3BlY2lmaWVkIHZhbHVlIGltbWVkaWF0ZWx5IGFmdGVyIHRoZVxyXG4gKiBhbmltYXRpb24gc3RhcnRzLlxyXG4gKi9cbmZ1bmN0aW9uIGF0U3RhcnQocGVyY2VudENvbXBsZXRlLCBzdGFydFZhbHVlLCBlbmRWYWx1ZSkge1xuICByZXR1cm4gcGVyY2VudENvbXBsZXRlID09PSAwID8gc3RhcnRWYWx1ZSA6IGVuZFZhbHVlO1xufVxuLyoqXHJcbiAqIEVhc2luZyBmdW5jdGlvbiB0aGF0IHNldHMgdG8gdGhlIHNwZWNpZmllZCB2YWx1ZSB3aGlsZSB0aGUgYW5pbWF0aW9uIGlzXHJcbiAqIHJ1bm5pbmcuXHJcbiAqL1xuZnVuY3Rpb24gZHVyaW5nKHBlcmNlbnRDb21wbGV0ZSwgc3RhcnRWYWx1ZSwgZW5kVmFsdWUpIHtcbiAgcmV0dXJuIHBlcmNlbnRDb21wbGV0ZSA9PT0gMCB8fCBwZXJjZW50Q29tcGxldGUgPT09IDEgPyBzdGFydFZhbHVlIDogZW5kVmFsdWU7XG59XG4vKipcclxuICogRWFzaW5nIGZ1bmN0aW9uIHRoYXQgc2V0cyB0byB0aGUgc3BlY2lmaWVkIHZhbHVlIHdoZW4gdGhlIGFuaW1hdGlvbiBlbmRzLlxyXG4gKi9cbmZ1bmN0aW9uIGF0RW5kKHBlcmNlbnRDb21wbGV0ZSwgc3RhcnRWYWx1ZSwgZW5kVmFsdWUpIHtcbiAgcmV0dXJuIHBlcmNlbnRDb21wbGV0ZSA9PT0gMSA/IGVuZFZhbHVlIDogc3RhcnRWYWx1ZTtcbn1cbnJlZ2lzdGVyRWFzaW5nKFtcImF0LXN0YXJ0XCIsIGF0U3RhcnRdKTtcbnJlZ2lzdGVyRWFzaW5nKFtcImR1cmluZ1wiLCBkdXJpbmddKTtcbnJlZ2lzdGVyRWFzaW5nKFtcImF0LWVuZFwiLCBhdEVuZF0pO1xuXG4vLyBQcm9qZWN0XG4vKipcclxuICogR2V0L3NldCB0aGUgaW5uZXIvb3V0ZXIgZGltZW5zaW9uLlxyXG4gKi9cbmZ1bmN0aW9uIGdldERpbWVuc2lvbihuYW1lLCB3YW50SW5uZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW1lbnQsIHByb3BlcnR5VmFsdWUpIHtcbiAgICAgICAgaWYgKHByb3BlcnR5VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGF1Z21lbnREaW1lbnNpb24oZWxlbWVudCwgbmFtZSwgd2FudElubmVyKSArIFwicHhcIjtcbiAgICAgICAgfVxuICAgICAgICBzZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIG5hbWUsIHBhcnNlRmxvYXQocHJvcGVydHlWYWx1ZSkgLSBhdWdtZW50RGltZW5zaW9uKGVsZW1lbnQsIG5hbWUsIHdhbnRJbm5lcikgKyBcInB4XCIpO1xuICAgIH07XG59XG5yZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiRWxlbWVudFwiLCBcImlubmVyV2lkdGhcIiwgZ2V0RGltZW5zaW9uKFwid2lkdGhcIiwgdHJ1ZSldKTtcbnJlZ2lzdGVyTm9ybWFsaXphdGlvbihbXCJFbGVtZW50XCIsIFwiaW5uZXJIZWlnaHRcIiwgZ2V0RGltZW5zaW9uKFwiaGVpZ2h0XCIsIHRydWUpXSk7XG5yZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiRWxlbWVudFwiLCBcIm91dGVyV2lkdGhcIiwgZ2V0RGltZW5zaW9uKFwid2lkdGhcIiwgZmFsc2UpXSk7XG5yZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiRWxlbWVudFwiLCBcIm91dGVySGVpZ2h0XCIsIGdldERpbWVuc2lvbihcImhlaWdodFwiLCBmYWxzZSldKTtcblxuLy8gUHJvamVjdFxuLy8gQ29uc3RhbnRzXG52YXIgaW5saW5lUnggPSAvXihifGJpZ3xpfHNtYWxsfHR0fGFiYnJ8YWNyb255bXxjaXRlfGNvZGV8ZGZufGVtfGtiZHxzdHJvbmd8c2FtcHxsZXR8YXxiZG98YnJ8aW1nfG1hcHxvYmplY3R8cXxzY3JpcHR8c3BhbnxzdWJ8c3VwfGJ1dHRvbnxpbnB1dHxsYWJlbHxzZWxlY3R8dGV4dGFyZWEpJC9pLFxuICAgIGxpc3RJdGVtUnggPSAvXihsaSkkL2ksXG4gICAgdGFibGVSb3dSeCA9IC9eKHRyKSQvaSxcbiAgICB0YWJsZVJ4ID0gL14odGFibGUpJC9pLFxuICAgIHRhYmxlUm93R3JvdXBSeCA9IC9eKHRib2R5KSQvaTtcbmZ1bmN0aW9uIGRpc3BsYXkoZWxlbWVudCwgcHJvcGVydHlWYWx1ZSkge1xuICAgIHZhciBzdHlsZSA9IGVsZW1lbnQuc3R5bGU7XG4gICAgaWYgKHByb3BlcnR5VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gY29tcHV0ZVByb3BlcnR5VmFsdWUoZWxlbWVudCwgXCJkaXNwbGF5XCIpO1xuICAgIH1cbiAgICBpZiAocHJvcGVydHlWYWx1ZSA9PT0gXCJhdXRvXCIpIHtcbiAgICAgICAgdmFyIG5vZGVOYW1lID0gZWxlbWVudCAmJiBlbGVtZW50Lm5vZGVOYW1lLFxuICAgICAgICAgICAgZGF0YSA9IERhdGEoZWxlbWVudCk7XG4gICAgICAgIGlmIChpbmxpbmVSeC50ZXN0KG5vZGVOYW1lKSkge1xuICAgICAgICAgICAgcHJvcGVydHlWYWx1ZSA9IFwiaW5saW5lXCI7XG4gICAgICAgIH0gZWxzZSBpZiAobGlzdEl0ZW1SeC50ZXN0KG5vZGVOYW1lKSkge1xuICAgICAgICAgICAgcHJvcGVydHlWYWx1ZSA9IFwibGlzdC1pdGVtXCI7XG4gICAgICAgIH0gZWxzZSBpZiAodGFibGVSb3dSeC50ZXN0KG5vZGVOYW1lKSkge1xuICAgICAgICAgICAgcHJvcGVydHlWYWx1ZSA9IFwidGFibGUtcm93XCI7XG4gICAgICAgIH0gZWxzZSBpZiAodGFibGVSeC50ZXN0KG5vZGVOYW1lKSkge1xuICAgICAgICAgICAgcHJvcGVydHlWYWx1ZSA9IFwidGFibGVcIjtcbiAgICAgICAgfSBlbHNlIGlmICh0YWJsZVJvd0dyb3VwUngudGVzdChub2RlTmFtZSkpIHtcbiAgICAgICAgICAgIHByb3BlcnR5VmFsdWUgPSBcInRhYmxlLXJvdy1ncm91cFwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRGVmYXVsdCB0byBcImJsb2NrXCIgd2hlbiBubyBtYXRjaCBpcyBmb3VuZC5cbiAgICAgICAgICAgIHByb3BlcnR5VmFsdWUgPSBcImJsb2NrXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSU1QT1JUQU5UOiBXZSBuZWVkIHRvIGRvIHRoaXMgYXMgZ2V0UHJvcGVydHlWYWx1ZSBieXBhc3NlcyB0aGVcbiAgICAgICAgLy8gTm9ybWFsaXNhdGlvbiB3aGVuIGl0IGV4aXN0cyBpbiB0aGUgY2FjaGUuXG4gICAgICAgIGRhdGEuY2FjaGVbXCJkaXNwbGF5XCJdID0gcHJvcGVydHlWYWx1ZTtcbiAgICB9XG4gICAgc3R5bGUuZGlzcGxheSA9IHByb3BlcnR5VmFsdWU7XG59XG5yZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiRWxlbWVudFwiLCBcImRpc3BsYXlcIiwgZGlzcGxheV0pO1xuXG4vLyBQcm9qZWN0XG5mdW5jdGlvbiBjbGllbnRXaWR0aChlbGVtZW50LCBwcm9wZXJ0eVZhbHVlKSB7XG4gICAgaWYgKHByb3BlcnR5VmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudC5jbGllbnRXaWR0aCArIFwicHhcIjtcbiAgICB9XG59XG5mdW5jdGlvbiBzY3JvbGxXaWR0aChlbGVtZW50LCBwcm9wZXJ0eVZhbHVlKSB7XG4gICAgaWYgKHByb3BlcnR5VmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudC5zY3JvbGxXaWR0aCArIFwicHhcIjtcbiAgICB9XG59XG5mdW5jdGlvbiBjbGllbnRIZWlnaHQoZWxlbWVudCwgcHJvcGVydHlWYWx1ZSkge1xuICAgIGlmIChwcm9wZXJ0eVZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuY2xpZW50SGVpZ2h0ICsgXCJweFwiO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNjcm9sbEhlaWdodChlbGVtZW50LCBwcm9wZXJ0eVZhbHVlKSB7XG4gICAgaWYgKHByb3BlcnR5VmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudC5zY3JvbGxIZWlnaHQgKyBcInB4XCI7XG4gICAgfVxufVxuZnVuY3Rpb24gc2Nyb2xsKGRpcmVjdGlvbiwgZW5kKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlbGVtZW50LCBwcm9wZXJ0eVZhbHVlKSB7XG4gICAgICAgIGlmIChwcm9wZXJ0eVZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIHRoZXNlIHZhbHVlcyBjYWNoZWQuXG4gICAgICAgICAgICBnZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIFwiY2xpZW50XCIgKyBkaXJlY3Rpb24sIG51bGwsIHRydWUpO1xuICAgICAgICAgICAgZ2V0UHJvcGVydHlWYWx1ZShlbGVtZW50LCBcInNjcm9sbFwiICsgZGlyZWN0aW9uLCBudWxsLCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50W1wic2Nyb2xsXCIgKyBlbmRdICsgXCJweFwiO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YWx1ZSA9IHBhcnNlRmxvYXQocHJvcGVydHlWYWx1ZSksXG4gICAgICAgICAgICB1bml0ID0gcHJvcGVydHlWYWx1ZS5yZXBsYWNlKFN0cmluZyh2YWx1ZSksIFwiXCIpO1xuICAgICAgICBzd2l0Y2ggKHVuaXQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJweFwiOlxuICAgICAgICAgICAgICAgIGVsZW1lbnRbXCJzY3JvbGxcIiArIGVuZF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCIlXCI6XG4gICAgICAgICAgICAgICAgdmFyIGNsaWVudCA9IHBhcnNlRmxvYXQoZ2V0UHJvcGVydHlWYWx1ZShlbGVtZW50LCBcImNsaWVudFwiICsgZGlyZWN0aW9uKSksXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFZhbHVlID0gcGFyc2VGbG9hdChnZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIFwic2Nyb2xsXCIgKyBkaXJlY3Rpb24pKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50W1wic2Nyb2xsXCIgKyBlbmRdID0gTWF0aC5tYXgoMCwgc2Nyb2xsVmFsdWUgLSBjbGllbnQpICogdmFsdWUgLyAxMDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xufVxucmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtcIkhUTUxFbGVtZW50XCIsIFwic2Nyb2xsXCIsIHNjcm9sbChcIkhlaWdodFwiLCBcIlRvcFwiKSwgZmFsc2VdKTtcbnJlZ2lzdGVyTm9ybWFsaXphdGlvbihbXCJIVE1MRWxlbWVudFwiLCBcInNjcm9sbFRvcFwiLCBzY3JvbGwoXCJIZWlnaHRcIiwgXCJUb3BcIiksIGZhbHNlXSk7XG5yZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiSFRNTEVsZW1lbnRcIiwgXCJzY3JvbGxMZWZ0XCIsIHNjcm9sbChcIldpZHRoXCIsIFwiTGVmdFwiKSwgZmFsc2VdKTtcbnJlZ2lzdGVyTm9ybWFsaXphdGlvbihbXCJIVE1MRWxlbWVudFwiLCBcInNjcm9sbFdpZHRoXCIsIHNjcm9sbFdpZHRoXSk7XG5yZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiSFRNTEVsZW1lbnRcIiwgXCJjbGllbnRXaWR0aFwiLCBjbGllbnRXaWR0aF0pO1xucmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtcIkhUTUxFbGVtZW50XCIsIFwic2Nyb2xsSGVpZ2h0XCIsIHNjcm9sbEhlaWdodF0pO1xucmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtcIkhUTUxFbGVtZW50XCIsIFwiY2xpZW50SGVpZ2h0XCIsIGNsaWVudEhlaWdodF0pO1xuXG4vLyBQcm9qZWN0XG4vKipcclxuICogQW4gUmVnRXhwIHBhdHRlcm4gZm9yIHRoZSBmb2xsb3dpbmcgbGlzdCBvZiBjc3Mgd29yZHMgdXNpbmdcclxuICogaHR0cDovL2tlbWlvLmNvbS5hci90b29scy9sc3QtdHJpZS1yZS5waHAgdG8gZ2VuZXJhdGU6XHJcbiAqXHJcbiAqIGJsb2NrU2l6ZVxyXG4gKiBib3JkZXJCb3R0b21MZWZ0UmFkaXVzXHJcbiAqIGJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzXHJcbiAqIGJvcmRlckJvdHRvbVdpZHRoXHJcbiAqIGJvcmRlckltYWdlT3V0c2V0XHJcbiAqIGJvcmRlckltYWdlV2lkdGhcclxuICogYm9yZGVyTGVmdFdpZHRoXHJcbiAqIGJvcmRlclJhZGl1c1xyXG4gKiBib3JkZXJSaWdodFdpZHRoXHJcbiAqIGJvcmRlclNwYWNpbmdcclxuICogYm9yZGVyVG9wTGVmdFJhZGl1c1xyXG4gKiBib3JkZXJUb3BSaWdodFJhZGl1c1xyXG4gKiBib3JkZXJUb3BXaWR0aFxyXG4gKiBib3JkZXJXaWR0aFxyXG4gKiBib3R0b21cclxuICogY29sdW1uR2FwXHJcbiAqIGNvbHVtblJ1bGVXaWR0aFxyXG4gKiBjb2x1bW5XaWR0aFxyXG4gKiBmbGV4QmFzaXNcclxuICogZm9udFNpemVcclxuICogZ3JpZENvbHVtbkdhcFxyXG4gKiBncmlkR2FwXHJcbiAqIGdyaWRSb3dHYXBcclxuICogaGVpZ2h0XHJcbiAqIGlubGluZVNpemVcclxuICogbGVmdFxyXG4gKiBsZXR0ZXJTcGFjaW5nXHJcbiAqIG1hcmdpblxyXG4gKiBtYXJnaW5Cb3R0b21cclxuICogbWFyZ2luTGVmdFxyXG4gKiBtYXJnaW5SaWdodFxyXG4gKiBtYXJnaW5Ub3BcclxuICogbWF4QmxvY2tTaXplXHJcbiAqIG1heEhlaWdodFxyXG4gKiBtYXhJbmxpbmVTaXplXHJcbiAqIG1heFdpZHRoXHJcbiAqIG1pbkJsb2NrU2l6ZVxyXG4gKiBtaW5IZWlnaHRcclxuICogbWluSW5saW5lU2l6ZVxyXG4gKiBtaW5XaWR0aFxyXG4gKiBvYmplY3RQb3NpdGlvblxyXG4gKiBvdXRsaW5lT2Zmc2V0XHJcbiAqIG91dGxpbmVXaWR0aFxyXG4gKiBwYWRkaW5nXHJcbiAqIHBhZGRpbmdCb3R0b21cclxuICogcGFkZGluZ0xlZnRcclxuICogcGFkZGluZ1JpZ2h0XHJcbiAqIHBhZGRpbmdUb3BcclxuICogcGVyc3BlY3RpdmVcclxuICogcmlnaHRcclxuICogc2hhcGVNYXJnaW5cclxuICogc3Ryb2tlRGFzaG9mZnNldFxyXG4gKiBzdHJva2VXaWR0aFxyXG4gKiB0ZXh0SW5kZW50XHJcbiAqIHRvcFxyXG4gKiB0cmFuc2Zvcm1PcmlnaW5cclxuICogd2lkdGhcclxuICogd29yZFNwYWNpbmdcclxuICovXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG52YXIgcnhBZGRQeCA9IC9eKGIobG9ja1NpemV8byhyZGVyKEJvdHRvbShMZWZ0UmFkaXVzfFJpZ2h0UmFkaXVzfFdpZHRoKXxJbWFnZShPdXRzZXR8V2lkdGgpfExlZnRXaWR0aHxSKGFkaXVzfGlnaHRXaWR0aCl8U3BhY2luZ3xUb3AoTGVmdFJhZGl1c3xSaWdodFJhZGl1c3xXaWR0aCl8V2lkdGgpfHR0b20pKXxjb2x1bW4oR2FwfFJ1bGVXaWR0aHxXaWR0aCl8ZihsZXhCYXNpc3xvbnRTaXplKXxncmlkKENvbHVtbkdhcHxHYXB8Um93R2FwKXxoZWlnaHR8aW5saW5lU2l6ZXxsZShmdHx0dGVyU3BhY2luZyl8bShhKHJnaW4oQm90dG9tfExlZnR8UmlnaHR8VG9wKXx4KEJsb2NrU2l6ZXxIZWlnaHR8SW5saW5lU2l6ZXxXaWR0aCkpfGluKEJsb2NrU2l6ZXxIZWlnaHR8SW5saW5lU2l6ZXxXaWR0aCkpfG8oYmplY3RQb3NpdGlvbnx1dGxpbmUoT2Zmc2V0fFdpZHRoKSl8cChhZGRpbmcoQm90dG9tfExlZnR8UmlnaHR8VG9wKXxlcnNwZWN0aXZlKXxyaWdodHxzKGhhcGVNYXJnaW58dHJva2UoRGFzaG9mZnNldHxXaWR0aCkpfHQoZXh0SW5kZW50fG9wfHJhbnNmb3JtT3JpZ2luKXx3KGlkdGh8b3JkU3BhY2luZykpJC87XG4vKipcclxuICogUmV0dXJuIGEgTm9ybWFsaXNhdGlvbiB0aGF0IGNhbiBiZSB1c2VkIHRvIHNldCAvIGdldCBhIHByZWZpeGVkIHN0eWxlXHJcbiAqIHByb3BlcnR5LlxyXG4gKi9cbmZ1bmN0aW9uIGdldFNldFByZWZpeGVkKHByb3BlcnR5TmFtZSwgdW5wcmVmaXhlZCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZWxlbWVudCwgcHJvcGVydHlWYWx1ZSkge1xuICAgICAgICBpZiAocHJvcGVydHlWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcHV0ZVByb3BlcnR5VmFsdWUoZWxlbWVudCwgcHJvcGVydHlOYW1lKSB8fCBjb21wdXRlUHJvcGVydHlWYWx1ZShlbGVtZW50LCB1bnByZWZpeGVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50LnN0eWxlW3Byb3BlcnR5TmFtZV0gPSBlbGVtZW50LnN0eWxlW3VucHJlZml4ZWRdID0gcHJvcGVydHlWYWx1ZTtcbiAgICB9O1xufVxuLyoqXHJcbiAqIFJldHVybiBhIE5vcm1hbGlzYXRpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBzZXQgLyBnZXQgYSBzdHlsZSBwcm9wZXJ0eS5cclxuICovXG5mdW5jdGlvbiBnZXRTZXRTdHlsZShwcm9wZXJ0eU5hbWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW1lbnQsIHByb3BlcnR5VmFsdWUpIHtcbiAgICAgICAgaWYgKHByb3BlcnR5VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXB1dGVQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIHByb3BlcnR5TmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wZXJ0eU5hbWVdID0gcHJvcGVydHlWYWx1ZTtcbiAgICB9O1xufVxuLyoqXHJcbiAqIFZlbmRvciBwcmVmaXhlcy4gQ2hyb21lIC8gU2FmYXJpLCBGaXJlZm94LCBJRSAvIEVkZ2UsIE9wZXJhLlxyXG4gKi9cbnZhciByeFZlbmRvcnMgPSAvXih3ZWJraXR8bW96fG1zfG8pW0EtWl0vLFxuICAgIHByZWZpeEVsZW1lbnQgPSBTdGF0ZS5wcmVmaXhFbGVtZW50O1xuaWYgKHByZWZpeEVsZW1lbnQpIHtcbiAgICBmb3IgKHZhciBwcm9wZXJ0eU5hbWUgaW4gcHJlZml4RWxlbWVudC5zdHlsZSkge1xuICAgICAgICBpZiAocnhWZW5kb3JzLnRlc3QocHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgICAgdmFyIHVucHJlZml4ZWQgPSBwcm9wZXJ0eU5hbWUucmVwbGFjZSgvXlthLXpdKyhbQS1aXSkvLCBmdW5jdGlvbiAoJCwgbGV0dGVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxldHRlci50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGFkZFVuaXQgPSByeEFkZFB4LnRlc3QodW5wcmVmaXhlZCkgPyBcInB4XCIgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtcIkVsZW1lbnRcIiwgdW5wcmVmaXhlZCwgZ2V0U2V0UHJlZml4ZWQocHJvcGVydHlOYW1lLCB1bnByZWZpeGVkKSwgYWRkVW5pdF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFoYXNOb3JtYWxpemF0aW9uKFtcIkVsZW1lbnRcIiwgcHJvcGVydHlOYW1lXSkpIHtcbiAgICAgICAgICAgIHZhciBfYWRkVW5pdCA9IHJ4QWRkUHgudGVzdChwcm9wZXJ0eU5hbWUpID8gXCJweFwiIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtcIkVsZW1lbnRcIiwgcHJvcGVydHlOYW1lLCBnZXRTZXRTdHlsZShwcm9wZXJ0eU5hbWUpLCBfYWRkVW5pdF0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBQcm9qZWN0XG4vKipcclxuICogR2V0L3NldCBhbiBhdHRyaWJ1dGUuXHJcbiAqL1xuZnVuY3Rpb24gZ2V0QXR0cmlidXRlKG5hbWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW1lbnQsIHByb3BlcnR5VmFsdWUpIHtcbiAgICAgICAgaWYgKHByb3BlcnR5VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIHByb3BlcnR5VmFsdWUpO1xuICAgIH07XG59XG52YXIgYmFzZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgcnhTdWJ0eXBlID0gL15TVkcoLiopRWxlbWVudCQvLFxuICAgIHJ4RWxlbWVudCA9IC9FbGVtZW50JC87XG5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpLmZvckVhY2goZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgdmFyIHN1YnR5cGUgPSByeFN1YnR5cGUuZXhlYyhwcm9wZXJ0eSk7XG4gICAgaWYgKHN1YnR5cGUgJiYgc3VidHlwZVsxXSAhPT0gXCJTVkdcIikge1xuICAgICAgICAvLyBEb24ndCBkbyBTVkdTVkdFbGVtZW50LlxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBzdWJ0eXBlWzFdID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgKHN1YnR5cGVbMV0gfHwgXCJzdmdcIikudG9Mb3dlckNhc2UoKSkgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3ZnXCIpO1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmZvcmluXG4gICAgICAgICAgICBmb3IgKHZhciBhdHRyaWJ1dGUgaW4gZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIC8vIEFsdGhvdWdoIHRoaXMgaXNuJ3QgYSB0d2VlbiB3aXRob3V0IHByb3RvdHlwZXMsIHdlIGRvXG4gICAgICAgICAgICAgICAgLy8gd2FudCB0byBnZXQgaG9sZCBvZiBhbGwgYXR0cmlidXRlcyBhbmQgbm90IGp1c3Qgb3duIG9uZXMuXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gZWxlbWVudFthdHRyaWJ1dGVdO1xuICAgICAgICAgICAgICAgIGlmIChpc1N0cmluZyhhdHRyaWJ1dGUpICYmICEoYXR0cmlidXRlWzBdID09PSBcIm9cIiAmJiBhdHRyaWJ1dGVbMV0gPT09IFwiblwiKSAmJiBhdHRyaWJ1dGUgIT09IGF0dHJpYnV0ZS50b1VwcGVyQ2FzZSgpICYmICFyeEVsZW1lbnQudGVzdChhdHRyaWJ1dGUpICYmICEoYXR0cmlidXRlIGluIGJhc2UpICYmICFpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBTaG91bGQgdGhpcyBhbGwgYmUgc2V0IG9uIHRoZSBnZW5lcmljIFNWR0VsZW1lbnQsIGl0IHdvdWxkIHNhdmUgc3BhY2UgYW5kIHRpbWUsIGJ1dCBub3QgYXMgcG93ZXJmdWxcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtwcm9wZXJ0eSwgYXR0cmlidXRlLCBnZXRBdHRyaWJ1dGUoYXR0cmlidXRlKV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlZlbG9jaXR5SlM6IEVycm9yIHdoZW4gdHJ5aW5nIHRvIGlkZW50aWZ5IFNWRyBhdHRyaWJ1dGVzIG9uIFwiICsgcHJvcGVydHkgKyBcIi5cIiwgZSk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuLy8gUHJvamVjdFxuLyoqXHJcbiAqIEdldC9zZXQgdGhlIHdpZHRoIG9yIGhlaWdodC5cclxuICovXG5mdW5jdGlvbiBnZXREaW1lbnNpb24kMShuYW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlbGVtZW50LCBwcm9wZXJ0eVZhbHVlKSB7XG4gICAgICAgIGlmIChwcm9wZXJ0eVZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIEZpcmVmb3ggdGhyb3dzIGFuIGVycm9yIGlmIC5nZXRCQm94KCkgaXMgY2FsbGVkIG9uIGFuIFNWRyB0aGF0IGlzbid0IGF0dGFjaGVkIHRvIHRoZSBET00uXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmdldEJCb3goKVtuYW1lXSArIFwicHhcIjtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCIwcHhcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCBwcm9wZXJ0eVZhbHVlKTtcbiAgICB9O1xufVxucmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtcIlNWR0VsZW1lbnRcIiwgXCJ3aWR0aFwiLCBnZXREaW1lbnNpb24kMShcIndpZHRoXCIpXSk7XG5yZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiU1ZHRWxlbWVudFwiLCBcImhlaWdodFwiLCBnZXREaW1lbnNpb24kMShcImhlaWdodFwiKV0pO1xuXG4vLyBQcm9qZWN0XG4vKipcclxuICogQSBmYWtlIG5vcm1hbGl6YXRpb24gdXNlZCB0byBhbGxvdyB0aGUgXCJ0d2VlblwiIHByb3BlcnR5IGVhc3kgYWNjZXNzLlxyXG4gKi9cbmZ1bmN0aW9uIGdldFNldFR3ZWVuKGVsZW1lbnQsIHByb3BlcnR5VmFsdWUpIHtcbiAgICBpZiAocHJvcGVydHlWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbn1cbnJlZ2lzdGVyTm9ybWFsaXphdGlvbihbXCJFbGVtZW50XCIsIFwidHdlZW5cIiwgZ2V0U2V0VHdlZW5dKTtcblxuLy8gQXV0b21hdGljYWxseSBnZW5lcmF0ZWRcbnZhciBWRVJTSU9OID0gXCIyLjAuNlwiO1xuXG4vLyBQcm9qZWN0XG52YXIgVmVsb2NpdHkkJDEgPSBWZWxvY2l0eSQxO1xuLyoqXHJcbiAqIFRoZXNlIHBhcnRzIG9mIFZlbG9jaXR5IGFic29sdXRlbHkgbXVzdCBiZSBpbmNsdWRlZCwgZXZlbiBpZiB0aGV5J3JlIHVudXNlZCFcclxuICovXG52YXIgVmVsb2NpdHlTdGF0aWM7XG4oZnVuY3Rpb24gKFZlbG9jaXR5U3RhdGljKSB7XG4gICAgLyoqXHJcbiAgICAgKiBBY3Rpb25zIGNhbm5vdCBiZSByZXBsYWNlZCBpZiB0aGV5IGFyZSBpbnRlcm5hbCAoaGFzT3duUHJvcGVydHkgaXMgZmFsc2VcclxuICAgICAqIGJ1dCB0aGV5IHN0aWxsIGV4aXN0KS4gT3RoZXJ3aXNlIHRoZXkgY2FuIGJlIHJlcGxhY2VkIGJ5IHVzZXJzLlxyXG4gICAgICpcclxuICAgICAqIEFsbCBleHRlcm5hbCBtZXRob2QgY2FsbHMgc2hvdWxkIGJlIHVzaW5nIGFjdGlvbnMgcmF0aGVyIHRoYW4gc3ViLWNhbGxzXHJcbiAgICAgKiBvZiBWZWxvY2l0eSBpdHNlbGYuXHJcbiAgICAgKi9cbiAgICBWZWxvY2l0eVN0YXRpYy5BY3Rpb25zID0gQWN0aW9ucztcbiAgICAvKipcclxuICAgICAqIE91ciBrbm93biBlYXNpbmcgZnVuY3Rpb25zLlxyXG4gICAgICovXG4gICAgVmVsb2NpdHlTdGF0aWMuRWFzaW5ncyA9IEVhc2luZ3M7XG4gICAgLyoqXHJcbiAgICAgKiBUaGUgY3VycmVudGx5IHJlZ2lzdGVyZWQgc2VxdWVuY2VzLlxyXG4gICAgICovXG4gICAgVmVsb2NpdHlTdGF0aWMuU2VxdWVuY2VzID0gU2VxdWVuY2VzT2JqZWN0O1xuICAgIC8qKlxyXG4gICAgICogQ3VycmVudCBpbnRlcm5hbCBzdGF0ZSBvZiBWZWxvY2l0eS5cclxuICAgICAqL1xuICAgIFZlbG9jaXR5U3RhdGljLlN0YXRlID0gU3RhdGU7IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tc2hhZG93ZWQtdmFyaWFibGVcbiAgICAvKipcclxuICAgICAqIFZlbG9jaXR5IG9wdGlvbiBkZWZhdWx0cywgd2hpY2ggY2FuIGJlIG92ZXJyaWRlbiBieSB0aGUgdXNlci5cclxuICAgICAqL1xuICAgIFZlbG9jaXR5U3RhdGljLmRlZmF1bHRzID0gZGVmYXVsdHMkMTtcbiAgICAvKipcclxuICAgICAqIFVzZWQgdG8gcGF0Y2ggYW55IG9iamVjdCB0byBhbGxvdyBWZWxvY2l0eSBjaGFpbmluZy4gSW4gb3JkZXIgdG8gY2hhaW4gYW5cclxuICAgICAqIG9iamVjdCBtdXN0IGVpdGhlciBiZSB0cmVhdGFibGUgYXMgYW4gYXJyYXkgLSB3aXRoIGEgPGNvZGU+Lmxlbmd0aDwvY29kZT5cclxuICAgICAqIHByb3BlcnR5LCBhbmQgZWFjaCBtZW1iZXIgYSBOb2RlLCBvciBhIE5vZGUgZGlyZWN0bHkuXHJcbiAgICAgKlxyXG4gICAgICogQnkgZGVmYXVsdCBWZWxvY2l0eSB3aWxsIHRyeSB0byBwYXRjaCA8Y29kZT53aW5kb3c8L2NvZGU+LFxyXG4gICAgICogPGNvZGU+alF1ZXJ5PC9jb2RlPiwgPGNvZGU+WmVwdG88L2NvZGU+LCBhbmQgc2V2ZXJhbCBjbGFzc2VzIHRoYXQgcmV0dXJuXHJcbiAgICAgKiBOb2RlcyBvciBsaXN0cyBvZiBOb2Rlcy5cclxuICAgICAqL1xuICAgIFZlbG9jaXR5U3RhdGljLnBhdGNoID0gcGF0Y2g7XG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdG8gdHJ1ZSwgMSBvciAyIChtb3N0IHZlcmJvc2UpIHRvIG91dHB1dCBkZWJ1ZyBpbmZvIHRvIGNvbnNvbGUuXHJcbiAgICAgKi9cbiAgICBWZWxvY2l0eVN0YXRpYy5kZWJ1ZyA9IGZhbHNlO1xuICAgIC8qKlxyXG4gICAgICogSW4gbW9jayBtb2RlLCBhbGwgYW5pbWF0aW9ucyBhcmUgZm9yY2VkIHRvIGNvbXBsZXRlIGltbWVkaWF0ZWx5IHVwb24gdGhlXHJcbiAgICAgKiBuZXh0IHJBRiB0aWNrLiBJZiB0aGVyZSBhcmUgZnVydGhlciBhbmltYXRpb25zIHF1ZXVlZCB0aGVuIHRoZXkgd2lsbCBlYWNoXHJcbiAgICAgKiB0YWtlIG9uZSBzaW5nbGUgZnJhbWUgaW4gdHVybi4gTG9vcHMgYW5kIHJlcGVhdHMgd2lsbCBiZSBkaXNhYmxlZCB3aGlsZVxyXG4gICAgICogPGNvZGU+bW9jayA9IHRydWU8L2NvZGU+LlxyXG4gICAgICovXG4gICAgVmVsb2NpdHlTdGF0aWMubW9jayA9IGZhbHNlO1xuICAgIC8qKlxyXG4gICAgICogU2F2ZSBvdXIgdmVyc2lvbiBudW1iZXIgc29tZXdoZXJlIHZpc2libGUuXHJcbiAgICAgKi9cbiAgICBWZWxvY2l0eVN0YXRpYy52ZXJzaW9uID0gVkVSU0lPTjtcbiAgICAvKipcclxuICAgICAqIEFkZGVkIGFzIGEgZmFsbGJhY2sgZm9yIFwiaW1wb3J0IHtWZWxvY2l0eX0gZnJvbSAndmVsb2NpdHktYW5pbWF0ZSc7XCIuXHJcbiAgICAgKi9cbiAgICBWZWxvY2l0eVN0YXRpYy5WZWxvY2l0eSA9IFZlbG9jaXR5JDE7IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tc2hhZG93ZWQtdmFyaWFibGVcbn0pKFZlbG9jaXR5U3RhdGljIHx8IChWZWxvY2l0eVN0YXRpYyA9IHt9KSk7XG4vKiBJRSBkZXRlY3Rpb24uIEdpc3Q6IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2p1bGlhbnNoYXBpcm8vOTA5ODYwOSAqL1xudmFyIElFID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChkb2N1bWVudC5kb2N1bWVudE1vZGUpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50TW9kZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBpID0gNzsgaSA+IDQ7IGktLSkge1xuICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gXCI8IVwiICsgXCItLVwiICsgXCJbaWYgSUUgXCIgKyBpICsgXCJdPjxzcGFuPjwvc3Bhbj48IVtlbmRpZl0tLT5cIjtcbiAgICAgICAgICAgIGlmIChkaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzcGFuXCIpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGRpdiA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn0oKTtcbi8qKioqKioqKioqKioqKioqKipcclxuIFVuc3VwcG9ydGVkXHJcbiAqKioqKioqKioqKioqKioqKiovXG5pZiAoSUUgPD0gOCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlZlbG9jaXR5SlMgY2Fubm90IHJ1biBvbiBJbnRlcm5ldCBFeHBsb3JlciA4IG9yIGVhcmxpZXJcIik7XG59XG4vKioqKioqKioqKioqKioqKioqXHJcbiBGcmFtZXdvcmtzXHJcbiAqKioqKioqKioqKioqKioqKiovXG5pZiAod2luZG93KSB7XG4gICAgLypcclxuICAgICAqIEJvdGggalF1ZXJ5IGFuZCBaZXB0byBhbGxvdyB0aGVpciAkLmZuIG9iamVjdCB0byBiZSBleHRlbmRlZCB0byBhbGxvd1xyXG4gICAgICogd3JhcHBlZCBlbGVtZW50cyB0byBiZSBzdWJqZWN0ZWQgdG8gcGx1Z2luIGNhbGxzLiBJZiBlaXRoZXIgZnJhbWV3b3JrIGlzXHJcbiAgICAgKiBsb2FkZWQsIHJlZ2lzdGVyIGEgXCJ2ZWxvY2l0eVwiIGV4dGVuc2lvbiBwb2ludGluZyB0byBWZWxvY2l0eSdzIGNvcmVcclxuICAgICAqIGFuaW1hdGUoKSBtZXRob2QuIFZlbG9jaXR5IGFsc28gcmVnaXN0ZXJzIGl0c2VsZiBvbnRvIGEgZ2xvYmFsIGNvbnRhaW5lclxyXG4gICAgICogKHdpbmRvdy5qUXVlcnkgfHwgd2luZG93LlplcHRvIHx8IHdpbmRvdykgc28gdGhhdCBjZXJ0YWluIGZlYXR1cmVzIGFyZVxyXG4gICAgICogYWNjZXNzaWJsZSBiZXlvbmQganVzdCBhIHBlci1lbGVtZW50IHNjb3BlLiBBY2NvcmRpbmdseSwgVmVsb2NpdHkgY2FuXHJcbiAgICAgKiBib3RoIGFjdCBvbiB3cmFwcGVkIERPTSBlbGVtZW50cyBhbmQgc3RhbmQgYWxvbmUgZm9yIHRhcmdldGluZyByYXcgRE9NXHJcbiAgICAgKiBlbGVtZW50cy5cclxuICAgICAqL1xuICAgIHZhciBqUXVlcnkgPSB3aW5kb3cualF1ZXJ5LFxuICAgICAgICBaZXB0byA9IHdpbmRvdy5aZXB0bztcbiAgICBwYXRjaCh3aW5kb3csIHRydWUpO1xuICAgIHBhdGNoKEVsZW1lbnQgJiYgRWxlbWVudC5wcm90b3R5cGUpO1xuICAgIHBhdGNoKE5vZGVMaXN0ICYmIE5vZGVMaXN0LnByb3RvdHlwZSk7XG4gICAgcGF0Y2goSFRNTENvbGxlY3Rpb24gJiYgSFRNTENvbGxlY3Rpb24ucHJvdG90eXBlKTtcbiAgICBwYXRjaChqUXVlcnksIHRydWUpO1xuICAgIHBhdGNoKGpRdWVyeSAmJiBqUXVlcnkuZm4pO1xuICAgIHBhdGNoKFplcHRvLCB0cnVlKTtcbiAgICBwYXRjaChaZXB0byAmJiBaZXB0by5mbik7XG59XG4vLyBNYWtlIHN1cmUgdGhhdCB0aGUgdmFsdWVzIHdpdGhpbiBWZWxvY2l0eSBhcmUgcmVhZC1vbmx5IGFuZCB1cGF0Y2hhYmxlLlxuXG52YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChwcm9wZXJ0eSkge1xuICAgIGlmIChWZWxvY2l0eVN0YXRpYy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgcHJvcGVydHkgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkkMShWZWxvY2l0eSQkMSwgcHJvcGVydHksIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gVmVsb2NpdHlTdGF0aWNbcHJvcGVydHldO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgVmVsb2NpdHlTdGF0aWNbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkkMShWZWxvY2l0eSQkMSwgcHJvcGVydHksIFZlbG9jaXR5U3RhdGljW3Byb3BlcnR5XSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5mb3IgKHZhciBwcm9wZXJ0eSBpbiBWZWxvY2l0eVN0YXRpYykge1xuICAgIF9sb29wKHByb3BlcnR5KTtcbn1cbk9iamVjdC5mcmVlemUoVmVsb2NpdHkkJDEpO1xuXG4vLyBQcm9qZWN0XG52YXIgcnhQZXJjZW50cyA9IC8oXFxkKlxcLlxcZCt8XFxkK1xcLj98ZnJvbXx0bykvZztcbmZ1bmN0aW9uIGV4cGFuZFNlcXVlbmNlKGFuaW1hdGlvbiwgc2VxdWVuY2UpIHtcbiAgICB2YXIgdHdlZW5zID0gYW5pbWF0aW9uLnR3ZWVucyA9IE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgICAgIGVsZW1lbnQgPSBhbmltYXRpb24uZWxlbWVudDtcbiAgICBmb3IgKHZhciBwcm9wZXJ0eU5hbWUgaW4gc2VxdWVuY2UudHdlZW5zKSB7XG4gICAgICAgIGlmIChzZXF1ZW5jZS50d2VlbnMuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgICAgdmFyIGZuID0gZ2V0Tm9ybWFsaXphdGlvbihlbGVtZW50LCBwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgaWYgKCFmbiAmJiBwcm9wZXJ0eU5hbWUgIT09IFwidHdlZW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChWZWxvY2l0eSQkMS5kZWJ1Zykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNraXBwaW5nIFtcIiArIHByb3BlcnR5TmFtZSArIFwiXSBkdWUgdG8gYSBsYWNrIG9mIGJyb3dzZXIgc3VwcG9ydC5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHdlZW5zW3Byb3BlcnR5TmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgZm46IGZuLFxuICAgICAgICAgICAgICAgIHNlcXVlbmNlOiBzZXF1ZW5jZS50d2VlbnNbcHJvcGVydHlOYW1lXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxyXG4gKiBVc2VkIHRvIHJlZ2lzdGVyIGEgc2VxdWVuY2UuIFRoaXMgc2hvdWxkIG5ldmVyIGJlIGNhbGxlZCBieSB1c2Vyc1xyXG4gKiBkaXJlY3RseSwgaW5zdGVhZCBpdCBzaG91bGQgYmUgY2FsbGVkIHZpYSBhbiBhY3Rpb246PGJyLz5cclxuICogPGNvZGU+VmVsb2NpdHkoXCJyZWdpc3RlclNlcXVlbmNlXCIsIFwiXCJuYW1lXCIsIFZlbG9jaXR5U2VxdWVuY2UpOzwvY29kZT5cclxuICovXG5mdW5jdGlvbiByZWdpc3RlclNlcXVlbmNlKGFyZ3MpIHtcbiAgICBpZiAoaXNQbGFpbk9iamVjdChhcmdzWzBdKSkge1xuICAgICAgICBmb3IgKHZhciBuYW1lIGluIGFyZ3NbMF0pIHtcbiAgICAgICAgICAgIGlmIChhcmdzWzBdLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJTZXF1ZW5jZShbbmFtZSwgYXJnc1swXVtuYW1lXV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1N0cmluZyhhcmdzWzBdKSkge1xuICAgICAgICB2YXIgX25hbWUgPSBhcmdzWzBdLFxuICAgICAgICAgICAgc2VxdWVuY2UgPSBhcmdzWzFdO1xuICAgICAgICBpZiAoIWlzU3RyaW5nKF9uYW1lKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAncmVnaXN0ZXJTZXF1ZW5jZScgbmFtZSB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCBfbmFtZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzUGxhaW5PYmplY3Qoc2VxdWVuY2UpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdyZWdpc3RlclNlcXVlbmNlJyBzZXF1ZW5jZSB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCBfbmFtZSwgc2VxdWVuY2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKFNlcXVlbmNlc09iamVjdFtfbmFtZV0pIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBSZXBsYWNpbmcgbmFtZWQgc2VxdWVuY2U6XCIsIF9uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwZXJjZW50cyA9IHt9LFxuICAgICAgICAgICAgICAgIHN0ZXBzID0gbmV3IEFycmF5KDEwMCksXG4gICAgICAgICAgICAgICAgcHJvcGVydGllcyA9IFtdLFxuICAgICAgICAgICAgICAgIHNlcXVlbmNlTGlzdCA9IFNlcXVlbmNlc09iamVjdFtfbmFtZV0gPSB7fSxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IHZhbGlkYXRlRHVyYXRpb24oc2VxdWVuY2UuZHVyYXRpb24pO1xuICAgICAgICAgICAgc2VxdWVuY2VMaXN0LnR3ZWVucyA9IHt9O1xuICAgICAgICAgICAgaWYgKGlzTnVtYmVyKGR1cmF0aW9uKSkge1xuICAgICAgICAgICAgICAgIHNlcXVlbmNlTGlzdC5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgcGFydCBpbiBzZXF1ZW5jZSkge1xuICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZS5oYXNPd25Qcm9wZXJ0eShwYXJ0KSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5cyA9IFN0cmluZyhwYXJ0KS5tYXRjaChyeFBlcmNlbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGtleXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGVyY2VudCA9IGtleSA9PT0gXCJmcm9tXCIgPyAwIDoga2V5ID09PSBcInRvXCIgPyAxMDAgOiBwYXJzZUZsb2F0KGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZXJjZW50IDwgMCB8fCBwZXJjZW50ID4gMTAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gdXNlIGFuIGludmFsaWQgdmFsdWUgYXMgYSBwZXJjZW50YWdlICgwIDw9IG4gPD0gMTAwKTpcIiwgX25hbWUsIHBlcmNlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzTmFOKHBlcmNlbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gdXNlIGFuIGludmFsaWQgbnVtYmVyIGFzIGEgcGVyY2VudGFnZTpcIiwgX25hbWUsIHBhcnQsIGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBlcmNlbnRzW1N0cmluZyhwZXJjZW50KV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJjZW50c1tTdHJpbmcocGVyY2VudCldID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJjZW50c1tTdHJpbmcocGVyY2VudCldLnB1c2gocGFydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBzZXF1ZW5jZVtwYXJ0XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcHJvcGVydGllcy5pbmNsdWRlcyhwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKHByb3BlcnR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG9yZGVyZWRQZXJjZW50cyA9IE9iamVjdC5rZXlzKHBlcmNlbnRzKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgdmFyIGExID0gcGFyc2VGbG9hdChhKSxcbiAgICAgICAgICAgICAgICAgICAgYjEgPSBwYXJzZUZsb2F0KGIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhMSA+IGIxID8gMSA6IGExIDwgYjEgPyAtMSA6IDA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG9yZGVyZWRQZXJjZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICBzdGVwcy5wdXNoLmFwcGx5KHBlcmNlbnRzW2tleV0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gcHJvcGVydGllc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3Byb3BlcnR5ID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0cyA9IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHlOYW1lID0gY2FtZWxDYXNlKF9wcm9wZXJ0eSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMyA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IG9yZGVyZWRQZXJjZW50c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMzsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IChfc3RlcDMgPSBfaXRlcmF0b3IzLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfa2V5ID0gX3N0ZXAzLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjYgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I2ID0gcGVyY2VudHNbX2tleV1bU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDY7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjYgPSAoX3N0ZXA2ID0gX2l0ZXJhdG9yNi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfdmFsdWUgPSBfc3RlcDYudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGVwUHJvcGVydGllcyA9IHNlcXVlbmNlW192YWx1ZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RlcFByb3BlcnRpZXNbcHJvcGVydHlOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goaXNTdHJpbmcoc3RlcFByb3BlcnRpZXNbcHJvcGVydHlOYW1lXSkgPyBzdGVwUHJvcGVydGllc1twcm9wZXJ0eU5hbWVdIDogc3RlcFByb3BlcnRpZXNbcHJvcGVydHlOYW1lXVswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3I2ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3I2ID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ICYmIF9pdGVyYXRvcjYucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyAmJiBfaXRlcmF0b3IzLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IzLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlYWxTZXF1ZW5jZSA9IGZpbmRQYXR0ZXJuKHBhcnRzLCBwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWFsU2VxdWVuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3I0ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yNCA9IG9yZGVyZWRQZXJjZW50c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IChfc3RlcDQgPSBfaXRlcmF0b3I0Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9rZXkyID0gX3N0ZXA0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjUgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yNSA9IHBlcmNlbnRzW19rZXkyXVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNTsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IChfc3RlcDUgPSBfaXRlcmF0b3I1Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBfc3RlcDUudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdpbmFsUHJvcGVydHkgPSBzZXF1ZW5jZVt2YWx1ZV1bcHJvcGVydHlOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsUHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9yaWdpbmFsUHJvcGVydHkpICYmIG9yaWdpbmFsUHJvcGVydHkubGVuZ3RoID4gMSAmJiAoaXNTdHJpbmcob3JpZ2luYWxQcm9wZXJ0eVsxXSkgfHwgQXJyYXkuaXNBcnJheShvcmlnaW5hbFByb3BlcnR5WzFdKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFsU2VxdWVuY2VbaW5kZXhdLmVhc2luZyA9IHZhbGlkYXRlRWFzaW5nKG9yaWdpbmFsUHJvcGVydHlbMV0sIHNlcXVlbmNlTGlzdC5kdXJhdGlvbiB8fCBERUZBVUxUX0RVUkFUSU9OKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWxTZXF1ZW5jZVtpbmRleCsrXS5wZXJjZW50ID0gcGFyc2VGbG9hdChfa2V5MikgLyAxMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yNSA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSAmJiBfaXRlcmF0b3I1LnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNS5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjQgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgJiYgX2l0ZXJhdG9yNC5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I0LnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlTGlzdC50d2VlbnNbcHJvcGVydHlOYW1lXSA9IHJlYWxTZXF1ZW5jZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxucmVnaXN0ZXJBY3Rpb24oW1wicmVnaXN0ZXJTZXF1ZW5jZVwiLCByZWdpc3RlclNlcXVlbmNlXSwgdHJ1ZSk7XG5cbi8vIFByb2plY3RcbnZhciBnbG9iYWxQcm9taXNlID0gdm9pZCAwO1xudHJ5IHtcbiAgICBnbG9iYWxQcm9taXNlID0gUHJvbWlzZTtcbn0gY2F0Y2ggKCAvKiovX2EpIHsvKiovfVxudmFyIG5vUHJvbWlzZU9wdGlvbiA9IFwiLCBpZiB0aGF0IGlzIGRlbGliZXJhdGUgdGhlbiBwYXNzIGBwcm9taXNlUmVqZWN0RW1wdHk6ZmFsc2VgIGFzIGFuIG9wdGlvblwiO1xuLyoqXHJcbiAqIFBhdGNoIGEgVmVsb2NpdHlSZXN1bHQgd2l0aCBhIFByb21pc2UuXHJcbiAqL1xuZnVuY3Rpb24gcGF0Y2hQcm9taXNlKHByb21pc2VPYmplY3QsIHJlc3VsdCkge1xuICAgIGRlZmluZVByb3BlcnR5JDEocmVzdWx0LCBcInByb21pc2VcIiwgcHJvbWlzZU9iamVjdCk7XG4gICAgZGVmaW5lUHJvcGVydHkkMShyZXN1bHQsIFwidGhlblwiLCBwcm9taXNlT2JqZWN0LnRoZW4uYmluZChwcm9taXNlT2JqZWN0KSk7XG4gICAgZGVmaW5lUHJvcGVydHkkMShyZXN1bHQsIFwiY2F0Y2hcIiwgcHJvbWlzZU9iamVjdC5jYXRjaC5iaW5kKHByb21pc2VPYmplY3QpKTtcbiAgICBpZiAocHJvbWlzZU9iamVjdC5maW5hbGx5KSB7XG4gICAgICAgIC8vIFNlbWktc3RhbmRhcmRcbiAgICAgICAgZGVmaW5lUHJvcGVydHkkMShyZXN1bHQsIFwiZmluYWxseVwiLCBwcm9taXNlT2JqZWN0LmZpbmFsbHkuYmluZChwcm9taXNlT2JqZWN0KSk7XG4gICAgfVxufVxuLyogdHNsaW50OmVuYWJsZTptYXgtbGluZS1sZW5ndGggKi9cbmZ1bmN0aW9uIFZlbG9jaXR5JDEoKSB7XG4gICAgdmFyXG4gICAgLyoqXHJcbiAgICAgKiBBIHNob3J0Y3V0IHRvIHRoZSBkZWZhdWx0IG9wdGlvbnMuXHJcbiAgICAgKi9cbiAgICBkZWZhdWx0cyQkMSA9IGRlZmF1bHRzJDEsXG5cbiAgICAvKipcclxuICAgICAqIENhY2hlIG9mIHRoZSBmaXJzdCBhcmd1bWVudCAtIHRoaXMgaXMgdXNlZCBvZnRlbiBlbm91Z2ggdG8gYmUgc2F2ZWQuXHJcbiAgICAgKi9cbiAgICBhcmdzMCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1swXSxcblxuICAgIC8qKlxyXG4gICAgICogVG8gYWxsb3cgZm9yIGV4cHJlc3NpdmUgQ29mZmVlU2NyaXB0IGNvZGUsIFZlbG9jaXR5IHN1cHBvcnRzIGFuXHJcbiAgICAgKiBhbHRlcm5hdGl2ZSBzeW50YXggaW4gd2hpY2ggXCJlbGVtZW50c1wiIChvciBcImVcIiksIFwicHJvcGVydGllc1wiIChvclxyXG4gICAgICogXCJwXCIpLCBhbmQgXCJvcHRpb25zXCIgKG9yIFwib1wiKSBvYmplY3RzIGFyZSBkZWZpbmVkIG9uIGEgY29udGFpbmVyXHJcbiAgICAgKiBvYmplY3QgdGhhdCdzIHBhc3NlZCBpbiBhcyBWZWxvY2l0eSdzIHNvbGUgYXJndW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogTm90ZTogU29tZSBicm93c2VycyBhdXRvbWF0aWNhbGx5IHBvcHVsYXRlIGFyZ3VtZW50cyB3aXRoIGFcclxuICAgICAqIFwicHJvcGVydGllc1wiIG9iamVjdC4gV2UgZGV0ZWN0IGl0IGJ5IGNoZWNraW5nIGZvciBpdHMgZGVmYXVsdFxyXG4gICAgICogXCJuYW1lc1wiIHByb3BlcnR5LlxyXG4gICAgICovXG4gICAgLy8gVE9ETzogQ29uZmlybSB3aGljaCBicm93c2VycyAtIGlmIDw9SUU4IHRoZSB3ZSBjYW4gZHJvcCBjb21wbGV0ZWx5XG4gICAgc3ludGFjdGljU3VnYXIgPSBpc1BsYWluT2JqZWN0KGFyZ3MwKSAmJiAoYXJnczAucCB8fCBpc1BsYWluT2JqZWN0KGFyZ3MwLnByb3BlcnRpZXMpICYmICFhcmdzMC5wcm9wZXJ0aWVzLm5hbWVzIHx8IGlzU3RyaW5nKGFyZ3MwLnByb3BlcnRpZXMpKTtcbiAgICB2YXJcbiAgICAvKipcclxuICAgICAqICBXaGVuIFZlbG9jaXR5IGlzIGNhbGxlZCB2aWEgdGhlIHV0aWxpdHkgZnVuY3Rpb24gKFZlbG9jaXR5KCkpLFxyXG4gICAgICogZWxlbWVudHMgYXJlIGV4cGxpY2l0bHkgcGFzc2VkIGluIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXIuIFRodXMsXHJcbiAgICAgKiBhcmd1bWVudCBwb3NpdGlvbmluZyB2YXJpZXMuXHJcbiAgICAgKi9cbiAgICBhcmd1bWVudEluZGV4ID0gMCxcblxuICAgIC8qKlxyXG4gICAgICogVGhlIGxpc3Qgb2YgZWxlbWVudHMsIGV4dGVuZGVkIHdpdGggUHJvbWlzZSBhbmQgVmVsb2NpdHkuXHJcbiAgICAgKi9cbiAgICBlbGVtZW50cyA9IHZvaWQgMCxcblxuICAgIC8qKlxyXG4gICAgICogVGhlIHByb3BlcnRpZXMgYmVpbmcgYW5pbWF0ZWQuIFRoaXMgY2FuIGJlIGEgc3RyaW5nLCBpbiB3aGljaCBjYXNlIGl0XHJcbiAgICAgKiBpcyBlaXRoZXIgYSBmdW5jdGlvbiBmb3IgdGhlc2UgZWxlbWVudHMsIG9yIGl0IGlzIGEgXCJuYW1lZFwiIGFuaW1hdGlvblxyXG4gICAgICogc2VxdWVuY2UgdG8gdXNlIGluc3RlYWQuIE5hbWVkIHNlcXVlbmNlcyBzdGFydCB3aXRoIGVpdGhlciBcImNhbGxvdXQuXCJcclxuICAgICAqIG9yIFwidHJhbnNpdGlvbi5cIi4gV2hlbiB1c2VkIGFzIGEgY2FsbG91dCB0aGUgdmFsdWVzIHdpbGwgYmUgcmVzZXRcclxuICAgICAqIGFmdGVyIGZpbmlzaGluZy4gV2hlbiB1c2VkIGFzIGEgdHJhbnN0aXRpb24gdGhlbiB0aGVyZSBpcyBubyBzcGVjaWFsXHJcbiAgICAgKiBoYW5kbGluZyBhZnRlciBmaW5pc2hpbmcuXHJcbiAgICAgKi9cbiAgICBwcm9wZXJ0aWVzTWFwID0gdm9pZCAwLFxuXG4gICAgLyoqXHJcbiAgICAgKiBPcHRpb25zIHN1cHBsaWVkLCB0aGlzIHdpbGwgYmUgbWFwcGVkIGFuZCB2YWxpZGF0ZWQgaW50b1xyXG4gICAgICogPGNvZGU+b3B0aW9uczwvY29kZT4uXHJcbiAgICAgKi9cbiAgICBvcHRpb25zTWFwID0gdm9pZCAwLFxuXG4gICAgLyoqXHJcbiAgICAgKiBJZiBjYWxsZWQgdmlhIGEgY2hhaW4gdGhlbiB0aGlzIGNvbnRhaW5zIHRoZSA8Yj5sYXN0PC9iPiBjYWxsc1xyXG4gICAgICogYW5pbWF0aW9ucy4gSWYgdGhpcyBkb2VzIG5vdCBoYXZlIGEgdmFsdWUgdGhlbiBhbnkgYWNjZXNzIHRvIHRoZVxyXG4gICAgICogZWxlbWVudCdzIGFuaW1hdGlvbnMgbmVlZHMgdG8gYmUgdG8gdGhlIGN1cnJlbnRseS1ydW5uaW5nIG9uZXMuXHJcbiAgICAgKi9cbiAgICBhbmltYXRpb25zID0gdm9pZCAwLFxuXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgcHJvbWlzZSB0aGF0IGlzIHJldHVybmVkLlxyXG4gICAgICovXG4gICAgcHJvbWlzZSA9IHZvaWQgMCxcblxuICAgIC8vIFVzZWQgd2hlbiB0aGUgYW5pbWF0aW9uIGlzIGZpbmlzaGVkXG4gICAgcmVzb2x2ZXIgPSB2b2lkIDAsXG5cbiAgICAvLyBVc2VkIHdoZW4gdGhlcmUgd2FzIGFuIGlzc3VlIHdpdGggb25lIG9yIG1vcmUgb2YgdGhlIFZlbG9jaXR5IGFyZ3VtZW50c1xuICAgIHJlamVjdGVyID0gdm9pZCAwO1xuICAgIC8vY29uc29sZS5sb2coYFZlbG9jaXR5YCwgYXJncylcbiAgICAvLyBGaXJzdCBnZXQgdGhlIGVsZW1lbnRzLCBhbmQgdGhlIGFuaW1hdGlvbnMgY29ubmVjdGVkIHRvIHRoZSBsYXN0IGNhbGwgaWZcbiAgICAvLyB0aGlzIGlzIGNoYWluZWQuXG4gICAgLy8gVE9ETzogQ2xlYW4gdGhpcyB1cCBhIGJpdFxuICAgIC8vIFRPRE86IFRocm93IGVycm9yIGlmIHRoZSBjaGFpbiBpcyBjYWxsZWQgd2l0aCBlbGVtZW50cyBhcyB0aGUgZmlyc3QgYXJndW1lbnQuIGlzVmVsb2NpdHlSZXN1bHQodGhpcykgJiYgKCAoaXNOb2RlKGFyZzApIHx8IGlzV3JhcHBlZChhcmcwKSkgJiYgYXJnMCA9PSB0aGlzKVxuICAgIGlmIChpc05vZGUodGhpcykpIHtcbiAgICAgICAgLy8gVGhpcyBpcyBmcm9tIGEgY2hhaW4gc3VjaCBhcyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIlwiKS52ZWxvY2l0eSguLi4pXG4gICAgICAgIGVsZW1lbnRzID0gW3RoaXNdO1xuICAgIH0gZWxzZSBpZiAoaXNXcmFwcGVkKHRoaXMpKSB7XG4gICAgICAgIC8vIFRoaXMgbWlnaHQgYmUgYSBjaGFpbiBmcm9tIHNvbWV0aGluZyBlbHNlLCBidXQgaWYgY2hhaW5lZCBmcm9tIGFcbiAgICAgICAgLy8gcHJldmlvdXMgVmVsb2NpdHkoKSBjYWxsIHRoZW4gZ3JhYiB0aGUgYW5pbWF0aW9ucyBpdCdzIHJlbGF0ZWQgdG8uXG4gICAgICAgIGVsZW1lbnRzID0gY2xvbmVBcnJheSh0aGlzKTtcbiAgICAgICAgaWYgKGlzVmVsb2NpdHlSZXN1bHQodGhpcykpIHtcbiAgICAgICAgICAgIGFuaW1hdGlvbnMgPSB0aGlzLnZlbG9jaXR5LmFuaW1hdGlvbnM7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHN5bnRhY3RpY1N1Z2FyKSB7XG4gICAgICAgIGVsZW1lbnRzID0gY2xvbmVBcnJheShhcmdzMC5lbGVtZW50cyB8fCBhcmdzMC5lKTtcbiAgICAgICAgYXJndW1lbnRJbmRleCsrO1xuICAgIH0gZWxzZSBpZiAoaXNOb2RlKGFyZ3MwKSkge1xuICAgICAgICBlbGVtZW50cyA9IGNsb25lQXJyYXkoW2FyZ3MwXSk7XG4gICAgICAgIGFyZ3VtZW50SW5kZXgrKztcbiAgICB9IGVsc2UgaWYgKGlzV3JhcHBlZChhcmdzMCkpIHtcbiAgICAgICAgZWxlbWVudHMgPSBjbG9uZUFycmF5KGFyZ3MwKTtcbiAgICAgICAgYXJndW1lbnRJbmRleCsrO1xuICAgIH1cbiAgICAvLyBBbGxvdyBlbGVtZW50cyB0byBiZSBjaGFpbmVkLlxuICAgIGlmIChlbGVtZW50cykge1xuICAgICAgICBkZWZpbmVQcm9wZXJ0eSQxKGVsZW1lbnRzLCBcInZlbG9jaXR5XCIsIFZlbG9jaXR5JDEuYmluZChlbGVtZW50cykpO1xuICAgICAgICBpZiAoYW5pbWF0aW9ucykge1xuICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkkMShlbGVtZW50cy52ZWxvY2l0eSwgXCJhbmltYXRpb25zXCIsIGFuaW1hdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIE5leHQgZ2V0IHRoZSBwcm9wZXJ0aWVzTWFwIGFuZCBvcHRpb25zLlxuICAgIGlmIChzeW50YWN0aWNTdWdhcikge1xuICAgICAgICBwcm9wZXJ0aWVzTWFwID0gZ2V0VmFsdWUoYXJnczAucHJvcGVydGllcywgYXJnczAucCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIF9yZWY7XG5cbiAgICAgICAgLy8gVE9ETzogU2hvdWxkIGJlIHBvc3NpYmxlIHRvIGNhbGwgVmVsb2NpdHkoXCJwYXVzZUFsbFwiKSAtIGN1cnJlbnRseSBub3QgcG9zc2libGVcbiAgICAgICAgcHJvcGVydGllc01hcCA9IChfcmVmID0gYXJndW1lbnRJbmRleCsrLCBhcmd1bWVudHMubGVuZ3RoIDw9IF9yZWYgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbX3JlZl0pO1xuICAgIH1cbiAgICAvLyBHZXQgYW55IG9wdGlvbnMgbWFwIHBhc3NlZCBpbiBhcyBhcmd1bWVudHMgZmlyc3QsIGV4cGFuZCBhbnkgZGlyZWN0XG4gICAgLy8gb3B0aW9ucyBpZiBwb3NzaWJsZS5cbiAgICB2YXIgaXNSZXZlcnNlID0gcHJvcGVydGllc01hcCA9PT0gXCJyZXZlcnNlXCIsXG4gICAgICAgIGlzQWN0aW9uID0gIWlzUmV2ZXJzZSAmJiBpc1N0cmluZyhwcm9wZXJ0aWVzTWFwKSxcbiAgICAgICAgbWF5YmVTZXF1ZW5jZSA9IGlzQWN0aW9uICYmIFNlcXVlbmNlc09iamVjdFtwcm9wZXJ0aWVzTWFwXSxcbiAgICAgICAgb3B0cyA9IHN5bnRhY3RpY1N1Z2FyID8gZ2V0VmFsdWUoYXJnczAub3B0aW9ucywgYXJnczAubykgOiBhcmd1bWVudHMubGVuZ3RoIDw9IGFyZ3VtZW50SW5kZXggPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbYXJndW1lbnRJbmRleF07XG4gICAgaWYgKGlzUGxhaW5PYmplY3Qob3B0cykpIHtcbiAgICAgICAgb3B0aW9uc01hcCA9IG9wdHM7XG4gICAgfVxuICAgIC8vIENyZWF0ZSB0aGUgcHJvbWlzZSBpZiBzdXBwb3J0ZWQgYW5kIHdhbnRlZC5cbiAgICBpZiAoZ2xvYmFsUHJvbWlzZSAmJiBnZXRWYWx1ZShvcHRpb25zTWFwICYmIG9wdGlvbnNNYXAucHJvbWlzZSwgZGVmYXVsdHMkJDEucHJvbWlzZSkpIHtcbiAgICAgICAgcHJvbWlzZSA9IG5ldyBnbG9iYWxQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHJlamVjdGVyID0gcmVqZWN0O1xuICAgICAgICAgICAgLy8gSU1QT1JUQU5UOlxuICAgICAgICAgICAgLy8gSWYgYSByZXNvbHZlciB0cmllcyB0byBydW4gb24gYSBQcm9taXNlIHRoZW4gaXQgd2lsbCB3YWl0IHVudGlsXG4gICAgICAgICAgICAvLyB0aGF0IFByb21pc2UgcmVzb2x2ZXMgLSBidXQgaW4gdGhpcyBjYXNlIHdlJ3JlIHJ1bm5pbmcgb24gb3VyIG93blxuICAgICAgICAgICAgLy8gUHJvbWlzZSwgc28gbmVlZCB0byBtYWtlIHN1cmUgaXQncyBub3Qgc2VlbiBhcyBvbmUuIFJlbW92aW5nXG4gICAgICAgICAgICAvLyB0aGVzZSB2YWx1ZXMgZm9yIHRoZSBkdXJhdGlvbiBvZiB0aGUgcmVzb2x2ZS5cbiAgICAgICAgICAgIC8vIER1ZSB0byBiZWluZyBhbiBhc3luYyBjYWxsLCB0aGV5IHNob3VsZCBiZSBiYWNrIHRvIFwibm9ybWFsXCJcbiAgICAgICAgICAgIC8vIGJlZm9yZSB0aGUgPGNvZGU+LnRoZW4oKTwvY29kZT4gZnVuY3Rpb24gZ2V0cyBjYWxsZWQuXG4gICAgICAgICAgICByZXNvbHZlciA9IGZ1bmN0aW9uIHJlc29sdmVyKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGlmIChpc1ZlbG9jaXR5UmVzdWx0KHJlc3VsdCkgJiYgcmVzdWx0LnByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJlc3VsdC50aGVuO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVzdWx0LmNhdGNoO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVzdWx0LmZpbmFsbHk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hQcm9taXNlKHJlc3VsdC5wcm9taXNlLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGVsZW1lbnRzKSB7XG4gICAgICAgICAgICBwYXRjaFByb21pc2UocHJvbWlzZSwgZWxlbWVudHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChwcm9taXNlKSB7XG4gICAgICAgIHZhciBvcHRpb25Qcm9taXNlUmVqZWN0RW1wdHkgPSBvcHRpb25zTWFwICYmIG9wdGlvbnNNYXAucHJvbWlzZVJlamVjdEVtcHR5LFxuICAgICAgICAgICAgcHJvbWlzZVJlamVjdEVtcHR5ID0gZ2V0VmFsdWUob3B0aW9uUHJvbWlzZVJlamVjdEVtcHR5LCBkZWZhdWx0cyQkMS5wcm9taXNlUmVqZWN0RW1wdHkpO1xuICAgICAgICBpZiAoIWVsZW1lbnRzICYmICFpc0FjdGlvbikge1xuICAgICAgICAgICAgaWYgKHByb21pc2VSZWplY3RFbXB0eSkge1xuICAgICAgICAgICAgICAgIHJlamVjdGVyKFwiVmVsb2NpdHk6IE5vIGVsZW1lbnRzIHN1cHBsaWVkXCIgKyAoaXNCb29sZWFuKG9wdGlvblByb21pc2VSZWplY3RFbXB0eSkgPyBcIlwiIDogbm9Qcm9taXNlT3B0aW9uKSArIFwiLiBBYm9ydGluZy5cIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc29sdmVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIXByb3BlcnRpZXNNYXApIHtcbiAgICAgICAgICAgIGlmIChwcm9taXNlUmVqZWN0RW1wdHkpIHtcbiAgICAgICAgICAgICAgICByZWplY3RlcihcIlZlbG9jaXR5OiBObyBwcm9wZXJ0aWVzIHN1cHBsaWVkXCIgKyAoaXNCb29sZWFuKG9wdGlvblByb21pc2VSZWplY3RFbXB0eSkgPyBcIlwiIDogbm9Qcm9taXNlT3B0aW9uKSArIFwiLiBBYm9ydGluZy5cIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc29sdmVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFlbGVtZW50cyAmJiAhaXNBY3Rpb24gfHwgIXByb3BlcnRpZXNNYXApIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIC8vIE5PVEU6IENhbid0IHVzZSBpc0FjdGlvbiBoZXJlIGR1ZSB0byB0eXBlIGluZmVyZW5jZSAtIHRoZXJlIGFyZSBjYWxsYmFja3NcbiAgICAvLyBiZXR3ZWVuIHNvIHRoZSB0eXBlIGlzbid0IGNvbnNpZGVyZWQgc2FmZS5cbiAgICBpZiAoaXNBY3Rpb24pIHtcbiAgICAgICAgdmFyIGFjdGlvbkFyZ3MgPSBbXSxcbiAgICAgICAgICAgIHByb21pc2VIYW5kbGVyID0gcHJvbWlzZSAmJiB7XG4gICAgICAgICAgICBfcHJvbWlzZTogcHJvbWlzZSxcbiAgICAgICAgICAgIF9yZXNvbHZlcjogcmVzb2x2ZXIsXG4gICAgICAgICAgICBfcmVqZWN0ZXI6IHJlamVjdGVyXG4gICAgICAgIH07XG4gICAgICAgIHdoaWxlIChhcmd1bWVudEluZGV4IDwgYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIF9yZWYyO1xuXG4gICAgICAgICAgICBhY3Rpb25BcmdzLnB1c2goKF9yZWYyID0gYXJndW1lbnRJbmRleCsrLCBhcmd1bWVudHMubGVuZ3RoIDw9IF9yZWYyID8gdW5kZWZpbmVkIDogYXJndW1lbnRzW19yZWYyXSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFZlbG9jaXR5J3MgYmVoYXZpb3IgaXMgY2F0ZWdvcml6ZWQgaW50byBcImFjdGlvbnNcIi4gSWYgYSBzdHJpbmcgaXNcbiAgICAgICAgLy8gcGFzc2VkIGluIGluc3RlYWQgb2YgYSBwcm9wZXJ0aWVzTWFwIHRoZW4gdGhhdCB3aWxsIGNhbGwgYSBmdW5jdGlvblxuICAgICAgICAvLyB0byBkbyBzb21ldGhpbmcgc3BlY2lhbCB0byB0aGUgYW5pbWF0aW9uIGxpbmtlZC5cbiAgICAgICAgLy8gVGhlcmUgaXMgb25lIHNwZWNpYWwgY2FzZSAtIFwicmV2ZXJzZVwiIC0gd2hpY2ggaXMgaGFuZGxlZCBkaWZmZXJlbnRseSxcbiAgICAgICAgLy8gYnkgYmVpbmcgc3RvcmVkIG9uIHRoZSBhbmltYXRpb24gYW5kIHRoZW4gZXhwYW5kZWQgd2hlbiB0aGUgYW5pbWF0aW9uXG4gICAgICAgIC8vIHN0YXJ0cy5cbiAgICAgICAgdmFyIGFjdGlvbiA9IHByb3BlcnRpZXNNYXAucmVwbGFjZSgvXFwuLiokLywgXCJcIiksXG4gICAgICAgICAgICBjYWxsYmFjayA9IEFjdGlvbnNbYWN0aW9uXTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gY2FsbGJhY2soYWN0aW9uQXJncywgZWxlbWVudHMsIHByb21pc2VIYW5kbGVyLCBwcm9wZXJ0aWVzTWFwKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudHMgfHwgcHJvbWlzZTtcbiAgICAgICAgfSBlbHNlIGlmICghbWF5YmVTZXF1ZW5jZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlZlbG9jaXR5SlM6IEZpcnN0IGFyZ3VtZW50IChcIiArIHByb3BlcnRpZXNNYXAgKyBcIikgd2FzIG5vdCBhIHByb3BlcnR5IG1hcCwgYSBrbm93biBhY3Rpb24sIG9yIGEgcmVnaXN0ZXJlZCByZWRpcmVjdC4gQWJvcnRpbmcuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBoYXNWYWxpZER1cmF0aW9uID0gdm9pZCAwO1xuICAgIGlmIChpc1BsYWluT2JqZWN0KHByb3BlcnRpZXNNYXApIHx8IGlzUmV2ZXJzZSB8fCBtYXliZVNlcXVlbmNlKSB7XG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBvcHRpb25zIGZvciB0aGlzIHNldCBvZiBhbmltYXRpb25zLlxyXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHt9O1xuICAgICAgICB2YXIgaXNTeW5jID0gZGVmYXVsdHMkJDEuc3luYztcbiAgICAgICAgLy8gUHJpdmF0ZSBvcHRpb25zIGZpcnN0IC0gc2V0IGFzIG5vbi1lbnVtZXJhYmxlLCBhbmQgc3RhcnRpbmcgd2l0aCBhblxuICAgICAgICAvLyB1bmRlcnNjb3JlIHNvIHdlIGNhbiBmaWx0ZXIgdGhlbSBvdXQuXG4gICAgICAgIGlmIChwcm9taXNlKSB7XG4gICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eSQxKG9wdGlvbnMsIFwiX3Byb21pc2VcIiwgcHJvbWlzZSk7XG4gICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eSQxKG9wdGlvbnMsIFwiX3JlamVjdGVyXCIsIHJlamVjdGVyKTtcbiAgICAgICAgICAgIGRlZmluZVByb3BlcnR5JDEob3B0aW9ucywgXCJfcmVzb2x2ZXJcIiwgcmVzb2x2ZXIpO1xuICAgICAgICB9XG4gICAgICAgIGRlZmluZVByb3BlcnR5JDEob3B0aW9ucywgXCJfcmVhZHlcIiwgMCk7XG4gICAgICAgIGRlZmluZVByb3BlcnR5JDEob3B0aW9ucywgXCJfc3RhcnRlZFwiLCAwKTtcbiAgICAgICAgZGVmaW5lUHJvcGVydHkkMShvcHRpb25zLCBcIl9jb21wbGV0ZWRcIiwgMCk7XG4gICAgICAgIGRlZmluZVByb3BlcnR5JDEob3B0aW9ucywgXCJfdG90YWxcIiwgMCk7XG4gICAgICAgIC8vIE5vdyBjaGVjayB0aGUgb3B0aW9uc01hcFxuICAgICAgICBpZiAoaXNQbGFpbk9iamVjdChvcHRpb25zTWFwKSkge1xuICAgICAgICAgICAgdmFyIHZhbGlkRHVyYXRpb24gPSB2YWxpZGF0ZUR1cmF0aW9uKG9wdGlvbnNNYXAuZHVyYXRpb24pO1xuICAgICAgICAgICAgaGFzVmFsaWREdXJhdGlvbiA9IHZhbGlkRHVyYXRpb24gIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIG9wdGlvbnMuZHVyYXRpb24gPSBnZXRWYWx1ZSh2YWxpZER1cmF0aW9uLCBkZWZhdWx0cyQkMS5kdXJhdGlvbik7XG4gICAgICAgICAgICBvcHRpb25zLmRlbGF5ID0gZ2V0VmFsdWUodmFsaWRhdGVEZWxheShvcHRpb25zTWFwLmRlbGF5KSwgZGVmYXVsdHMkJDEuZGVsYXkpO1xuICAgICAgICAgICAgLy8gTmVlZCB0aGUgZXh0cmEgZmFsbGJhY2sgaGVyZSBpbiBjYXNlIGl0IHN1cHBsaWVzIGFuIGludmFsaWRcbiAgICAgICAgICAgIC8vIGVhc2luZyB0aGF0IHdlIG5lZWQgdG8gb3ZlcnJyaWRlIHdpdGggdGhlIGRlZmF1bHQuXG4gICAgICAgICAgICBvcHRpb25zLmVhc2luZyA9IHZhbGlkYXRlRWFzaW5nKGdldFZhbHVlKG9wdGlvbnNNYXAuZWFzaW5nLCBkZWZhdWx0cyQkMS5lYXNpbmcpLCBvcHRpb25zLmR1cmF0aW9uKSB8fCB2YWxpZGF0ZUVhc2luZyhkZWZhdWx0cyQkMS5lYXNpbmcsIG9wdGlvbnMuZHVyYXRpb24pO1xuICAgICAgICAgICAgb3B0aW9ucy5sb29wID0gZ2V0VmFsdWUodmFsaWRhdGVMb29wKG9wdGlvbnNNYXAubG9vcCksIGRlZmF1bHRzJCQxLmxvb3ApO1xuICAgICAgICAgICAgb3B0aW9ucy5yZXBlYXQgPSBvcHRpb25zLnJlcGVhdEFnYWluID0gZ2V0VmFsdWUodmFsaWRhdGVSZXBlYXQob3B0aW9uc01hcC5yZXBlYXQpLCBkZWZhdWx0cyQkMS5yZXBlYXQpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnNNYXAuc3BlZWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuc3BlZWQgPSBnZXRWYWx1ZSh2YWxpZGF0ZVNwZWVkKG9wdGlvbnNNYXAuc3BlZWQpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0Jvb2xlYW4ob3B0aW9uc01hcC5wcm9taXNlKSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMucHJvbWlzZSA9IG9wdGlvbnNNYXAucHJvbWlzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdGlvbnMucXVldWUgPSBnZXRWYWx1ZSh2YWxpZGF0ZVF1ZXVlKG9wdGlvbnNNYXAucXVldWUpLCBkZWZhdWx0cyQkMS5xdWV1ZSk7XG4gICAgICAgICAgICBpZiAob3B0aW9uc01hcC5tb2JpbGVIQSAmJiAhU3RhdGUuaXNHaW5nZXJicmVhZCkge1xuICAgICAgICAgICAgICAgIC8qIFdoZW4gc2V0IHRvIHRydWUsIGFuZCBpZiB0aGlzIGlzIGEgbW9iaWxlIGRldmljZSwgbW9iaWxlSEEgYXV0b21hdGljYWxseSBlbmFibGVzIGhhcmR3YXJlIGFjY2VsZXJhdGlvbiAodmlhIGEgbnVsbCB0cmFuc2Zvcm0gaGFjaylcclxuICAgICAgICAgICAgICAgICBvbiBhbmltYXRpbmcgZWxlbWVudHMuIEhBIGlzIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudCBhdCB0aGUgY29tcGxldGlvbiBvZiBpdHMgYW5pbWF0aW9uLiAqL1xuICAgICAgICAgICAgICAgIC8qIE5vdGU6IEFuZHJvaWQgR2luZ2VyYnJlYWQgZG9lc24ndCBzdXBwb3J0IEhBLiBJZiBhIG51bGwgdHJhbnNmb3JtIGhhY2sgKG1vYmlsZUhBKSBpcyBpbiBmYWN0IHNldCwgaXQgd2lsbCBwcmV2ZW50IG90aGVyIHRyYW5mb3JtIHN1YnByb3BlcnRpZXMgZnJvbSB0YWtpbmcgZWZmZWN0LiAqL1xuICAgICAgICAgICAgICAgIC8qIE5vdGU6IFlvdSBjYW4gcmVhZCBtb3JlIGFib3V0IHRoZSB1c2Ugb2YgbW9iaWxlSEEgaW4gVmVsb2NpdHkncyBkb2N1bWVudGF0aW9uOiB2ZWxvY2l0eS1hbmltYXRlLyNtb2JpbGVIQS4gKi9cbiAgICAgICAgICAgICAgICBvcHRpb25zLm1vYmlsZUhBID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zTWFwLmRyYWcgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRyYWcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzTnVtYmVyKG9wdGlvbnNNYXAuc3RhZ2dlcikgfHwgaXNGdW5jdGlvbihvcHRpb25zTWFwLnN0YWdnZXIpKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5zdGFnZ2VyID0gb3B0aW9uc01hcC5zdGFnZ2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc1JldmVyc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uc01hcFtcImRpc3BsYXlcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzTWFwLmRpc3BsYXkgPSBvcHRpb25zTWFwW1wiZGlzcGxheVwiXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkRlcHJlY2F0ZWQgXFxcIm9wdGlvbnMuZGlzcGxheVxcXCIgdXNlZCwgdGhpcyBpcyBub3cgYSBwcm9wZXJ0eTpcIiwgb3B0aW9uc01hcFtcImRpc3BsYXlcIl0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uc01hcFtcInZpc2liaWxpdHlcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzTWFwLnZpc2liaWxpdHkgPSBvcHRpb25zTWFwW1widmlzaWJpbGl0eVwiXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkRlcHJlY2F0ZWQgXFxcIm9wdGlvbnMudmlzaWJpbGl0eVxcXCIgdXNlZCwgdGhpcyBpcyBub3cgYSBwcm9wZXJ0eTpcIiwgb3B0aW9uc01hcFtcInZpc2liaWxpdHlcIl0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRPRE86IEFsbG93IGZ1bmN0aW9uYWwgb3B0aW9ucyBmb3IgZGlmZmVyZW50IG9wdGlvbnMgcGVyIGVsZW1lbnRcbiAgICAgICAgICAgIHZhciBvcHRpb25zQmVnaW4gPSB2YWxpZGF0ZUJlZ2luKG9wdGlvbnNNYXAuYmVnaW4pLFxuICAgICAgICAgICAgICAgIG9wdGlvbnNDb21wbGV0ZSA9IHZhbGlkYXRlQ29tcGxldGUob3B0aW9uc01hcC5jb21wbGV0ZSksXG4gICAgICAgICAgICAgICAgb3B0aW9uc1Byb2dyZXNzID0gdmFsaWRhdGVQcm9ncmVzcyhvcHRpb25zTWFwLnByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zU3luYyA9IHZhbGlkYXRlU3luYyhvcHRpb25zTWFwLnN5bmMpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnNCZWdpbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5iZWdpbiA9IG9wdGlvbnNCZWdpbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zQ29tcGxldGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuY29tcGxldGUgPSBvcHRpb25zQ29tcGxldGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9uc1Byb2dyZXNzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnByb2dyZXNzID0gb3B0aW9uc1Byb2dyZXNzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnNTeW5jICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpc1N5bmMgPSBvcHRpb25zU3luYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghc3ludGFjdGljU3VnYXIpIHtcbiAgICAgICAgICAgIC8vIEV4cGFuZCBhbnkgZGlyZWN0IG9wdGlvbnMgaWYgcG9zc2libGUuXG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIG9wdGlvbnMuZHVyYXRpb24gPSB2YWxpZGF0ZUR1cmF0aW9uKGFyZ3VtZW50cy5sZW5ndGggPD0gYXJndW1lbnRJbmRleCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1thcmd1bWVudEluZGV4XSwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5kdXJhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kdXJhdGlvbiA9IGRlZmF1bHRzJCQxLmR1cmF0aW9uO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBoYXNWYWxpZER1cmF0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBvZmZzZXQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNGdW5jdGlvbihhcmd1bWVudHMubGVuZ3RoIDw9IGFyZ3VtZW50SW5kZXggKyBvZmZzZXQgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbYXJndW1lbnRJbmRleCArIG9mZnNldF0pKSB7XG4gICAgICAgICAgICAgICAgLy8gRGVzcGl0ZSBjb21pbmcgYmVmb3JlIENvbXBsZXRlLCB3ZSBjYW4ndCBwYXNzIGEgZm4gZWFzaW5nXG4gICAgICAgICAgICAgICAgdmFyIGVhc2luZyA9IHZhbGlkYXRlRWFzaW5nKGFyZ3VtZW50cy5sZW5ndGggPD0gYXJndW1lbnRJbmRleCArIG9mZnNldCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1thcmd1bWVudEluZGV4ICsgb2Zmc2V0XSwgZ2V0VmFsdWUob3B0aW9ucyAmJiB2YWxpZGF0ZUR1cmF0aW9uKG9wdGlvbnMuZHVyYXRpb24pLCBkZWZhdWx0cyQkMS5kdXJhdGlvbiksIHRydWUpO1xuICAgICAgICAgICAgICAgIGlmIChlYXNpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQrKztcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5lYXNpbmcgPSBlYXNpbmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNvbXBsZXRlID0gdmFsaWRhdGVDb21wbGV0ZShhcmd1bWVudHMubGVuZ3RoIDw9IGFyZ3VtZW50SW5kZXggKyBvZmZzZXQgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbYXJndW1lbnRJbmRleCArIG9mZnNldF0sIHRydWUpO1xuICAgICAgICAgICAgaWYgKGNvbXBsZXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmNvbXBsZXRlID0gY29tcGxldGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRpb25zLmRlbGF5ID0gZGVmYXVsdHMkJDEuZGVsYXk7XG4gICAgICAgICAgICBvcHRpb25zLmxvb3AgPSBkZWZhdWx0cyQkMS5sb29wO1xuICAgICAgICAgICAgb3B0aW9ucy5yZXBlYXQgPSBvcHRpb25zLnJlcGVhdEFnYWluID0gZGVmYXVsdHMkJDEucmVwZWF0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1JldmVyc2UgJiYgb3B0aW9ucy5xdWV1ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlZlbG9jaXR5SlM6IENhbm5vdCByZXZlcnNlIGEgcXVldWU6ZmFsc2UgYW5pbWF0aW9uLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWhhc1ZhbGlkRHVyYXRpb24gJiYgbWF5YmVTZXF1ZW5jZSAmJiBtYXliZVNlcXVlbmNlLmR1cmF0aW9uKSB7XG4gICAgICAgICAgICBvcHRpb25zLmR1cmF0aW9uID0gbWF5YmVTZXF1ZW5jZS5kdXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICAvLyBXaGVuIGEgc2V0IG9mIGVsZW1lbnRzIGlzIHRhcmdldGVkIGJ5IGEgVmVsb2NpdHkgY2FsbCwgdGhlIHNldCBpc1xuICAgICAgICAvLyBicm9rZW4gdXAgYW5kIGVhY2ggZWxlbWVudCBoYXMgdGhlIGN1cnJlbnQgVmVsb2NpdHkgY2FsbCBpbmRpdmlkdWFsbHlcbiAgICAgICAgLy8gcXVldWVkIG9udG8gaXQuIEluIHRoaXMgd2F5LCBlYWNoIGVsZW1lbnQncyBleGlzdGluZyBxdWV1ZSBpc1xuICAgICAgICAvLyByZXNwZWN0ZWQ7IHNvbWUgZWxlbWVudHMgbWF5IGFscmVhZHkgYmUgYW5pbWF0aW5nIGFuZCBhY2NvcmRpbmdseVxuICAgICAgICAvLyBzaG91bGQgbm90IGhhdmUgdGhpcyBjdXJyZW50IFZlbG9jaXR5IGNhbGwgdHJpZ2dlcmVkIGltbWVkaWF0ZWx5XG4gICAgICAgIC8vIHVubGVzcyB0aGUgc3luYzp0cnVlIG9wdGlvbiBpcyB1c2VkLlxuICAgICAgICB2YXIgcm9vdEFuaW1hdGlvbiA9IHtcbiAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgICAgICBlbGVtZW50czogZWxlbWVudHMsXG4gICAgICAgICAgICBfcHJldjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgX25leHQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIF9mbGFnczogaXNTeW5jID8gMzIgLyogU1lOQyAqLyA6IDAsXG4gICAgICAgICAgICBwZXJjZW50Q29tcGxldGU6IDAsXG4gICAgICAgICAgICBlbGxhcHNlZFRpbWU6IDAsXG4gICAgICAgICAgICB0aW1lU3RhcnQ6IDBcbiAgICAgICAgfTtcbiAgICAgICAgYW5pbWF0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgZWxlbWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRzW2luZGV4XTtcbiAgICAgICAgICAgIHZhciBmbGFncyA9IDA7XG4gICAgICAgICAgICBpZiAoaXNOb2RlKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogVGhpcyBuZWVkcyB0byBjaGVjayBmb3IgdmFsaWQgYW5pbWF0aW9uIHRhcmdldHMsIG5vdCBqdXN0IEVsZW1lbnRzXG4gICAgICAgICAgICAgICAgaWYgKGlzUmV2ZXJzZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdEFuaW1hdGlvbiA9IERhdGEoZWxlbWVudCkubGFzdEFuaW1hdGlvbkxpc3Rbb3B0aW9ucy5xdWV1ZV07XG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXNNYXAgPSBsYXN0QW5pbWF0aW9uICYmIGxhc3RBbmltYXRpb24udHdlZW5zO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXByb3BlcnRpZXNNYXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJWZWxvY2l0eUpTOiBBdHRlbXB0aW5nIHRvIHJldmVyc2UgYW4gYW5pbWF0aW9uIG9uIGFuIGVsZW1lbnQgd2l0aCBubyBwcmV2aW91cyBhbmltYXRpb246XCIsIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmxhZ3MgfD0gNjQgLyogUkVWRVJTRSAqLyAmIH4obGFzdEFuaW1hdGlvbi5fZmxhZ3MgJiA2NCAvKiBSRVZFUlNFICovKTsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBPYmplY3QuYXNzaWduKHt9LCByb290QW5pbWF0aW9uLCB7IGVsZW1lbnQ6IGVsZW1lbnQsIF9mbGFnczogcm9vdEFuaW1hdGlvbi5fZmxhZ3MgfCBmbGFncyB9KTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLl90b3RhbCsrO1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMucHVzaChhbmltYXRpb24pO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnN0YWdnZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy5zdGFnZ2VyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG51bSA9IG9wdGlvbkNhbGxiYWNrKG9wdGlvbnMuc3RhZ2dlciwgZWxlbWVudCwgaW5kZXgsIGVsZW1lbnRzLmxlbmd0aCwgZWxlbWVudHMsIFwic3RhZ2dlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc051bWJlcihudW0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLmRlbGF5ID0gb3B0aW9ucy5kZWxheSArIG51bTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5kZWxheSA9IG9wdGlvbnMuZGVsYXkgKyBvcHRpb25zLnN0YWdnZXIgKiBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kcmFnKSB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5kdXJhdGlvbiA9IG9wdGlvbnMuZHVyYXRpb24gLSBvcHRpb25zLmR1cmF0aW9uICogTWF0aC5tYXgoMSAtIChpbmRleCArIDEpIC8gZWxlbWVudHMubGVuZ3RoLCAwLjc1KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1heWJlU2VxdWVuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhwYW5kU2VxdWVuY2UoYW5pbWF0aW9uLCBtYXliZVNlcXVlbmNlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzUmV2ZXJzZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJbiB0aGlzIGNhc2Ugd2UncmUgdXNpbmcgdGhlIHByZXZpb3VzIGFuaW1hdGlvbiwgc29cbiAgICAgICAgICAgICAgICAgICAgLy8gaXQgd2lsbCBiZSBleHBhbmRlZCBjb3JyZWN0bHkgd2hlbiB0aGF0IG9uZSBydW5zLlxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24udHdlZW5zID0gcHJvcGVydGllc01hcDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24udHdlZW5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgZXhwYW5kUHJvcGVydGllcyhhbmltYXRpb24sIHByb3BlcnRpZXNNYXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBxdWV1ZSQxKGVsZW1lbnQsIGFuaW1hdGlvbiwgb3B0aW9ucy5xdWV1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFN0YXRlLmlzVGlja2luZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBhbmltYXRpb24gdGljayBpc24ndCBydW5uaW5nLCBzdGFydCBpdC4gKFZlbG9jaXR5IHNodXRzIGl0XG4gICAgICAgICAgICAvLyBvZmYgd2hlbiB0aGVyZSBhcmUgbm8gYWN0aXZlIGNhbGxzIHRvIHByb2Nlc3MuKVxuICAgICAgICAgICAgdGljayhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFuaW1hdGlvbnMpIHtcbiAgICAgICAgICAgIGRlZmluZVByb3BlcnR5JDEoZWxlbWVudHMudmVsb2NpdHksIFwiYW5pbWF0aW9uc1wiLCBhbmltYXRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKioqKioqKioqKioqKioqXHJcbiAgICAgQ2hhaW5pbmdcclxuICAgICAqKioqKioqKioqKioqKiovXG4gICAgLyogUmV0dXJuIHRoZSBlbGVtZW50cyBiYWNrIHRvIHRoZSBjYWxsIGNoYWluLCB3aXRoIHdyYXBwZWQgZWxlbWVudHMgdGFraW5nIHByZWNlZGVuY2UgaW4gY2FzZSBWZWxvY2l0eSB3YXMgY2FsbGVkIHZpYSB0aGUgJC5mbi4gZXh0ZW5zaW9uLiAqL1xuICAgIHJldHVybiBlbGVtZW50cyB8fCBwcm9taXNlO1xufVxuLyoqXHJcbiAqIENhbGwgYW4gb3B0aW9uIGNhbGxiYWNrIGluIGEgdHJ5L2NhdGNoIGJsb2NrIGFuZCByZXBvcnQgYW4gZXJyb3IgaWYgbmVlZGVkLlxyXG4gKi9cbmZ1bmN0aW9uIG9wdGlvbkNhbGxiYWNrKGZuLCBlbGVtZW50LCBpbmRleCwgbGVuZ3RoLCBlbGVtZW50cywgb3B0aW9uKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwoZWxlbWVudCwgaW5kZXgsIGxlbmd0aCwgZWxlbWVudHMsIG9wdGlvbik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVmVsb2NpdHlKUzogRXhjZXB0aW9uIHdoZW4gY2FsbGluZyAnXCIgKyBvcHRpb24gKyBcIicgY2FsbGJhY2s6XCIsIGUpO1xuICAgIH1cbn1cblxuLy8gUHJvamVjdFxuLyoqXHJcbiAqIFVzZWQgdG8gcGF0Y2ggYW55IG9iamVjdCB0byBhbGxvdyBWZWxvY2l0eSBjaGFpbmluZy4gSW4gb3JkZXIgdG8gY2hhaW4gYW5cclxuICogb2JqZWN0IG11c3QgZWl0aGVyIGJlIHRyZWF0YWJsZSBhcyBhbiBhcnJheSAtIHdpdGggYSA8Y29kZT4ubGVuZ3RoPC9jb2RlPlxyXG4gKiBwcm9wZXJ0eSwgYW5kIGVhY2ggbWVtYmVyIGEgTm9kZSwgb3IgYSBOb2RlIGRpcmVjdGx5LlxyXG4gKlxyXG4gKiBCeSBkZWZhdWx0IFZlbG9jaXR5IHdpbGwgdHJ5IHRvIHBhdGNoIDxjb2RlPndpbmRvdzwvY29kZT4sXHJcbiAqIDxjb2RlPmpRdWVyeTwvY29kZT4sIDxjb2RlPlplcHRvPC9jb2RlPiwgYW5kIHNldmVyYWwgY2xhc3NlcyB0aGF0IHJldHVyblxyXG4gKiBOb2RlcyBvciBsaXN0cyBvZiBOb2Rlcy5cclxuICovXG5mdW5jdGlvbiBwYXRjaChwcm90bywgZ2xvYmFsKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgZGVmaW5lUHJvcGVydHkkMShwcm90bywgKGdsb2JhbCA/IFwiVlwiIDogXCJ2XCIpICsgXCJlbG9jaXR5XCIsIFZlbG9jaXR5JDEpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogRXJyb3Igd2hlbiB0cnlpbmcgdG8gYWRkIHByb3RvdHlwZS5cIiwgZSk7XG4gICAgfVxufVxuXG4vLyBQcm9qZWN0XG52YXIgVmVsb2NpdHkkMiA9IFZlbG9jaXR5JDE7XG4vKipcclxuICogVGhlc2UgcGFydHMgb2YgVmVsb2NpdHkgYWJzb2x1dGVseSBtdXN0IGJlIGluY2x1ZGVkLCBldmVuIGlmIHRoZXkncmUgdW51c2VkIVxyXG4gKi9cbnZhciBWZWxvY2l0eVN0YXRpYyQxO1xuKGZ1bmN0aW9uIChWZWxvY2l0eVN0YXRpYykge1xuICAgIC8qKlxyXG4gICAgICogQWN0aW9ucyBjYW5ub3QgYmUgcmVwbGFjZWQgaWYgdGhleSBhcmUgaW50ZXJuYWwgKGhhc093blByb3BlcnR5IGlzIGZhbHNlXHJcbiAgICAgKiBidXQgdGhleSBzdGlsbCBleGlzdCkuIE90aGVyd2lzZSB0aGV5IGNhbiBiZSByZXBsYWNlZCBieSB1c2Vycy5cclxuICAgICAqXHJcbiAgICAgKiBBbGwgZXh0ZXJuYWwgbWV0aG9kIGNhbGxzIHNob3VsZCBiZSB1c2luZyBhY3Rpb25zIHJhdGhlciB0aGFuIHN1Yi1jYWxsc1xyXG4gICAgICogb2YgVmVsb2NpdHkgaXRzZWxmLlxyXG4gICAgICovXG4gICAgVmVsb2NpdHlTdGF0aWMuQWN0aW9ucyA9IEFjdGlvbnM7XG4gICAgLyoqXHJcbiAgICAgKiBPdXIga25vd24gZWFzaW5nIGZ1bmN0aW9ucy5cclxuICAgICAqL1xuICAgIFZlbG9jaXR5U3RhdGljLkVhc2luZ3MgPSBFYXNpbmdzO1xuICAgIC8qKlxyXG4gICAgICogVGhlIGN1cnJlbnRseSByZWdpc3RlcmVkIHNlcXVlbmNlcy5cclxuICAgICAqL1xuICAgIFZlbG9jaXR5U3RhdGljLlNlcXVlbmNlcyA9IFNlcXVlbmNlc09iamVjdDtcbiAgICAvKipcclxuICAgICAqIEN1cnJlbnQgaW50ZXJuYWwgc3RhdGUgb2YgVmVsb2NpdHkuXHJcbiAgICAgKi9cbiAgICBWZWxvY2l0eVN0YXRpYy5TdGF0ZSA9IFN0YXRlOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLXNoYWRvd2VkLXZhcmlhYmxlXG4gICAgLyoqXHJcbiAgICAgKiBWZWxvY2l0eSBvcHRpb24gZGVmYXVsdHMsIHdoaWNoIGNhbiBiZSBvdmVycmlkZW4gYnkgdGhlIHVzZXIuXHJcbiAgICAgKi9cbiAgICBWZWxvY2l0eVN0YXRpYy5kZWZhdWx0cyA9IGRlZmF1bHRzJDE7XG4gICAgLyoqXHJcbiAgICAgKiBVc2VkIHRvIHBhdGNoIGFueSBvYmplY3QgdG8gYWxsb3cgVmVsb2NpdHkgY2hhaW5pbmcuIEluIG9yZGVyIHRvIGNoYWluIGFuXHJcbiAgICAgKiBvYmplY3QgbXVzdCBlaXRoZXIgYmUgdHJlYXRhYmxlIGFzIGFuIGFycmF5IC0gd2l0aCBhIDxjb2RlPi5sZW5ndGg8L2NvZGU+XHJcbiAgICAgKiBwcm9wZXJ0eSwgYW5kIGVhY2ggbWVtYmVyIGEgTm9kZSwgb3IgYSBOb2RlIGRpcmVjdGx5LlxyXG4gICAgICpcclxuICAgICAqIEJ5IGRlZmF1bHQgVmVsb2NpdHkgd2lsbCB0cnkgdG8gcGF0Y2ggPGNvZGU+d2luZG93PC9jb2RlPixcclxuICAgICAqIDxjb2RlPmpRdWVyeTwvY29kZT4sIDxjb2RlPlplcHRvPC9jb2RlPiwgYW5kIHNldmVyYWwgY2xhc3NlcyB0aGF0IHJldHVyblxyXG4gICAgICogTm9kZXMgb3IgbGlzdHMgb2YgTm9kZXMuXHJcbiAgICAgKi9cbiAgICBWZWxvY2l0eVN0YXRpYy5wYXRjaCA9IHBhdGNoO1xuICAgIC8qKlxyXG4gICAgICogU2V0IHRvIHRydWUsIDEgb3IgMiAobW9zdCB2ZXJib3NlKSB0byBvdXRwdXQgZGVidWcgaW5mbyB0byBjb25zb2xlLlxyXG4gICAgICovXG4gICAgVmVsb2NpdHlTdGF0aWMuZGVidWcgPSBmYWxzZTtcbiAgICAvKipcclxuICAgICAqIEluIG1vY2sgbW9kZSwgYWxsIGFuaW1hdGlvbnMgYXJlIGZvcmNlZCB0byBjb21wbGV0ZSBpbW1lZGlhdGVseSB1cG9uIHRoZVxyXG4gICAgICogbmV4dCByQUYgdGljay4gSWYgdGhlcmUgYXJlIGZ1cnRoZXIgYW5pbWF0aW9ucyBxdWV1ZWQgdGhlbiB0aGV5IHdpbGwgZWFjaFxyXG4gICAgICogdGFrZSBvbmUgc2luZ2xlIGZyYW1lIGluIHR1cm4uIExvb3BzIGFuZCByZXBlYXRzIHdpbGwgYmUgZGlzYWJsZWQgd2hpbGVcclxuICAgICAqIDxjb2RlPm1vY2sgPSB0cnVlPC9jb2RlPi5cclxuICAgICAqL1xuICAgIFZlbG9jaXR5U3RhdGljLm1vY2sgPSBmYWxzZTtcbiAgICAvKipcclxuICAgICAqIFNhdmUgb3VyIHZlcnNpb24gbnVtYmVyIHNvbWV3aGVyZSB2aXNpYmxlLlxyXG4gICAgICovXG4gICAgVmVsb2NpdHlTdGF0aWMudmVyc2lvbiA9IFZFUlNJT047XG4gICAgLyoqXHJcbiAgICAgKiBBZGRlZCBhcyBhIGZhbGxiYWNrIGZvciBcImltcG9ydCB7VmVsb2NpdHl9IGZyb20gJ3ZlbG9jaXR5LWFuaW1hdGUnO1wiLlxyXG4gICAgICovXG4gICAgVmVsb2NpdHlTdGF0aWMuVmVsb2NpdHkgPSBWZWxvY2l0eSQxOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLXNoYWRvd2VkLXZhcmlhYmxlXG59KShWZWxvY2l0eVN0YXRpYyQxIHx8IChWZWxvY2l0eVN0YXRpYyQxID0ge30pKTtcbi8qIElFIGRldGVjdGlvbi4gR2lzdDogaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vanVsaWFuc2hhcGlyby85MDk4NjA5ICovXG52YXIgSUUkMSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudE1vZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDc7IGkgPiA0OyBpLS0pIHtcbiAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IFwiPCFcIiArIFwiLS1cIiArIFwiW2lmIElFIFwiICsgaSArIFwiXT48c3Bhbj48L3NwYW4+PCFbZW5kaWZdLS0+XCI7XG4gICAgICAgICAgICBpZiAoZGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic3BhblwiKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBkaXYgPSBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59KCk7XG4vKioqKioqKioqKioqKioqKioqXHJcbiBVbnN1cHBvcnRlZFxyXG4gKioqKioqKioqKioqKioqKioqL1xuaWYgKElFJDEgPD0gOCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlZlbG9jaXR5SlMgY2Fubm90IHJ1biBvbiBJbnRlcm5ldCBFeHBsb3JlciA4IG9yIGVhcmxpZXJcIik7XG59XG4vKioqKioqKioqKioqKioqKioqXHJcbiBGcmFtZXdvcmtzXHJcbiAqKioqKioqKioqKioqKioqKiovXG5pZiAod2luZG93KSB7XG4gICAgLypcclxuICAgICAqIEJvdGggalF1ZXJ5IGFuZCBaZXB0byBhbGxvdyB0aGVpciAkLmZuIG9iamVjdCB0byBiZSBleHRlbmRlZCB0byBhbGxvd1xyXG4gICAgICogd3JhcHBlZCBlbGVtZW50cyB0byBiZSBzdWJqZWN0ZWQgdG8gcGx1Z2luIGNhbGxzLiBJZiBlaXRoZXIgZnJhbWV3b3JrIGlzXHJcbiAgICAgKiBsb2FkZWQsIHJlZ2lzdGVyIGEgXCJ2ZWxvY2l0eVwiIGV4dGVuc2lvbiBwb2ludGluZyB0byBWZWxvY2l0eSdzIGNvcmVcclxuICAgICAqIGFuaW1hdGUoKSBtZXRob2QuIFZlbG9jaXR5IGFsc28gcmVnaXN0ZXJzIGl0c2VsZiBvbnRvIGEgZ2xvYmFsIGNvbnRhaW5lclxyXG4gICAgICogKHdpbmRvdy5qUXVlcnkgfHwgd2luZG93LlplcHRvIHx8IHdpbmRvdykgc28gdGhhdCBjZXJ0YWluIGZlYXR1cmVzIGFyZVxyXG4gICAgICogYWNjZXNzaWJsZSBiZXlvbmQganVzdCBhIHBlci1lbGVtZW50IHNjb3BlLiBBY2NvcmRpbmdseSwgVmVsb2NpdHkgY2FuXHJcbiAgICAgKiBib3RoIGFjdCBvbiB3cmFwcGVkIERPTSBlbGVtZW50cyBhbmQgc3RhbmQgYWxvbmUgZm9yIHRhcmdldGluZyByYXcgRE9NXHJcbiAgICAgKiBlbGVtZW50cy5cclxuICAgICAqL1xuICAgIHZhciBqUXVlcnkkMSA9IHdpbmRvdy5qUXVlcnksXG4gICAgICAgIFplcHRvJDEgPSB3aW5kb3cuWmVwdG87XG4gICAgcGF0Y2god2luZG93LCB0cnVlKTtcbiAgICBwYXRjaChFbGVtZW50ICYmIEVsZW1lbnQucHJvdG90eXBlKTtcbiAgICBwYXRjaChOb2RlTGlzdCAmJiBOb2RlTGlzdC5wcm90b3R5cGUpO1xuICAgIHBhdGNoKEhUTUxDb2xsZWN0aW9uICYmIEhUTUxDb2xsZWN0aW9uLnByb3RvdHlwZSk7XG4gICAgcGF0Y2goalF1ZXJ5JDEsIHRydWUpO1xuICAgIHBhdGNoKGpRdWVyeSQxICYmIGpRdWVyeSQxLmZuKTtcbiAgICBwYXRjaChaZXB0byQxLCB0cnVlKTtcbiAgICBwYXRjaChaZXB0byQxICYmIFplcHRvJDEuZm4pO1xufVxuLy8gTWFrZSBzdXJlIHRoYXQgdGhlIHZhbHVlcyB3aXRoaW4gVmVsb2NpdHkgYXJlIHJlYWQtb25seSBhbmQgdXBhdGNoYWJsZS5cblxudmFyIF9sb29wJDEgPSBmdW5jdGlvbiBfbG9vcChwcm9wZXJ0eSkge1xuICAgIGlmIChWZWxvY2l0eVN0YXRpYyQxLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgICAgICBzd2l0Y2ggKHR5cGVvZiBwcm9wZXJ0eSA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHByb3BlcnR5KSkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eSQxKFZlbG9jaXR5JDIsIHByb3BlcnR5LCB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFZlbG9jaXR5U3RhdGljJDFbcHJvcGVydHldO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgVmVsb2NpdHlTdGF0aWMkMVtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eSQxKFZlbG9jaXR5JDIsIHByb3BlcnR5LCBWZWxvY2l0eVN0YXRpYyQxW3Byb3BlcnR5XSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5mb3IgKHZhciBwcm9wZXJ0eSQxIGluIFZlbG9jaXR5U3RhdGljJDEpIHtcbiAgICBfbG9vcCQxKHByb3BlcnR5JDEpO1xufVxuT2JqZWN0LmZyZWV6ZShWZWxvY2l0eSQyKTtcblxuZXhwb3J0IGRlZmF1bHQgVmVsb2NpdHkkMjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlbG9jaXR5LmVzNS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8581\n')}},__webpack_module_cache__={};function __webpack_require__(I){var g=__webpack_module_cache__[I];if(void 0!==g)return g.exports;var n=__webpack_module_cache__[I]={id:I,exports:{}};return __webpack_modules__[I].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=I=>{var g=I&&I.__esModule?()=>I.default:()=>I;return __webpack_require__.d(g,{a:g}),g},__webpack_require__.d=(I,g)=>{for(var n in g)__webpack_require__.o(g,n)&&!__webpack_require__.o(I,n)&&Object.defineProperty(I,n,{enumerable:!0,get:g[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(I){if("object"==typeof window)return window}}(),__webpack_require__.o=(I,g)=>Object.prototype.hasOwnProperty.call(I,g),__webpack_require__.r=I=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(4256)})();